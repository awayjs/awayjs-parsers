require=function e(t,a,s){function r(n,o){if(!a[n]){if(!t[n]){var h=typeof require=="function"&&require;if(!o&&h)return h(n,!0);if(i)return i(n,!0);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}var d=a[n]={exports:{}};t[n][0].call(d.exports,function(e){var a=t[n][1][e];return r(a?a:e)},d,d.exports,e,t,a,s)}return a[n].exports}var i=typeof require=="function"&&require;for(var n=0;n<s.length;n++)r(s[n]);return r}({"awayjs-parsers/lib/AWD3ParserUtils/AWD3Utils":[function(e,t,a){var s=function(){function e(){}e.BLOCKSTATE_FINALIZE=0;e.BLOCKSTATE_INVALID=1;e.BLOCKSTATE_LOAD_DEPENDENICES=2;e.BLOCKSTATE_NO_ASSET=3;e.COMPRESSIONMODE_LZMA="lzma";e.UNCOMPRESSED=0;e.DEFLATE=1;e.LZMA=2;e.INT8=1;e.INT16=2;e.INT32=3;e.UINT8=4;e.UINT16=5;e.UINT32=6;e.FLOAT32=7;e.FLOAT64=8;e.BOOL=21;e.COLOR=22;e.BADDR=23;e.AWDSTRING=31;e.AWDBYTEARRAY=32;e.VECTOR2x1=41;e.VECTOR3x1=42;e.VECTOR4x1=43;e.MTX3x2=44;e.MTX3x3=45;e.MTX4x3=46;e.MTX4x4=47;return e}();t.exports=s},{}],"awayjs-parsers/lib/AWD3ParserUtils/AWDBlock":[function(e,t,a){var s=e("awayjs-parsers/lib/AWD3ParserUtils/AWD3Utils");var r=function(){function e(e,t){this.type=t;this.id=e;this.state=s.BLOCKSTATE_FINALIZE;this.dependencies_data=Array();this.dependencies_urls=Array();if(t==83){this.loaded_dependencies=Array(6)}this.loaded_dependencies_cnt=0}e.prototype.dispose=function(){this.id=null;this.bytes=null;this.errorMessages=null;this.uvsForVertexAnimation=null};e.prototype.addError=function(e){if(!this.errorMessages)this.errorMessages=new Array;this.errorMessages.push(e)};return e}();t.exports=r},{"awayjs-parsers/lib/AWD3ParserUtils/AWD3Utils":"awayjs-parsers/lib/AWD3ParserUtils/AWD3Utils"}],"awayjs-parsers/lib/AWDParser":[function(e,t,a){var s=this.__extends||function(e,t){for(var a in t)if(t.hasOwnProperty(a))e[a]=t[a];function s(){this.constructor=e}s.prototype=t.prototype;e.prototype=new s};var r=e("awayjs-core/lib/attributes/AttributesBuffer");var i=e("awayjs-core/lib/attributes/Float3Attributes");var n=e("awayjs-core/lib/attributes/Float2Attributes");var o=e("awayjs-core/lib/image/BitmapImageCube");var h=e("awayjs-core/lib/image/BlendMode");var l=e("awayjs-core/lib/image/Sampler2D");var d=e("awayjs-core/lib/geom/ColorTransform");var c=e("awayjs-core/lib/geom/Matrix3D");var p=e("awayjs-core/lib/geom/Vector3D");var _=e("awayjs-core/lib/net/URLLoaderDataFormat");var u=e("awayjs-core/lib/net/URLRequest");var y=e("awayjs-core/lib/parsers/ParserBase");var f=e("awayjs-core/lib/parsers/ParserUtils");var m=e("awayjs-core/lib/projections/PerspectiveProjection");var b=e("awayjs-core/lib/projections/OrthographicProjection");var g=e("awayjs-core/lib/projections/OrthographicOffCenterProjection");var v=e("awayjs-core/lib/utils/ByteArray");var w=e("awayjs-display/lib/containers/DisplayObjectContainer");var B=e("awayjs-display/lib/graphics/Graphics");var k=e("awayjs-display/lib/graphics/TriangleElements");var M=e("awayjs-display/lib/entities/DirectionalLight");var N=e("awayjs-display/lib/entities/PointLight");var D=e("awayjs-display/lib/entities/Camera");var A=e("awayjs-display/lib/entities/Mesh");var x=e("awayjs-display/lib/entities/Billboard");var T=e("awayjs-display/lib/entities/Skybox");var P=e("awayjs-display/lib/managers/DefaultMaterialManager");var E=e("awayjs-display/lib/materials/lightpickers/StaticLightPicker");var U=e("awayjs-display/lib/materials/shadowmappers/CubeMapShadowMapper");var S=e("awayjs-display/lib/materials/shadowmappers/DirectionalShadowMapper");var I=e("awayjs-display/lib/prefabs/PrefabBase");var j=e("awayjs-display/lib/prefabs/PrimitiveCapsulePrefab");var O=e("awayjs-display/lib/prefabs/PrimitiveConePrefab");var R=e("awayjs-display/lib/prefabs/PrimitiveCubePrefab");var F=e("awayjs-display/lib/prefabs/PrimitiveCylinderPrefab");var L=e("awayjs-display/lib/prefabs/PrimitivePlanePrefab");var C=e("awayjs-display/lib/prefabs/PrimitiveSpherePrefab");var G=e("awayjs-display/lib/prefabs/PrimitiveTorusPrefab");var V=e("awayjs-display/lib/textures/SingleCubeTexture");var z=e("awayjs-display/lib/textures/Single2DTexture");var K=e("awayjs-renderergl/lib/animators/VertexAnimationSet");var W=e("awayjs-renderergl/lib/animators/VertexAnimator");var H=e("awayjs-renderergl/lib/animators/SkeletonAnimationSet");var J=e("awayjs-renderergl/lib/animators/SkeletonAnimator");var Y=e("awayjs-renderergl/lib/animators/data/JointPose");var X=e("awayjs-renderergl/lib/animators/data/Skeleton");var Q=e("awayjs-renderergl/lib/animators/data/SkeletonPose");var q=e("awayjs-renderergl/lib/animators/data/SkeletonJoint");var Z=e("awayjs-renderergl/lib/animators/nodes/SkeletonClipNode");var $=e("awayjs-renderergl/lib/animators/nodes/VertexClipNode");var et=e("awayjs-methodmaterials/lib/MethodMaterialMode");var tt=e("awayjs-methodmaterials/lib/MethodMaterial");var at=e("awayjs-methodmaterials/lib/methods/AmbientEnvMapMethod");var st=e("awayjs-methodmaterials/lib/methods/DiffuseDepthMethod");var rt=e("awayjs-methodmaterials/lib/methods/DiffuseCelMethod");var it=e("awayjs-methodmaterials/lib/methods/DiffuseGradientMethod");var nt=e("awayjs-methodmaterials/lib/methods/DiffuseLightMapMethod");var ot=e("awayjs-methodmaterials/lib/methods/DiffuseWrapMethod");var ht=e("awayjs-methodmaterials/lib/methods/EffectAlphaMaskMethod");var lt=e("awayjs-methodmaterials/lib/methods/EffectColorMatrixMethod");var dt=e("awayjs-methodmaterials/lib/methods/EffectColorTransformMethod");var ct=e("awayjs-methodmaterials/lib/methods/EffectEnvMapMethod");var pt=e("awayjs-methodmaterials/lib/methods/EffectFogMethod");var _t=e("awayjs-methodmaterials/lib/methods/EffectFresnelEnvMapMethod");var ut=e("awayjs-methodmaterials/lib/methods/EffectLightMapMethod");var yt=e("awayjs-methodmaterials/lib/methods/EffectRimLightMethod");var ft=e("awayjs-methodmaterials/lib/methods/NormalSimpleWaterMethod");var mt=e("awayjs-methodmaterials/lib/methods/ShadowDitheredMethod");var bt=e("awayjs-methodmaterials/lib/methods/ShadowFilteredMethod");var gt=e("awayjs-methodmaterials/lib/methods/SpecularFresnelMethod");var vt=e("awayjs-methodmaterials/lib/methods/ShadowHardMethod");var wt=e("awayjs-methodmaterials/lib/methods/SpecularAnisotropicMethod");var Bt=e("awayjs-methodmaterials/lib/methods/SpecularCelMethod");var kt=e("awayjs-methodmaterials/lib/methods/SpecularPhongMethod");var Mt=e("awayjs-methodmaterials/lib/methods/ShadowNearMethod");var Nt=e("awayjs-methodmaterials/lib/methods/ShadowSoftMethod");var Dt=e("awayjs-display/lib/materials/BasicMaterial");var At=e("awayjs-player/lib/factories/AS2SceneGraphFactory");var xt=e("awayjs-display/lib/base/Timeline");var Tt=e("awayjs-core/lib/library/AssetLibrary");var Pt=e("awayjs-display/lib/text/Font");var Et=e("awayjs-display/lib/text/TextFormat");var Ut=e("awayjs-parsers/lib/AWD3ParserUtils/AWDBlock");var St=e("awayjs-core/lib/geom/Rectangle");var It=e("awayjs-display/lib/base/Style");var jt=e("awayjs-core/lib/geom/Matrix");var Ot=e("awayjs-display/lib/textures/MappingMode");var Rt=e("awayjs-display/lib/graphics/ElementsType");var Ft=function(e){s(t,e);function t(a){if(a===void 0){a=null}e.call(this,_.ARRAY_BUFFER);this._debug=false;this._debugTimers=true;this._startedParsing=false;this._texture_users={};this._parsed_header=false;this._time_all=0;this._time_graphics=0;this._time_graphics_bytes=0;this._time_timeline=0;this._time_fonts=0;this._time_textfields=0;this._time_sounds=0;this._time_textures=0;this._time_materials=0;this._time_meshes=0;this._num_graphics=0;this._num_timeline=0;this._num_fonts=0;this._num_textfields=0;this._num_sounds=0;this._num_textures=0;this._num_materials=0;this._num_meshes=0;this.shadowMethodListProperties={1:t.BADDR,2:t.BADDR,3:t.BADDR,101:t.PROPERTY_NUMBER,102:t.PROPERTY_NUMBER,103:t.PROPERTY_NUMBER,201:t.UINT32,202:t.UINT32,301:t.UINT16,302:t.UINT16,401:t.UINT8,402:t.UINT8,601:t.COLOR,602:t.COLOR,701:t.BOOL,702:t.BOOL,801:t.MTX4x4};this.meshPoseAnimationProperties={1:t.BOOL,2:t.BOOL};this.sharedMethodListProperties={1:t.BADDR,2:t.BADDR,3:t.BADDR,101:t.PROPERTY_NUMBER,102:t.PROPERTY_NUMBER,103:t.PROPERTY_NUMBER,104:t.PROPERTY_NUMBER,105:t.PROPERTY_NUMBER,106:t.PROPERTY_NUMBER,107:t.PROPERTY_NUMBER,201:t.UINT32,202:t.UINT32,301:t.UINT16,302:t.UINT16,401:t.UINT8,402:t.UINT8,601:t.COLOR,602:t.COLOR,701:t.BOOL,702:t.BOOL};this._view=a;this._blocks=new Array;this._blocks[0]=new Ut(0,255);this._blocks[0].data=null;this.blendModeDic=new Array;this.blendModeDic.push(h.NORMAL);this.blendModeDic.push(h.ADD);this.blendModeDic.push(h.ALPHA);this.blendModeDic.push(h.DARKEN);this.blendModeDic.push(h.DIFFERENCE);this.blendModeDic.push(h.ERASE);this.blendModeDic.push(h.HARDLIGHT);this.blendModeDic.push(h.INVERT);this.blendModeDic.push(h.LAYER);this.blendModeDic.push(h.LIGHTEN);this.blendModeDic.push(h.MULTIPLY);this.blendModeDic.push(h.NORMAL);this.blendModeDic.push(h.OVERLAY);this.blendModeDic.push(h.SCREEN);this.blendModeDic.push(h.SHADER);this.blendModeDic.push(h.OVERLAY);this._depthSizeDic=new Array;this._depthSizeDic.push(256);this._depthSizeDic.push(512);this._depthSizeDic.push(2048);this._depthSizeDic.push(1024);this._version=Array()}t.supportsType=function(e){e=e.toLowerCase();return e=="awd"};t.supportsData=function(e){return f.toString(e,3)=="AWD"};t.prototype._iResolveDependency=function(e){if(e.assets.length==1){var t=this._blocks[parseInt(e.id)];if(t.type==82){var a=e.assets[0];t.data=a;this._pFinalizeAsset(a,t.name);if(this._debug)console.log("Parsed Texture: Name = "+t.name)}else if(t.type==44){var s=e.assets[0];t.data=s;this._pFinalizeAsset(s,t.name);if(this._debug)console.log("Parsed WaveAudio: Name = "+t.name)}else if(t.type==83){t.loaded_dependencies[e.sub_id]=e.assets[0];t.loaded_dependencies_cnt++;if(this._debug)console.log("Successfully loaded Bitmap "+e.sub_id+" / 6 for Cubetexture");if(t.loaded_dependencies_cnt==6){var r=new o(t.loaded_dependencies[0].width);for(var i=0;i<6;i++)r.draw(i,t.loaded_dependencies[i]);t.data=r;this._pFinalizeAsset(r,t.name);if(this._debug)console.log("Parsed CubeTexture: Name = "+t.name)}}if(this._debugTimers&&!this._isParsing)this.updateTimers(t.type)}};t.prototype._iResolveDependencyFailure=function(e){};t.prototype._iResolveDependencyName=function(e,t){var a=t.name;if(t){var s=this._blocks[parseInt(e.id)];t.resetAssetPath(s.name,null,true)}var r=t.name;t.name=a;return r};t.prototype._pProceedParsing=function(){if(!this._startedParsing){this._byteData=this._pGetByteData();this._startedParsing=true}if(!this._parsed_header){this.parseHeader();switch(this._compression){case t.DEFLATE:case t.LZMA:this._pDieWithError("Compressed AWD formats not yet supported");break;case t.UNCOMPRESSED:this._body=this._byteData;break}this._parsed_header=true}if(this._body){while(this._body.getBytesAvailable()>0&&!this.parsingPaused)this.parseNextBlock();if(this._body.getBytesAvailable()==0){this.dispose();if(this._debugTimers)console.log("Parsing total: "+(this._time_all|0)+"ms"," | graphics: "+this._num_graphics+", "+(this._time_graphics|0)+"ms"," | graphics bytes: "+this._num_graphics+", "+(this._time_graphics_bytes|0)+"ms"," | timelines: "+this._num_timeline+", "+(this._time_timeline|0)+"ms"," | fonts: "+this._num_fonts+", "+(this._time_fonts|0)+"ms"," | sounds: "+this._num_sounds+", "+(this._time_sounds|0)+"ms"," | mats: "+this._num_materials+", "+(this._time_materials|0)+"ms"," | textures: "+this._num_textures+", "+(this._time_textures|0)+"ms"," | meshes: "+this._num_meshes+", "+(this._time_meshes|0)+"ms");return y.PARSING_DONE}else{return y.MORE_TO_PARSE}}else{switch(this._compression){case t.DEFLATE:case t.LZMA:if(this._debug)console.log("(!) AWDParser Error: Compressed AWD formats not yet supported (!)");break}return y.PARSING_DONE}};t.prototype._pStartParsing=function(t){this._pContent=new w;e.prototype._pStartParsing.call(this,t)};t.prototype.dispose=function(){for(var e in this._blocks){var t=this._blocks[e];t.dispose()}};t.prototype.parseNextBlock=function(){var e;var t=false;var a;var s;var r;var i;if(this._debugTimers)this.start_timeing=performance.now();this._cur_block_id=this._body.readUnsignedInt();a=this._body.readUnsignedByte();s=this._body.readUnsignedByte();r=this._body.readUnsignedByte();i=this._body.readUnsignedInt();var n=Ct.test(r,Ct.FLAG4);var o=Ct.test(r,Ct.FLAG5);if(this._accuracyOnBlocks){this._accuracyMatrix=Ct.test(r,Ct.FLAG1);this._accuracyGeo=Ct.test(r,Ct.FLAG2);this._accuracyProps=Ct.test(r,Ct.FLAG3)}var h=this._body.position+i;if(i>this._body.getBytesAvailable()){this._pDieWithError("AWD2 block length is bigger than the bytes that are available!");this._body.position+=this._body.getBytesAvailable();return}if(n){this._pDieWithError("Compressed AWD formats not yet supported");this._newBlockBytes=new v;this._body.readBytes(this._newBlockBytes,0,i);this._newBlockBytes.position=0}else{this._newBlockBytes=this._body}e=new Ut(this._cur_block_id,s);e.len=i;var l=this._newBlockBytes.position+i;if(n){this._pDieWithError("Compressed AWD formats not yet supported")}if(this._debug)console.log("AWDBlock:  ID = "+this._cur_block_id+" | TypeID = "+s+" | Compression = "+n+" | Matrix-Precision = "+this._accuracyMatrix+" | Graphics-Precision = "+this._accuracyGeo+" | Properties-Precision = "+this._accuracyProps);this._blocks[this._cur_block_id]=e;if(this._version[0]==3&&this._version[1]==0){var d=new At(this._view);switch(s){case 24:this.parseMeshLibraryBlock(this._cur_block_id);t=true;break;case 25:this.parseBillBoardLibraryBlock(this._cur_block_id);t=true;break;case 4444:this.parseAudioBlock(this._cur_block_id,d);t=true;break;case 133:this.parseTimeLine(this._cur_block_id,d);t=true;break;case 134:this.parseTextField(this._cur_block_id,d);t=true;break;case 135:this.parseTesselatedFont(this._cur_block_id);t=true;break;case 136:this.parseTextFormat(this._cur_block_id);t=true;break}}if(this._version[0]>2||this._version[0]>=2&&this._version[1]>=1){switch(s){case 11:this.parsePrimitves(this._cur_block_id);t=true;break;case 31:this.parseSkyboxInstance(this._cur_block_id);t=true;break;case 41:this.parseLight(this._cur_block_id);t=true;break;case 42:this.parseCamera(this._cur_block_id);t=true;break;case 51:this.parseLightPicker(this._cur_block_id);t=true;break;case 81:this.parseMaterial_v1(this._cur_block_id);t=true;break;case 83:this.parseCubeTexture(this._cur_block_id);t=true;break;case 91:this.parseSharedMethodBlock(this._cur_block_id);t=true;break;case 92:this.parseShadowMethodBlock(this._cur_block_id);t=true;break;case 111:this.parseMeshPoseAnimation(this._cur_block_id,true);t=true;break;case 112:this.parseMeshPoseAnimation(this._cur_block_id);t=true;break;case 113:this.parseVertexAnimationSet(this._cur_block_id);t=true;break;case 122:this.parseAnimatorSet(this._cur_block_id);t=true;break;case 253:this.parseCommand(this._cur_block_id);t=true;break}}if(t==false){switch(s){case 1:this.parseGraphics(this._cur_block_id);break;case 22:this.parseContainer(this._cur_block_id);break;case 23:this.parseMeshInstance(this._cur_block_id);break;case 81:this.parseMaterial(this._cur_block_id);break;case 82:this.parseTexture(this._cur_block_id);break;case 101:this.parseSkeleton(this._cur_block_id);break;case 102:this.parseSkeletonPose(this._cur_block_id);break;case 103:this.parseSkeletonAnimation(this._cur_block_id);break;case 121:case 254:this.parseNameSpace(this._cur_block_id);break;case 255:this.parseMetaData(this._cur_block_id);break;default:if(this._debug)console.log("AWDBlock:   Unknown BlockType  (BlockID = "+this._cur_block_id+") - Skip "+i+" bytes");this._newBlockBytes.position+=i;break}}if(this._debug){if(this._newBlockBytes.position!=l)console.log("  (!)(!)(!) Error while reading AWDBlock ID "+this._cur_block_id+" = skip to next block");if(e.errorMessages){var i=e.errorMessages.length;for(var c=0;c<i;c++)console.log("        (!) Error: "+e.errorMessages[c]+" (!)")}console.log("\n")}if(this._debugTimers&&!this.parsingPaused)this.updateTimers(s);this._body.position=h;this._newBlockBytes=null};t.prototype.updateTimers=function(e){var t=performance.now();var a=t-this.start_timeing;this._time_all+=a;if(e==1){this._time_graphics+=a;this._num_graphics++}else if(e==133){this._time_timeline+=a;this._num_timeline++}else if(e==135){this._time_fonts+=a;this._num_fonts++}else if(e==134){this._time_textfields+=a;this._num_textfields++}else if(e==44){this._time_sounds+=a;this._num_sounds++}else if(e==82){this._time_textures+=a;this._num_textures++}else if(e==81){this._time_materials+=a;this._num_materials++}else if(e==24){this._time_meshes+=a;this._num_meshes++}};t.prototype.parseTesselatedFont=function(e){var t=this.parseVarStr();this._blocks[e].name=t;var a=Tt.getAsset(this._blocks[e].name);var s=false;if(a==undefined){a=new Pt;s=true}var o=this._newBlockBytes.readUnsignedInt();var h;var l;var d;var c;var p=0;var _;var u;var y,f,m,b;for(var g=0;g<o;++g){l=this.parseVarStr();if(this._blocks[e].name=="Tahoma"&&l=="RegularStyle"){l="BoldStyle"}d=a.get_font_table(l);d.set_font_em_size(this._newBlockBytes.readUnsignedInt());d.set_whitespace_width(this._newBlockBytes.readUnsignedInt());h=this._newBlockBytes.readUnsignedInt();for(var w=0;w<h;++w){c=this._newBlockBytes.readUnsignedInt();_=this._newBlockBytes.readUnsignedInt();u=this._newBlockBytes.position+_;while(this._newBlockBytes.position<u){f=this._newBlockBytes.readUnsignedByte();y=this._newBlockBytes.readUnsignedByte();m=this._newBlockBytes.readUnsignedInt();b=this._newBlockBytes.position+m;if(f==2){var B=new Array;for(var M=0;this._newBlockBytes.position<b;M++)B[M]=this._newBlockBytes.readUnsignedShort()}else if(f==11){p=20;var N=new v(m);this._newBlockBytes.readBytes(N,0,m)}else if(f==10){p=28;var N=new v(m);this._newBlockBytes.readBytes(N,0,m)}else{this._newBlockBytes.position=b}}if(N){var D=new r(p,m/p);D.bufferView=new Uint8Array(N.arraybytes);var A=new k(D);A.setPositions(new n(D));A.setCustomAttributes("curves",new i(D));if(p==28)A.setUVs(new n(D));d.setChar(c.toString(),A)}}}this.parseProperties(null);this.parseUserAttributes();if(s){this._pFinalizeAsset(a,t)}this._blocks[e].data=a;if(this._debug)console.log("Parsed a font: Name = '"+t)};t.prototype.parseTextFormat=function(e){var a=this.parseVarStr();this._blocks[e].name=a;var s=this._blocks[this._newBlockBytes.readUnsignedInt()].data;var r=this.parseVarStr();var i=new Et;i.font_name=s.name;var n=s.get_font_table(r);if(n!=null){i.font_style=r;i.font_table=n}var o=this._blocks[this._newBlockBytes.readUnsignedInt()].data;o.bothSides=true;var h=this._newBlockBytes.readUnsignedByte();var l=[];for(var d=0;d<h;d++)l[d]=this._newBlockBytes.readFloat();i.uv_values=l;var c=this.parseProperties(t.textFormatProperties);i.size=c.get(1,12);i.letterSpacing=c.get(2,0);i.kerning=c.get(4,true);var p=c.get(6,0);if(p==1){i.align="right"}else if(p==2){i.align="center"}i.indent=c.get(7,0);i.leftMargin=c.get(8,0);i.rightMargin=c.get(9,0);i.leading=c.get(10,0);i.material=o;this.parseUserAttributes();this._pFinalizeAsset(i,a);this._blocks[e].data=i;if(this._debug)console.log("Parsed a TextFormat: Name = '"+a+" font: "+s.name)};t.prototype.parseTextField=function(e,a){var s=this.parseVarStr();this._blocks[e].name=s;var r=a.createTextField();var i=this._newBlockBytes.readUnsignedByte();r.type=t.textFieldTypes[i];if(i==3)r.displayAsPassword=true;r.textWidth=Math.abs(this._newBlockBytes.readFloat());r.textHeight=Math.abs(this._newBlockBytes.readFloat());var n=this._newBlockBytes.readUnsignedInt();var o="";for(var h=0;h<n;h++){var l=this._newBlockBytes.readUnsignedInt();for(var d=0;d<l;d++){var c=this._blocks[this._newBlockBytes.readUnsignedInt()].data;var p=this._newBlockBytes.readUnsignedInt();if(p>0){var _=this._newBlockBytes.readUTFBytes(p);o+=_}}}r.textFormat=c;r.text=o;var u=this.parseProperties(t.textFieldProperties);r.selectable=u.get(1,false);r.border=u.get(3,false);r.extra=this.parseUserAttributes();this._pFinalizeAsset(r,s);this._blocks[e].data=r;if(this._debug)console.log("Parsed a TextField: Name = '"+s+"| text  = "+o)};t.prototype.parseBillBoardLibraryBlock=function(e){var t=this.parseVarStr();var a=this._blocks[this._newBlockBytes.readUnsignedInt()].data;a.bothSides=true;var s=new x(a);this.parseProperties(null);s.extra=this.parseUserAttributes();this._pFinalizeAsset(s,t);this._blocks[e].data=s;if(this._debug)console.log("Parsed a Library-Billboard: Name = '"+t+"| Material-Name = "+a.name)};t.prototype.parseMeshLibraryBlock=function(e){var t=this.parseVarStr();var a=this._newBlockBytes.readUnsignedInt();var s=this._blocks[a].data;this._blocks[e].geoID=a;var r=this._newBlockBytes.readUnsignedShort();var i=new Array;var n=new Array;var o;for(var h=0;h<r;h++){o=this._blocks[this._newBlockBytes.readUnsignedInt()].data||P.getDefaultMaterial();o.alphaBlending=true;o.useColorTransform=true;i[h]=o;n[h]=o.name}var d=performance.now();var c=new A;s.copyTo(c.graphics);var p=performance.now();var _=p-d;this._time_graphics_bytes+=_;if(i.length>=1&&c.graphics.count==1){c.material=i[0]}else if(i.length>1){for(var u=0;u<c.graphics.count;u++)c.graphics.getGraphicAt(u).material=i[Math.min(i.length-1,u)]}var y=this._newBlockBytes.readUnsignedShort();if(y!=c.graphics.count)throw new Error("num elements does not match num submeshes");for(var u=0;u<y;u++){var f=this._newBlockBytes.readUnsignedByte();var m=new l;var b=c.graphics.getGraphicAt(u);b.style=new It;b.style.addSamplerAt(m,b.material.getTextureAt(0));if(f==3){b.material.animateUVs=true;b.uvTransform=new jt(0,0,0,0,this._newBlockBytes.readFloat(),this._newBlockBytes.readFloat())}else if(f==5){b.material.animateUVs=true;b.uvTransform=new jt(this._newBlockBytes.readFloat(),this._newBlockBytes.readFloat(),0,0,this._newBlockBytes.readFloat(),this._newBlockBytes.readFloat())}else if(f==6){var g=this._newBlockBytes.readFloat();var v=this._newBlockBytes.readFloat();var w=this._newBlockBytes.readFloat();var B=this._newBlockBytes.readFloat();m.imageRect=new St(g,v,w,B);b.material.imageRect=true;b.material.animateUVs=true;var k=this.parseMatrix32RawData();b.uvTransform=new jt(k[0],k[2],k[1],k[3],k[4],k[5])}if(b.elements.getCustomAtributes("curves"))b.material.curves=true;this._newBlockBytes.readUnsignedInt()}this.parseProperties(null);c.extra=this.parseUserAttributes();this._pFinalizeAsset(c,t);this._blocks[e].data=c;if(this._debug)console.log("Parsed a Library-Mesh: Name = '"+t+"| Graphics-Name = "+s.name+" | Graphics-Count = "+c.graphics.count+" | Mat-Names = "+n)};t.prototype.parseAudioBlock=function(e,t){this._blocks[e].name=this.parseVarStr();var a=this._newBlockBytes.readUnsignedByte();var s;if(a==0){s=this._newBlockBytes.readUnsignedInt();var r;r=this._newBlockBytes.readUTFBytes(s);this._pAddDependency(this._cur_block_id.toString(),new u(r),false,null,true)}else{s=this._newBlockBytes.readUnsignedInt();var i=new v(s);this._newBlockBytes.readBytes(i,0,s);this._pAddDependency(this._cur_block_id.toString(),null,false,i,true)}this.parseProperties(null);this._blocks[e].extras=this.parseUserAttributes();this._pPauseAndRetrieveDependencies();if(this._debug)console.log("Start parsing a "+["external","embed"][a]+" Audio file")};t.prototype.parseTimeLine=function(e,t){var a;var s;var r;var i=new xt;var n=t.createMovieClip(i);var o=this.parseVarStr();var h=Boolean(this._newBlockBytes.readUnsignedByte());var l=this._newBlockBytes.readUnsignedByte();var d=this._newBlockBytes.readFloat();var c=this._newBlockBytes.readUnsignedShort();for(a=0;a<c;a++){r=this._blocks[this._newBlockBytes.readUnsignedInt()].data;if(r!=null){i.registerPotentialChild(r)}else{console.log("ERROR when collecting objects for timeline")}}var p=c;var _=this._newBlockBytes.readUnsignedShort();for(a=0;a<_;a++){r=this._blocks[this._newBlockBytes.readUnsignedInt()].data;var u=this._newBlockBytes.readUnsignedShort();p+=u;if(r!=null){for(s=0;s<u;s++)i.registerPotentialChild(r)}else{for(s=0;s<u;s++){console.log("ERROR when collecting objects for timeline")}}}if(this._debug)console.log("Parsed "+(c+_)+" potential childs. They will be used by "+p+" instances.");var y=this._newBlockBytes.readUnsignedShort();var f=this._newBlockBytes.readUnsignedByte();var m=0;var b=0;var g=0;var w=0;for(a=0;a<f;a++){if(w<6)g=w;else g=this._newBlockBytes.readUnsignedByte();b=this._newBlockBytes.readUnsignedByte();m=this._newBlockBytes.readUnsignedInt();if(m>0){var B=new v(m);this._newBlockBytes.readBytes(B,0,m);var k;switch(b){case 1:k=new Uint8Array(B.arraybytes);break;case 2:k=new Uint16Array(B.arraybytes);break;case 4:k=new Uint32Array(B.arraybytes);break}switch(g){case 0:i.keyframe_durations=k;i.numKeyFrames=m/b;break;case 1:i.frame_command_indices=k;break;case 2:i.frame_recipe=k;break;case 3:i.command_length_stream=k;break;case 4:i.command_index_stream=k;break;case 5:i.add_child_stream=k;break;case 6:i.remove_child_stream=k;break;case 7:i.update_child_stream=k;break;case 8:i.update_child_props_indices_stream=k;break;case 9:i.update_child_props_length_stream=k;break;case 10:i.property_type_stream=k;break;case 11:i.property_index_stream=k;break;case 12:i.properties_stream_int=k;break}}w++}var M=0;var N;f=this._newBlockBytes.readUnsignedByte();for(a=0;a<f;a++){g=this._newBlockBytes.readUnsignedByte();switch(g){case 0:m=this._newBlockBytes.readUnsignedInt();N=new v(m);this._newBlockBytes.readBytes(N,0,m);i.properties_stream_f32_mtx_scale_rot=new Float32Array(N.arraybytes);break;case 1:m=this._newBlockBytes.readUnsignedInt();N=new v(m);this._newBlockBytes.readBytes(N,0,m);i.properties_stream_f32_mtx_pos=new Float32Array(N.arraybytes);break;case 2:m=this._newBlockBytes.readUnsignedInt();N=new v(m);this._newBlockBytes.readBytes(N,0,m);i.properties_stream_f32_mtx_all=new Float32Array(N.arraybytes);break;case 3:m=this._newBlockBytes.readUnsignedInt();N=new v(m);this._newBlockBytes.readBytes(N,0,m);i.properties_stream_f32_ct=new Float32Array(N.arraybytes);break;case 4:m=this._newBlockBytes.readUnsignedShort();for(M=0;M<m;M++){i._labels[this.parseVarStr()]=this._newBlockBytes.readUnsignedShort()}break;case 5:m=this._newBlockBytes.readUnsignedShort();var D=[];for(M=0;M<m;M++){D.push(this._newBlockBytes.readUTFBytes(this._newBlockBytes.readUnsignedShort()))}i.properties_stream_strings=D;break;case 6:m=this._newBlockBytes.readUnsignedShort();for(M=0;M<m;M++){var A=this._newBlockBytes.readUnsignedShort();var x=this._newBlockBytes.readUnsignedInt();i.add_framescript(this._newBlockBytes.readUTFBytes(x),A)}break}}i.init();this.parseProperties(null);this.parseUserAttributes();this._pFinalizeAsset(n,o);this._blocks[e].data=n;if(this._debug)console.log("Parsed a TIMELINE: Name = "+o+"| isScene = "+h+"| sceneID = "+l+"| numFrames = ")};t.prototype.parseGraphics=function(e){var a=new B(null);var s=this.parseVarStr();var o=this._newBlockBytes.readUnsignedShort();var h=this.parseProperties(t.graphicsProperties);var l=h.get(1,1);var d=h.get(2,1);for(var c=0;c<o;c++){var p=false;var _=0;var u,y;var f;var m;u=this._newBlockBytes.readUnsignedInt();y=this._newBlockBytes.position+u;var b=this.parseProperties(t.elementsProperties);while(this._newBlockBytes.position<y){var g=0;var w,M,N,D;M=this._newBlockBytes.readUnsignedByte();w=this._newBlockBytes.readUnsignedByte();N=this._newBlockBytes.readUnsignedInt();D=this._newBlockBytes.position+N;var A,x,T;if(M==1){var P=new Array;while(this._newBlockBytes.position<D){A=this.readNumber(this._accuracyGeo);x=this.readNumber(this._accuracyGeo);T=this.readNumber(this._accuracyGeo);P[g++]=A;P[g++]=x;P[g++]=T}}else if(M==2){var E=new Array;while(this._newBlockBytes.position<D)E[g++]=this._newBlockBytes.readUnsignedShort()}else if(M==3){var U=new Array;while(this._newBlockBytes.position<D)U[g++]=this.readNumber(this._accuracyGeo)}else if(M==4){var S=new Array;while(this._newBlockBytes.position<D)S[g++]=this.readNumber(this._accuracyGeo)}else if(M==6){f=Array();while(this._newBlockBytes.position<D)f[g++]=this._newBlockBytes.readUnsignedShort()*3}else if(M==7){m=new Array;while(this._newBlockBytes.position<D)m[g++]=this.readNumber(this._accuracyGeo)}else if(M==8){this._newBlockBytes.position=D}else if(M==9){this._newBlockBytes.position=D}else if(M==10){p=true;_=28;var I=new v(N);this._newBlockBytes.readBytes(I,0,N)}else if(M==11){p=true;_=20;var I=new v(N);this._newBlockBytes.readBytes(I,0,N)}else{this._newBlockBytes.position=D}}this.parseUserAttributes();if(p){var j=new r(_,N/_);j.bufferView=new Uint8Array(I.arraybytes);var O=new k(j);O.setPositions(new n(j));O.setCustomAttributes("curves",new i(j));if(_==28)O.setUVs(new n(j));a.addGraphic(O);if(this._debug)console.log("Parsed a TriangleElements with curves")}else{var R=new k(new r);if(m)R.jointsPerVertex=m.length/(P.length/3);if(S)R.autoDeriveNormals=false;R.autoDeriveTangents=true;R.setIndices(E);R.setPositions(P);R.setNormals(S);R.setUVs(U);R.setJointWeights(m);R.setJointIndices(f);var F=b.get(1,1);var L=b.get(2,1);var C=false;if(l!=F||d!=L){C=true;F=l/F;L=d/L}if(C)R.scaleUV(F,L);a.addGraphic(R);if(this._debug)console.log("Parsed a TriangleElements")}}if(l!=1||d!=1)a.scaleUV(l,d);this.parseUserAttributes();this._pFinalizeAsset(a,s);this._blocks[e].data=a;if(this._debug)console.log("Parsed Graphics: Name = "+s)};t.prototype.parsePrimitves=function(e){var a;var s;var r;var i;var n;var o;a=this.parseVarStr();r=this._newBlockBytes.readUnsignedByte();n=this.parseProperties(t.primitiveProperties);switch(r){case 1:s=new L(null,Rt.TRIANGLE,n.get(101,100),n.get(102,100),n.get(301,1),n.get(302,1),n.get(701,true),n.get(702,false));break;case 2:s=new R(null,Rt.TRIANGLE,n.get(101,100),n.get(102,100),n.get(103,100),n.get(301,1),n.get(302,1),n.get(303,1),n.get(701,true));break;case 3:s=new C(null,Rt.TRIANGLE,n.get(101,50),n.get(301,16),n.get(302,12),n.get(701,true));break;case 4:s=new F(null,Rt.TRIANGLE,n.get(101,50),n.get(102,50),n.get(103,100),n.get(301,16),n.get(302,1),true,true,true);if(!n.get(701,true))s.topClosed=false;if(!n.get(702,true))s.bottomClosed=false;if(!n.get(703,true))s.yUp=false;break;case 5:s=new O(null,Rt.TRIANGLE,n.get(101,50),n.get(102,100),n.get(301,16),n.get(302,1),n.get(701,true),n.get(702,true));break;case 6:s=new j(null,Rt.TRIANGLE,n.get(101,50),n.get(102,100),n.get(301,16),n.get(302,15),n.get(701,true));break;case 7:s=new G(null,Rt.TRIANGLE,n.get(101,50),n.get(102,50),n.get(301,16),n.get(302,8),n.get(701,true));break;default:s=new I;console.log("ERROR: UNSUPPORTED PREFAB_TYPE");break}if(n.get(110,1)!=1||n.get(111,1)!=1){}this.parseUserAttributes();s.name=a;this._pFinalizeAsset(s,a);this._blocks[e].data=s;if(this._debug){if(r<0||r>7)r=0;console.log("Parsed a Primivite: Name = "+a+"| type = "+t.primitiveTypes[r])}};t.prototype.parseContainer=function(e){var a;var s;var r;var i=this._blocks[this._newBlockBytes.readUnsignedInt()].data;s=this.parseMatrix3D();a=this.parseVarStr();var n="Root (TopLevel)";r=new w;r.transform.matrix3D=s;if(i){i.addChild(r);n=i.name}else{this._pContent.addChild(r)}if(this._version[0]==2&&this._version[1]==1){var o=this.parseProperties(t.containerProperties);r.pivot=new p(o.get(1,0),o.get(2,0),o.get(3,0))}else{this.parseProperties(null)}r.extra=this.parseUserAttributes();this._pFinalizeAsset(r,a);this._blocks[e].data=r;if(this._debug)console.log("Parsed a Container: Name = '"+a+"' | Parent-Name = "+n)};t.prototype.parseMeshInstance=function(e){var a=this._blocks[this._newBlockBytes.readUnsignedInt()].data;var s=this.parseMatrix3D();var r=this.parseVarStr();var i=this._newBlockBytes.readUnsignedInt();var n=this._blocks[i].data;var o;var h;var l=false;if(n.isAsset(B)){o=n}else{l=true;h=n}this._blocks[e].geoID=i;var d=this._newBlockBytes.readUnsignedShort();var c=new Array;var _=new Array;var u;for(var y=0;y<d;y++){u=this._blocks[this._newBlockBytes.readUnsignedInt()].data||P.getDefaultMaterial();c[y]=u;_[y]=u.name}var f;if(l){f=h.getNewObject()}else{f=new A;o.copyTo(f.graphics)}f.transform.matrix3D=s;var m="Root (TopLevel)";if(a){a.addChild(f);m=a.name}else{this._pContent.addChild(f)}if(c.length>=1&&f.graphics.count==1){f.material=c[0]}else if(c.length>1){for(var b=0;b<f.graphics.count;b++)f.graphics.getGraphicAt(b).material=c[Math.min(c.length-1,b)]}if(this._version[0]==2&&this._version[1]==1){var g=this.parseProperties(t.meshInstanceProperties);f.pivot=new p(g.get(1,0),g.get(2,0),g.get(3,0));
f.castsShadows=g.get(5,true)}else{this.parseProperties(null)}f.extra=this.parseUserAttributes();this._pFinalizeAsset(f,r);this._blocks[e].data=f;if(this._debug){if(l)console.log("Parsed a Mesh for Prefab: Name = '"+r+"' | Parent-Name = "+m+"| Prefab-Name = "+h.name+" | Graphics-Count = "+f.graphics.count+" | Mat-Names = "+_);else console.log("Parsed a Mesh for Graphics: Name = '"+r+"' | Parent-Name = "+m+"| Graphics-Name = "+o.name+" | Graphics-Count = "+f.graphics.count+" | Mat-Names = "+_)}};t.prototype.parseSkyboxInstance=function(e){var t=this.parseVarStr();var a=new T;var s=new V(this._blocks[this._newBlockBytes.readUnsignedInt()].data||P.getDefaultImageCube());a.texture=s;this.parseProperties(null);a.extra=this.parseUserAttributes();this._pFinalizeAsset(a,t);this._blocks[e].data=a;if(this._debug)console.log("Parsed a Skybox: Name = '"+t+"' | CubeTexture-Name = "+s.name)};t.prototype.parseLight=function(e){var a;var s;var r=this._blocks[this._newBlockBytes.readUnsignedInt()].data;var i=this.parseMatrix3D();var n=this.parseVarStr();var o=this._newBlockBytes.readUnsignedByte();var h=this.parseProperties(t.lightProperties);var l=h.get(9,0);var d=["Unsupported LightType","PointLight","DirectionalLight"];var c=["No ShadowMapper","DirectionalShadowMapper","NearDirectionalShadowMapper","CascadeShadowMapper","CubeMapShadowMapper"];if(o==1){a=new N;a.radius=h.get(1,9e4);a.fallOff=h.get(2,1e5);if(l>0){if(l==4){s=new U}}a.transform.matrix3D=i}if(o==2){a=new M(h.get(21,0),h.get(22,-1),h.get(23,1));if(l>0){if(l==1){s=new S}}}a.color=h.get(3,16777215);a.specular=h.get(4,1);a.diffuse=h.get(5,1);a.ambientColor=h.get(7,16777215);a.ambient=h.get(8,0);if(s){if(s instanceof U){if(h.get(10,1)!=1)s.depthMapSize=this._depthSizeDic[h.get(10,1)]}else{if(h.get(10,2)!=2)s.depthMapSize=this._depthSizeDic[h.get(10,2)]}a.shadowMapper=s;a.castsShadows=true}var p="Root (TopLevel)";if(r){r.addChild(a);p=r.name}else{this._pContent.addChild(a)}this.parseUserAttributes();this._pFinalizeAsset(a,n);this._blocks[e].data=a;if(this._debug)console.log("Parsed a Light: Name = '"+n+"' | Type = "+d[o]+" | Parent-Name = "+p+" | ShadowMapper-Type = "+c[l])};t.prototype.parseCamera=function(e){var a=this._blocks[this._newBlockBytes.readUnsignedInt()].data;var s=this.parseMatrix3D();var r=this.parseVarStr();var i;this._newBlockBytes.readUnsignedByte();this._newBlockBytes.readShort();var n=this._newBlockBytes.readShort();var o=this.parseProperties(t.cameraProperties);switch(n){case 5001:i=new m(o.get(101,60));break;case 5002:i=new b(o.get(101,500));break;case 5003:i=new g(o.get(101,-400),o.get(102,400),o.get(103,-300),o.get(104,300));break;default:console.log("unsupportedLenstype");return}var h=new D(i);h.transform.matrix3D=s;var l="Root (TopLevel)";if(a){a.addChild(h);l=a.name}else{this._pContent.addChild(h)}h.name=r;o=this.parseProperties(t.cameraPivotProperties);h.pivot=new p(o.get(1,0),o.get(2,0),o.get(3,0));h.extra=this.parseUserAttributes();this._pFinalizeAsset(h,r);this._blocks[e].data=h;if(this._debug)console.log("Parsed a Camera: Name = '"+r+"' | Projectiontype = "+i+" | Parent-Name = "+l)};t.prototype.parseLightPicker=function(e){var t=this.parseVarStr();var a=this._newBlockBytes.readUnsignedShort();var s=new Array;var r=new Array;for(var i=0;i<a;i++){var n=this._blocks[this._newBlockBytes.readUnsignedInt()].data;s.push(n);r.push(n.name)}if(s.length==0){this._blocks[e].addError("Could not create this LightPicker, cause no Light was found.");this.parseUserAttributes();return}var o=new E(s);o.name=t;this.parseUserAttributes();this._pFinalizeAsset(o,t);this._blocks[e].data=o;if(this._debug)console.log("Parsed a StaticLightPicker: Name = '"+t+"' | Texture-Name = "+r)};t.prototype.parseMaterial=function(e){var a;var s;var r;var i;var n;var o;var h;var d;a=this.parseVarStr();s=this._newBlockBytes.readUnsignedByte();o=this._newBlockBytes.readUnsignedByte();r=this.parseProperties(t.materialProperties);h=0;while(h<o){var c;c=this._newBlockBytes.readUnsignedShort();this.parseProperties(null);this.parseUserAttributes();h+=1}var p="";if(s===1){p+="Parsed a ColorMaterial(SinglePass): Name = '"+a+"' | ";var _=r.get(1,16777215);if(this.materialMode<2){i=new tt(_,r.get(10,1))}else{i=new tt(_);i.mode=et.MULTI_PASS}}else if(s===2){var u=new z(this._blocks[r.get(2,0)].data);i=new tt;i.ambientMethod.texture=u;if(this.materialMode<2){i.alphaBlending=r.get(11,false);i.alpha=r.get(10,1);p+="Parsed a MethodMaterial(SinglePass): Name = '"+a+"'"+(u?" | Texture-Name = "+u.name:"")}else{i.mode=et.MULTI_PASS;p+="Parsed a MethodMaterial(MultiPass): Name = '"+a+"'"+(u?" | Texture-Name = "+u.name:"")}}i.extra=this.parseUserAttributes();i.alphaThreshold=r.get(12,0);i.style.sampler=new l(r.get(13,false));this._pFinalizeAsset(i,a);this._blocks[e].data=i;if(this._debug)console.log(p)};t.prototype.parseMaterial_v1=function(e){var a;var s;var r;var i;var n=this.parseVarStr();var o=this._newBlockBytes.readUnsignedByte();var h=this._newBlockBytes.readUnsignedByte();var d=this.parseProperties(t.material_v1Properties);var c=d.get(4,0);var p="Parsed Material ";if(c>=2){this._blocks[e].addError("Material-spezialType '"+c+"' is not supported, can only be 0:singlePass, 1:MultiPass !");return}if(o<=2){if(this.materialMode==1)c=0;else if(this.materialMode==2)c=1;if(c<2){if(o==1){var _=d.get(1,13421772);if(c==1){a=new tt(_);a.mode=et.MULTI_PASS;p+="Parsed a ColorMaterial(MultiPass): Name = '"+n+"' | "}else{a=new tt(_,d.get(10,1));a.alphaBlending=d.get(11,false);p+="Parsed a ColorMaterial(SinglePass): Name = '"+n+"' | "}}else if(o==2){var u=new z(this._blocks[d.get(2,0)].data);a=new tt;a.ambientMethod.texture=u;if(c==1){a.mode=et.MULTI_PASS;p+="Parsed a MethodMaterial(MultiPass): Name = '"+n+"'"+(u?" | Texture-Name = "+u.name:"")}else{a.alpha=d.get(10,1);a.alphaBlending=d.get(11,false);p+="Parsed a MethodMaterial(SinglePass): Name = '"+n+"'"+(u?" | Texture-Name = "+u.name:"")}}s=this._blocks[d.get(17,0)].data;r=this._blocks[d.get(3,0)].data;i=this._blocks[d.get(21,0)].data;a.lightPicker=this._blocks[d.get(22,0)].data;a.style.sampler=new l(d.get(13,false),d.get(5,true),d.get(6,true));a.bothSides=d.get(7,false);a.alphaPremultiplied=d.get(8,false);a.blendMode=this.blendModeDic[d.get(9,0)];if(s){a.diffuseTexture=new z(s);p+=" | DiffuseTexture-Name = "+s.name}if(r){a.normalMethod.texture=new z(r);p+=" | NormalTexture-Name = "+r.name}if(i){a.specularMethod.texture=new z(i);p+=" | SpecularTexture-Name = "+i.name}a.alphaThreshold=d.get(12,0);a.ambientMethod.strength=d.get(15,1);a.diffuseMethod.color=d.get(16,16777215);a.specularMethod.strength=d.get(18,1);a.specularMethod.gloss=d.get(19,50);a.specularMethod.color=d.get(20,16777215);for(var y=0;y<h;y++){var f;f=this._newBlockBytes.readUnsignedShort();d=this.parseProperties(t.method_v1Properties);switch(f){case 999:var m=this._blocks[d.get(1,0)].data;a.addEffectMethod(m);p+=" | EffectMethod-Name = "+m.name;break;case 998:var b=this._blocks[d.get(1,0)].data;a.shadowMethod=b;p+=" | ShadowMethod-Name = "+b.name;break;case 1:var g=new V(this._blocks[d.get(1,0)].data);a.ambientMethod=new at;a.ambientMethod.texture=g;p+=" | AmbientEnvMapMethod | EnvMap-Name ="+g.name;break;case 51:a.diffuseMethod=new st;p+=" | DiffuseDepthMethod";break;case 52:var u=new z(this._blocks[d.get(1,0)].data);a.diffuseMethod=new it(u);p+=" | DiffuseGradientMethod | GradientDiffuseTexture-Name ="+u.name;break;case 53:a.diffuseMethod=new ot(d.get(101,5));p+=" | DiffuseWrapMethod";break;case 54:var u=new z(this._blocks[d.get(1,0)].data);a.diffuseMethod=new nt(u,this.blendModeDic[d.get(401,10)],false,a.diffuseMethod);p+=" | DiffuseLightMapMethod | LightMapTexture-Name ="+u.name;break;case 55:a.diffuseMethod=new rt(d.get(401,3),a.diffuseMethod);a.diffuseMethod.smoothness=d.get(101,.1);p+=" | DiffuseCelMethod";break;case 56:break;case 101:a.specularMethod=new wt;p+=" | SpecularAnisotropicMethod";break;case 102:a.specularMethod=new kt;p+=" | SpecularPhongMethod";break;case 103:a.specularMethod=new Bt(d.get(101,.5),a.specularMethod);a.specularMethod.smoothness=d.get(102,.1);p+=" | SpecularCelMethod";break;case 104:a.specularMethod=new gt(d.get(701,true),a.specularMethod);a.specularMethod.fresnelPower=d.get(101,5);a.specularMethod.normalReflectance=d.get(102,.1);p+=" | SpecularFresnelMethod";break;case 151:break;case 152:var u=new z(this._blocks[d.get(1,0)].data);a.normalMethod=new ft(a.normalMethod.texture||u,u);p+=" | NormalSimpleWaterMethod | Second-NormalTexture-Name = "+u.name;break}this.parseUserAttributes()}}}else if(o>=3&&o<=7){var _=d.get(1,13421772);p+=_;var v=new z(this._blocks[d.get(2,0)].data);if(o==5){v.mappingMode=Ot.LINEAR_GRADIENT}else if(o==6){v.mappingMode=Ot.RADIAL_GRADIENT}var w=new Dt;w.texture=v;w.bothSides=true;w.alphaBlending=true;w.extra=this.parseUserAttributes();this._pFinalizeAsset(w,n);this._blocks[e].data=w;if(this._debug)console.log(p);return}a.extra=this.parseUserAttributes();this._pFinalizeAsset(a,n);this._blocks[e].data=a;if(this._debug)console.log(p)};t.prototype.parseTexture=function(e){this._blocks[e].name=this.parseVarStr();var t=this._newBlockBytes.readUnsignedByte();this._texture_users[this._cur_block_id]=[];if(t==0){var a=this._newBlockBytes.readUTFBytes(this._newBlockBytes.readUnsignedInt());this._pAddDependency(this._cur_block_id.toString(),new u(a),false,null,true)}else{var s=this._newBlockBytes.readUnsignedInt();var r=new v(s);this._newBlockBytes.readBytes(r,0,s);this._pAddDependency(this._cur_block_id.toString(),null,false,r,true)}this.parseProperties(null);this._blocks[e].extras=this.parseUserAttributes();this._pPauseAndRetrieveDependencies();if(this._debug)console.log("Start parsing a "+["external","embed"][t]+" Bitmap for Texture")};t.prototype.parseCubeTexture=function(e){var t;var a;this._texture_users[this._cur_block_id]=[];var s=this._newBlockBytes.readUnsignedByte();this._blocks[e].name=this.parseVarStr();for(a=0;a<6;a++){this._texture_users[this._cur_block_id]=[];if(s==0){t=this._newBlockBytes.readUnsignedInt();var r;r=this._newBlockBytes.readUTFBytes(t);this._pAddDependency(this._cur_block_id.toString(),new u(r),false,null,true,a)}else{t=this._newBlockBytes.readUnsignedInt();var i=new v(t);this._newBlockBytes.readBytes(i,0,t);this._pAddDependency(this._cur_block_id.toString(),null,false,f.byteArrayToImage(i),true,a)}}this.parseProperties(null);this._blocks[e].extras=this.parseUserAttributes();this._pPauseAndRetrieveDependencies();if(this._debug)console.log("Start parsing 6 "+["external","embed"][s]+" Bitmaps for CubeTexture")};t.prototype.parseSharedMethodBlock=function(e){var t;this._blocks[e].name=this.parseVarStr();t=this.parseSharedMethodList(e);this.parseUserAttributes();this._blocks[e].data=t;this._pFinalizeAsset(t,this._blocks[e].name);this._blocks[e].data=t;if(this._debug)console.log("Parsed a EffectMethod: Name = "+t.name+" Type = "+t)};t.prototype.parseShadowMethodBlock=function(e){this._blocks[e].name=this.parseVarStr();var t=this._blocks[this._newBlockBytes.readUnsignedInt()].data;var a=this.parseShadowMethodList(t,e);if(!a)return;this.parseUserAttributes();this._pFinalizeAsset(a,this._blocks[e].name);this._blocks[e].data=a;if(this._debug)console.log("Parsed a ShadowMapMethodMethod: Name = "+a.name+" | Type = "+a+" | Light-Name = ",t.name)};t.prototype.parseCommand=function(e){var a=this._newBlockBytes.readUnsignedByte()==1;var s=this._blocks[this._newBlockBytes.readUnsignedInt()].data;var r;var i=this.parseMatrix3D();var n=this.parseVarStr();var o=this._newBlockBytes.readShort();var h=this._newBlockBytes.readShort();var l=this.parseProperties(t.commandProperties);switch(h){case 1:r=this._blocks[l.get(1,0)].data;r.transform.matrix3D=i;if(s)s.addChild(r);break}if(r){l=this.parseProperties(t.targetProperties);r.pivot=new p(l.get(1,0),l.get(2,0),l.get(3,0));r.extra=this.parseUserAttributes()}this._blocks[e].data=r;if(this._debug)console.log("Parsed a CommandBlock: Name = '"+n)};t.prototype.parseMetaData=function(e){var a=this.parseProperties(t.metaDataProperties);if(this._debug){console.log("Parsed a MetaDataBlock: TimeStamp         = "+a.get(1,0));console.log("                        EncoderName       = "+a.get(2,"unknown"));console.log("                        EncoderVersion    = "+a.get(3,"unknown"));console.log("                        GeneratorName     = "+a.get(4,"unknown"));console.log("                        GeneratorVersion  = "+a.get(5,"unknown"))}};t.prototype.parseNameSpace=function(e){var t=this._newBlockBytes.readUnsignedByte();var a=this.parseVarStr();if(this._debug)console.log("Parsed a NameSpaceBlock: ID = "+t+" | String = "+a)};t.prototype.parseShadowMethodList=function(e,t){var a=this._newBlockBytes.readUnsignedShort();var s;var r=this.parseProperties(this.shadowMethodListProperties);var i;var n;switch(a){case 1002:s=new Mt(this._blocks[r.get(1,0)].data);break;case 1101:s=new bt(e);s.alpha=r.get(101,1);s.epsilon=r.get(102,.002);break;case 1102:s=new mt(e,r.get(201,5));s.alpha=r.get(101,1);s.epsilon=r.get(102,.002);s.range=r.get(103,1);break;case 1103:s=new Nt(e,r.get(201,5));s.alpha=r.get(101,1);s.epsilon=r.get(102,.002);s.range=r.get(103,1);break;case 1104:s=new vt(e);s.alpha=r.get(101,1);s.epsilon=r.get(102,.002);break}this.parseUserAttributes();return s};t.prototype.parseSkeleton=function(e){var t=this.parseVarStr();var a=this._newBlockBytes.readUnsignedShort();var s=new X;this.parseProperties(null);for(var r=0;r<a;r++){var i;var n;this._newBlockBytes.readUnsignedShort();i=new q;i.parentIndex=this._newBlockBytes.readUnsignedShort()-1;i.name=this.parseVarStr();n=this.parseMatrix3D();i.inverseBindPose=n.rawData;this.parseProperties(null);this.parseUserAttributes();s.joints.push(i)}this.parseUserAttributes();this._pFinalizeAsset(s,t);this._blocks[e].data=s;if(this._debug)console.log("Parsed a Skeleton: Name = "+s.name+" | Number of Joints = "+r)};t.prototype.parseSkeletonPose=function(e){var t=this.parseVarStr();var a=this._newBlockBytes.readUnsignedShort();this.parseProperties(null);var s=new Q;for(var r=0;r<a;r++){var i;var n;i=new Y;n=this._newBlockBytes.readUnsignedByte();if(n==1){var o=this.parseMatrix43RawData();var h=new c(o);i.orientation.fromMatrix(h);i.translation.copyFrom(h.position);s.jointPoses[r]=i}}this.parseUserAttributes();this._pFinalizeAsset(s,t);this._blocks[e].data=s;if(this._debug)console.log("Parsed a SkeletonPose: Name = "+s.name+" | Number of Joints = "+r)};t.prototype.parseSkeletonAnimation=function(e){var t;var a;var s=this.parseVarStr();var r=new Z;var i=this._newBlockBytes.readUnsignedShort();this.parseProperties(null);for(var n=0;n<i;n++){a=this._newBlockBytes.readUnsignedInt();t=this._newBlockBytes.readUnsignedShort();r.addFrame(this._blocks[a].data,t)}if(r.frames.length==0){this._blocks[e].addError("Could not this SkeletonClipNode, because no Frames where set.");return}this.parseUserAttributes();this._pFinalizeAsset(r,s);this._blocks[e].data=r;if(this._debug)console.log("Parsed a SkeletonClipNode: Name = "+r.name+" | Number of Frames = "+r.frames.length)};t.prototype.parseMeshPoseAnimation=function(e,t){if(t===void 0){t=false}var a;var s;var i;var n;var o;var h;var l;var d=0;var c=new $;var p;var _;var u=new Array;var y;var f=this.parseVarStr();var m=this._newBlockBytes.readUnsignedInt();var b=this._blocks[m].data;var g=this.getUVForVertexAnimation(m);var v=!t?this._newBlockBytes.readUnsignedShort():1;var w=this._newBlockBytes.readUnsignedShort();var M=this._newBlockBytes.readUnsignedShort();for(var N=0;N<M;N++)u.push(this._newBlockBytes.readUnsignedShort());y=this.parseProperties(this.meshPoseAnimationProperties);c.looping=y.get(1,true);c.stitchFinalFrame=y.get(2,false);var D;for(var A=0;A<v;A++){D=this._newBlockBytes.readUnsignedShort();b=new B(null);a=0;while(a<w){N=0;o=this._newBlockBytes.readUnsignedInt();h=this._newBlockBytes.position+o;while(N<M){if(u[N]==1){p=b.getGraphicAt(a).elements.indices;_=new Array;d=0;while(this._newBlockBytes.position<h){s=this.readNumber(this._accuracyGeo);i=this.readNumber(this._accuracyGeo);n=this.readNumber(this._accuracyGeo);_[d++]=s;_[d++]=i;_[d++]=n}l=new k(new r);l.setIndices(p);l.setPositions(_);l.setUVs(g[a]);l.setNormals(null);l.setTangents(null);l.autoDeriveNormals=false;l.autoDeriveTangents=false;a++;b.addGraphic(l)}else this._newBlockBytes.position=h;N++}}c.addFrame(b,D)}this.parseUserAttributes();this._pFinalizeAsset(c,f);this._blocks[e].data=c;if(this._debug)console.log("Parsed a VertexClipNode: Name = "+c.name+" | Target-Graphics-Name = "+b.name+" | Number of Frames = "+c.frames.length)};t.prototype.parseVertexAnimationSet=function(e){var a=this.parseVarStr();var s=this._newBlockBytes.readUnsignedShort();var r=this.parseProperties(t.vertexAnimationSetProperties);var i=new Array;var n=new Array;var o;for(var h=0;h<s;h++){o=this._blocks[this._newBlockBytes.readUnsignedInt()].data;if(o instanceof $)n.push(o);else if(o instanceof Z)i.push(o)}if(n.length==0&&i.length==0){this._blocks[e].addError("Could not create this AnimationSet, because it contains no animations");return}this.parseUserAttributes();if(n.length>0){var l=new K;for(var d=0;d<n.length;d++)l.addAnimation(n[d]);this._pFinalizeAsset(l,a);this._blocks[e].data=l;if(this._debug)console.log("Parsed a VertexAnimationSet: Name = "+a+" | Animations = "+l.animations.length+" | Animation-Names = "+l.animationNames)}else if(i.length>0){var c=new H(r.get(1,4));for(var d=0;d<i.length;d++)c.addAnimation(i[d]);this._pFinalizeAsset(c,a);this._blocks[e].data=c;if(this._debug)console.log("Parsed a SkeletonAnimationSet: Name = "+a+" | Animations = "+c.animations.length+" | Animation-Names = "+c.animationNames)}};t.prototype.parseAnimatorSet=function(e){var a=this.parseVarStr();var s=this._newBlockBytes.readUnsignedShort();var r=this.parseProperties(t.animatorSetProperties);var i=this._blocks[this._newBlockBytes.readUnsignedInt()].data;var n=new Array;var o=this._newBlockBytes.readUnsignedShort();for(var h=0;h<o;h++)n.push(this._blocks[this._newBlockBytes.readUnsignedInt()].data);var l=this._newBlockBytes.readUnsignedShort();var d=this._newBlockBytes.readUnsignedByte()==1;this.parseUserAttributes();this.parseUserAttributes();var c;if(s==1)c=new J(i,this._blocks[r.get(1,0)].data);else if(s==2)c=new W(i);this._pFinalizeAsset(c,a);this._blocks[e].data=c;for(h=0;h<n.length;h++){if(s==1)n[h].animator=c;else if(s==2)n[h].animator=c}if(this._debug)console.log("Parsed a Animator: Name = "+a)};t.prototype.parseSharedMethodList=function(e){var t=this._newBlockBytes.readUnsignedShort();var a;var s=this.parseProperties(this.sharedMethodListProperties);switch(t){case 401:a=new lt(s.get(101,new Array(0,0,0,1,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)));break;case 402:a=new dt;var r=s.get(601,0);a.colorTransform=new d(s.get(102,1),s.get(103,1),s.get(104,1),s.get(101,1),r>>16&255,r>>8&255,r&255,r>>24&255);break;case 403:a=new ct(new V(this._blocks[s.get(1,0)].data),s.get(101,1));var i=s.get(2,0);if(i>0){}break;case 404:a=new ut(this._blocks[s.get(1,0)].data,this.blendModeDic[s.get(401,10)]);break;case 406:a=new yt(s.get(601,16777215),s.get(101,.4),s.get(101,2));break;case 407:a=new ht(this._blocks[s.get(1,0)].data,s.get(701,false));break;case 410:a=new _t(this._blocks[s.get(1,0)].data,s.get(101,1));break;case 411:a=new pt(s.get(101,0),s.get(102,1e3),s.get(601,8421504));break}this.parseUserAttributes();return a};t.prototype.parseUserAttributes=function(){var e=this._newBlockBytes.readUnsignedInt();if(e>0){var a=this._newBlockBytes.position+e;var s={};for(var r=0;this._newBlockBytes.position<a;r++){var i;var n;var o;var h;var l;i=this._newBlockBytes.readUnsignedByte();n=this.parseVarStr();o=this._newBlockBytes.readUnsignedByte();h=this._newBlockBytes.readUnsignedInt();if(this._newBlockBytes.position+h>a){console.log("           Error in reading attribute # "+r+" = skipped to end of attribute-list");this._newBlockBytes.position=a;return s}switch(o){case t.AWDSTRING:l=this._newBlockBytes.readUTFBytes(h);break;case t.INT8:l=this._newBlockBytes.readByte();break;case t.INT16:l=this._newBlockBytes.readShort();break;case t.INT32:l=this._newBlockBytes.readInt();break;case t.BOOL:case t.UINT8:l=this._newBlockBytes.readUnsignedByte();break;case t.UINT16:l=this._newBlockBytes.readUnsignedShort();break;case t.UINT32:case t.BADDR:l=this._newBlockBytes.readUnsignedInt();break;case t.FLOAT32:l=this._newBlockBytes.readFloat();break;case t.FLOAT64:l=this._newBlockBytes.readDouble();break;default:l="unimplemented attribute type "+o;this._newBlockBytes.position+=h;break}s[n]=l;if(this._debug)console.log("attribute = name: "+n+"  / value = "+l)}}return s};t.prototype.parseProperties=function(e){var t=this._newBlockBytes.readUnsignedInt();var a=new Lt;var s=this._newBlockBytes.position+t;if(e){var r;var i;var n;for(var o=0;this._newBlockBytes.position<s;o++){i=this._newBlockBytes.readUnsignedShort();r=this._newBlockBytes.readUnsignedInt();if(this._newBlockBytes.position+r>s){console.log("           Error in reading property # "+o+" = skipped to end of propertie-list");this._newBlockBytes.position=s;return a}if(e[i]){n=e[i];a.set(i,this.parseAttrValue(n,r))}else{this._newBlockBytes.position+=r}}}else{this._newBlockBytes.position=s}return a};t.prototype.parseAttrValue=function(e,a){var s;var r;var i;switch(e){case t.BOOL:case t.INT8:s=1;r=this._newBlockBytes.readByte;break;case t.INT16:s=2;r=this._newBlockBytes.readShort;break;case t.INT32:s=4;r=this._newBlockBytes.readInt;break;case t.UINT8:s=1;r=this._newBlockBytes.readUnsignedByte;break;case t.UINT16:s=2;r=this._newBlockBytes.readUnsignedShort;break;case t.UINT32:case t.COLOR:case t.BADDR:s=4;r=this._newBlockBytes.readUnsignedInt;break;case t.FLOAT32:s=4;r=this._newBlockBytes.readFloat;break;case t.FLOAT64:s=8;r=this._newBlockBytes.readDouble;break;case t.AWDSTRING:return this._newBlockBytes.readUTFBytes(a);case t.VECTOR2x1:case t.VECTOR3x1:case t.VECTOR4x1:case t.MTX3x2:case t.MTX3x3:case t.MTX4x3:case t.MTX4x4:s=8;r=this._newBlockBytes.readDouble;break;case t.GEO_NUMBER:i=this._accuracyGeo;case t.MATRIX_NUMBER:i=this._accuracyMatrix;case t.PROPERTY_NUMBER:i=this._accuracyProps;default:if(i){s=8;r=this._newBlockBytes.readDouble}else{s=4;r=this._newBlockBytes.readFloat}}if(s<a){var n=[];var o=a/s;for(var h=0;h<o;h++)n[h]=r.call(this._newBlockBytes);return n}else{return r.call(this._newBlockBytes)}};t.prototype.parseHeader=function(){this._byteData.position=3;this._version[0]=this._byteData.readUnsignedByte();this._version[1]=this._byteData.readUnsignedByte();var e=this._byteData.readUnsignedShort();this._streaming=Ct.test(e,Ct.FLAG1);if(this._version[0]==2&&this._version[1]==1){this._accuracyMatrix=Ct.test(e,Ct.FLAG2);this._accuracyGeo=Ct.test(e,Ct.FLAG3);this._accuracyProps=Ct.test(e,Ct.FLAG4)}this._compression=this._byteData.readUnsignedByte();if(this._debug){console.log("Import AWDFile of version = "+this._version[0]+" - "+this._version[1]);console.log("Global Settings = Compression = "+this._compression+" | Streaming = "+this._streaming+" | Matrix-Precision = "+this._accuracyMatrix+" | Graphics-Precision = "+this._accuracyGeo+" | Properties-Precision = "+this._accuracyProps)}var t=this._byteData.readUnsignedInt();if(!this._streaming&&t!=this._byteData.getBytesAvailable())this._pDieWithError("AWD2 body length does not match header integrity field")};t.prototype.getUVForVertexAnimation=function(e){if(this._blocks[e].data instanceof A)e=this._blocks[e].geoID;if(this._blocks[e].uvsForVertexAnimation)return this._blocks[e].uvsForVertexAnimation;var t=this._blocks[e].data;var a;var s=this._blocks[e].uvsForVertexAnimation=new Array;var r=t.count;for(var i=0;i<r;i++){a=t.getGraphicAt(i).elements;s[i]=a.uvs.get(a.numVertices)}return this._blocks[e].uvsForVertexAnimation};t.prototype.parseVarStr=function(){return this._newBlockBytes.readUTFBytes(this._newBlockBytes.readUnsignedShort())};t.prototype.readNumber=function(e){if(e===void 0){e=false}if(e)return this._newBlockBytes.readDouble();return this._newBlockBytes.readFloat()};t.prototype.parseMatrix3D=function(){return new c(this.parseMatrix43RawData())};t.prototype.parseMatrix32RawData=function(){var e=new Array(6);for(var t=0;t<6;t++)e[t]=this._newBlockBytes.readFloat();return e};t.prototype.parseMatrix43RawData=function(){var e=new Float32Array(16);e[0]=this.readNumber(this._accuracyMatrix);e[1]=this.readNumber(this._accuracyMatrix);e[2]=this.readNumber(this._accuracyMatrix);e[3]=0;e[4]=this.readNumber(this._accuracyMatrix);e[5]=this.readNumber(this._accuracyMatrix);e[6]=this.readNumber(this._accuracyMatrix);e[7]=0;e[8]=this.readNumber(this._accuracyMatrix);e[9]=this.readNumber(this._accuracyMatrix);e[10]=this.readNumber(this._accuracyMatrix);e[11]=0;e[12]=this.readNumber(this._accuracyMatrix);e[13]=this.readNumber(this._accuracyMatrix);e[14]=this.readNumber(this._accuracyMatrix);e[15]=1;if(isNaN(e[0])){e[0]=1;e[1]=0;e[2]=0;e[4]=0;e[5]=1;e[6]=0;e[8]=0;e[9]=0;e[10]=1;e[12]=0;e[13]=0;e[14]=0}return e};t.COMPRESSIONMODE_LZMA="lzma";t.UNCOMPRESSED=0;t.DEFLATE=1;t.LZMA=2;t.INT8=1;t.INT16=2;t.INT32=3;t.UINT8=4;t.UINT16=5;t.UINT32=6;t.FLOAT32=7;t.FLOAT64=8;t.BOOL=21;t.COLOR=22;t.BADDR=23;t.AWDSTRING=31;t.AWDBYTEARRAY=32;t.VECTOR2x1=41;t.VECTOR3x1=42;t.VECTOR4x1=43;t.MTX3x2=44;t.MTX3x3=45;t.MTX4x3=46;t.MTX4x4=47;t.GEO_NUMBER=48;t.MATRIX_NUMBER=49;t.PROPERTY_NUMBER=50;t.textFormatProperties={1:t.UINT16,2:t.UINT16,3:t.UINT8,4:t.UINT8,5:t.UINT8,6:t.UINT8,7:t.UINT16,8:t.UINT16,9:t.UINT16,10:t.UINT16};t.textFieldProperties={1:t.BOOL,3:t.BOOL,4:t.BOOL,5:t.BOOL,7:t.UINT8,8:t.UINT8,9:t.UINT8};t.textFieldTypes=["static","dynamic","input","input"];t.graphicsProperties={1:t.GEO_NUMBER,2:t.GEO_NUMBER};t.elementsProperties={1:t.GEO_NUMBER,2:t.GEO_NUMBER};t.primitiveProperties={101:t.GEO_NUMBER,102:t.GEO_NUMBER,103:t.GEO_NUMBER,110:t.GEO_NUMBER,111:t.GEO_NUMBER,301:t.UINT16,302:t.UINT16,303:t.UINT16,701:t.BOOL,702:t.BOOL,703:t.BOOL,704:t.BOOL};t.primitiveTypes=["Unsupported Type-ID","PrimitivePlanePrefab","PrimitiveCubePrefab","PrimitiveSpherePrefab","PrimitiveCylinderPrefab","PrimitivesConePrefab","PrimitivesCapsulePrefab","PrimitivesTorusPrefab"];t.containerProperties={1:t.MATRIX_NUMBER,2:t.MATRIX_NUMBER,3:t.MATRIX_NUMBER,4:t.UINT8};t.meshInstanceProperties={1:t.MATRIX_NUMBER,2:t.MATRIX_NUMBER,3:t.MATRIX_NUMBER,4:t.UINT8,5:t.BOOL};t.lightProperties={1:t.PROPERTY_NUMBER,2:t.PROPERTY_NUMBER,3:t.COLOR,4:t.PROPERTY_NUMBER,5:t.PROPERTY_NUMBER,6:t.BOOL,7:t.COLOR,8:t.PROPERTY_NUMBER,9:t.UINT8,10:t.UINT8,11:t.PROPERTY_NUMBER,12:t.UINT16,21:t.MATRIX_NUMBER,22:t.MATRIX_NUMBER,23:t.MATRIX_NUMBER};t.cameraProperties={101:t.PROPERTY_NUMBER,102:t.PROPERTY_NUMBER,103:t.PROPERTY_NUMBER,104:t.PROPERTY_NUMBER};t.cameraPivotProperties={1:t.MATRIX_NUMBER,2:t.MATRIX_NUMBER,3:t.MATRIX_NUMBER,4:t.UINT8};t.materialProperties={1:t.INT32,2:t.BADDR,10:t.PROPERTY_NUMBER,11:t.BOOL,12:t.PROPERTY_NUMBER,13:t.BOOL};t.material_v1Properties={1:t.UINT32,2:t.BADDR,3:t.BADDR,4:t.UINT8,5:t.BOOL,6:t.BOOL,7:t.BOOL,8:t.BOOL,9:t.UINT8,10:t.PROPERTY_NUMBER,11:t.BOOL,12:t.PROPERTY_NUMBER,13:t.BOOL,15:t.PROPERTY_NUMBER,16:t.UINT32,17:t.BADDR,18:t.PROPERTY_NUMBER,19:t.PROPERTY_NUMBER,20:t.UINT32,21:t.BADDR,22:t.BADDR};t.method_v1Properties={1:t.BADDR,2:t.BADDR,3:t.BADDR,101:t.PROPERTY_NUMBER,102:t.PROPERTY_NUMBER,103:t.PROPERTY_NUMBER,201:t.UINT32,202:t.UINT32,301:t.UINT16,302:t.UINT16,401:t.UINT8,402:t.UINT8,601:t.COLOR,602:t.COLOR,701:t.BOOL,702:t.BOOL,801:t.MTX4x4};t.commandProperties={1:t.BADDR};t.targetProperties={1:t.MATRIX_NUMBER,2:t.MATRIX_NUMBER,3:t.MATRIX_NUMBER,4:t.UINT8};t.metaDataProperties={1:t.UINT32,2:t.AWDSTRING,3:t.AWDSTRING,4:t.AWDSTRING,5:t.AWDSTRING};t.vertexAnimationSetProperties={1:t.UINT16};t.animatorSetProperties={1:t.BADDR};return t}(y);var Lt=function(){function e(){}e.prototype.set=function(e,t){this[e]=t};e.prototype.get=function(e,t){return this[e]||t};return e}();var Ct=function(){function e(){}e.test=function(e,t){return(e&t)==t};e.FLAG1=1;e.FLAG2=2;e.FLAG3=4;e.FLAG4=8;e.FLAG5=16;e.FLAG6=32;e.FLAG7=64;e.FLAG8=128;e.FLAG9=256;e.FLAG10=512;e.FLAG11=1024;e.FLAG12=2048;e.FLAG13=4096;e.FLAG14=8192;e.FLAG15=16384;e.FLAG16=32768;return e}();t.exports=Ft},{"awayjs-core/lib/attributes/AttributesBuffer":undefined,"awayjs-core/lib/attributes/Float2Attributes":undefined,"awayjs-core/lib/attributes/Float3Attributes":undefined,"awayjs-core/lib/geom/ColorTransform":undefined,"awayjs-core/lib/geom/Matrix":undefined,"awayjs-core/lib/geom/Matrix3D":undefined,"awayjs-core/lib/geom/Rectangle":undefined,"awayjs-core/lib/geom/Vector3D":undefined,"awayjs-core/lib/image/BitmapImageCube":undefined,"awayjs-core/lib/image/BlendMode":undefined,"awayjs-core/lib/image/Sampler2D":undefined,"awayjs-core/lib/library/AssetLibrary":undefined,"awayjs-core/lib/net/URLLoaderDataFormat":undefined,"awayjs-core/lib/net/URLRequest":undefined,"awayjs-core/lib/parsers/ParserBase":undefined,"awayjs-core/lib/parsers/ParserUtils":undefined,"awayjs-core/lib/projections/OrthographicOffCenterProjection":undefined,"awayjs-core/lib/projections/OrthographicProjection":undefined,"awayjs-core/lib/projections/PerspectiveProjection":undefined,"awayjs-core/lib/utils/ByteArray":undefined,"awayjs-display/lib/base/Style":undefined,"awayjs-display/lib/base/Timeline":undefined,"awayjs-display/lib/containers/DisplayObjectContainer":undefined,"awayjs-display/lib/entities/Billboard":undefined,"awayjs-display/lib/entities/Camera":undefined,"awayjs-display/lib/entities/DirectionalLight":undefined,"awayjs-display/lib/entities/Mesh":undefined,"awayjs-display/lib/entities/PointLight":undefined,"awayjs-display/lib/entities/Skybox":undefined,"awayjs-display/lib/graphics/ElementsType":undefined,"awayjs-display/lib/graphics/Graphics":undefined,"awayjs-display/lib/graphics/TriangleElements":undefined,"awayjs-display/lib/managers/DefaultMaterialManager":undefined,"awayjs-display/lib/materials/BasicMaterial":undefined,"awayjs-display/lib/materials/lightpickers/StaticLightPicker":undefined,"awayjs-display/lib/materials/shadowmappers/CubeMapShadowMapper":undefined,"awayjs-display/lib/materials/shadowmappers/DirectionalShadowMapper":undefined,"awayjs-display/lib/prefabs/PrefabBase":undefined,"awayjs-display/lib/prefabs/PrimitiveCapsulePrefab":undefined,"awayjs-display/lib/prefabs/PrimitiveConePrefab":undefined,"awayjs-display/lib/prefabs/PrimitiveCubePrefab":undefined,"awayjs-display/lib/prefabs/PrimitiveCylinderPrefab":undefined,"awayjs-display/lib/prefabs/PrimitivePlanePrefab":undefined,"awayjs-display/lib/prefabs/PrimitiveSpherePrefab":undefined,"awayjs-display/lib/prefabs/PrimitiveTorusPrefab":undefined,"awayjs-display/lib/text/Font":undefined,"awayjs-display/lib/text/TextFormat":undefined,"awayjs-display/lib/textures/MappingMode":undefined,"awayjs-display/lib/textures/Single2DTexture":undefined,"awayjs-display/lib/textures/SingleCubeTexture":undefined,"awayjs-methodmaterials/lib/MethodMaterial":undefined,"awayjs-methodmaterials/lib/MethodMaterialMode":undefined,"awayjs-methodmaterials/lib/methods/AmbientEnvMapMethod":undefined,"awayjs-methodmaterials/lib/methods/DiffuseCelMethod":undefined,"awayjs-methodmaterials/lib/methods/DiffuseDepthMethod":undefined,"awayjs-methodmaterials/lib/methods/DiffuseGradientMethod":undefined,"awayjs-methodmaterials/lib/methods/DiffuseLightMapMethod":undefined,"awayjs-methodmaterials/lib/methods/DiffuseWrapMethod":undefined,"awayjs-methodmaterials/lib/methods/EffectAlphaMaskMethod":undefined,"awayjs-methodmaterials/lib/methods/EffectColorMatrixMethod":undefined,"awayjs-methodmaterials/lib/methods/EffectColorTransformMethod":undefined,"awayjs-methodmaterials/lib/methods/EffectEnvMapMethod":undefined,"awayjs-methodmaterials/lib/methods/EffectFogMethod":undefined,"awayjs-methodmaterials/lib/methods/EffectFresnelEnvMapMethod":undefined,"awayjs-methodmaterials/lib/methods/EffectLightMapMethod":undefined,"awayjs-methodmaterials/lib/methods/EffectRimLightMethod":undefined,"awayjs-methodmaterials/lib/methods/NormalSimpleWaterMethod":undefined,"awayjs-methodmaterials/lib/methods/ShadowDitheredMethod":undefined,"awayjs-methodmaterials/lib/methods/ShadowFilteredMethod":undefined,"awayjs-methodmaterials/lib/methods/ShadowHardMethod":undefined,"awayjs-methodmaterials/lib/methods/ShadowNearMethod":undefined,"awayjs-methodmaterials/lib/methods/ShadowSoftMethod":undefined,"awayjs-methodmaterials/lib/methods/SpecularAnisotropicMethod":undefined,"awayjs-methodmaterials/lib/methods/SpecularCelMethod":undefined,"awayjs-methodmaterials/lib/methods/SpecularFresnelMethod":undefined,"awayjs-methodmaterials/lib/methods/SpecularPhongMethod":undefined,"awayjs-parsers/lib/AWD3ParserUtils/AWDBlock":"awayjs-parsers/lib/AWD3ParserUtils/AWDBlock","awayjs-player/lib/factories/AS2SceneGraphFactory":undefined,"awayjs-renderergl/lib/animators/SkeletonAnimationSet":undefined,"awayjs-renderergl/lib/animators/SkeletonAnimator":undefined,"awayjs-renderergl/lib/animators/VertexAnimationSet":undefined,"awayjs-renderergl/lib/animators/VertexAnimator":undefined,"awayjs-renderergl/lib/animators/data/JointPose":undefined,"awayjs-renderergl/lib/animators/data/Skeleton":undefined,"awayjs-renderergl/lib/animators/data/SkeletonJoint":undefined,"awayjs-renderergl/lib/animators/data/SkeletonPose":undefined,"awayjs-renderergl/lib/animators/nodes/SkeletonClipNode":undefined,"awayjs-renderergl/lib/animators/nodes/VertexClipNode":undefined}],"awayjs-parsers/lib/MD2Parser":[function(e,t,a){var s=this.__extends||function(e,t){for(var a in t)if(t.hasOwnProperty(a))e[a]=t[a];
function s(){this.constructor=e}s.prototype=t.prototype;e.prototype=new s};var r=e("awayjs-core/lib/attributes/AttributesBuffer");var i=e("awayjs-core/lib/net/URLLoaderDataFormat");var n=e("awayjs-core/lib/net/URLRequest");var o=e("awayjs-core/lib/parsers/ParserBase");var h=e("awayjs-core/lib/parsers/ParserUtils");var l=e("awayjs-display/lib/graphics/Graphics");var d=e("awayjs-display/lib/graphics/TriangleElements");var c=e("awayjs-display/lib/containers/DisplayObjectContainer");var p=e("awayjs-display/lib/entities/Mesh");var _=e("awayjs-display/lib/managers/DefaultMaterialManager");var u=e("awayjs-renderergl/lib/animators/nodes/VertexClipNode");var y=e("awayjs-renderergl/lib/animators/VertexAnimationSet");var f=e("awayjs-methodmaterials/lib/MethodMaterial");var m=e("awayjs-methodmaterials/lib/MethodMaterialMode");var b=function(e){s(t,e);function t(t,a){if(t===void 0){t="jpg"}if(a===void 0){a=true}e.call(this,i.ARRAY_BUFFER);this._clipNodes=new Object;this._animationSet=new y;this.materialFinal=false;this.graphicsCreated=false;this._textureType=t;this._ignoreTexturePath=a}t.supportsType=function(e){e=e.toLowerCase();return e=="md2"};t.supportsData=function(e){return h.toString(e,4)=="IDP2"};t.prototype._iResolveDependency=function(e){if(e.assets.length!=1)return;var t=new f(e.assets[0]);if(this.materialMode>=2)t.mode=m.MULTI_PASS;this._pContent.addChild(this._mesh);t.name=this._mesh.material.name;this._mesh.material=t;this._pFinalizeAsset(t);this._pFinalizeAsset(this._mesh.graphics);this._pFinalizeAsset(this._mesh);this.materialFinal=true};t.prototype._iResolveDependencyFailure=function(e){if(this.materialMode<2){this._mesh.material=_.getDefaultMaterial()}else{this._mesh.material=new f(_.getDefaultImage2D());this._mesh.material.mode=m.MULTI_PASS}this._pContent.addChild(this._mesh);this._pFinalizeAsset(this._mesh.graphics);this._pFinalizeAsset(this._mesh);this.materialFinal=true};t.prototype._pProceedParsing=function(){if(!this._startedParsing){this._byteData=this._pGetByteData();this._startedParsing=true;this._byteData.position=0}while(this._pHasTime()){if(!this._parsedHeader){this._mesh=new p;this._graphics=this._mesh.graphics;if(this.materialMode<2){this._mesh.material=_.getDefaultMaterial()}else{this._mesh.material=new f(_.getDefaultImage2D());this._mesh.material.mode=m.MULTI_PASS}this.parseHeader();this.parseMaterialNames()}else if(!this._parsedUV){this.parseUV()}else if(!this._parsedFaces){this.parseFaces()}else if(!this._parsedFrames){this.parseFrames()}else if(this.graphicsCreated&&this.materialFinal){return o.PARSING_DONE}else if(!this.graphicsCreated){this.graphicsCreated=true;this._graphics.addGraphic(this._firstElements.clone());this._mesh.name="";if(this.materialFinal){this._pContent.addChild(this._mesh);this._pFinalizeAsset(this._mesh.graphics);this._pFinalizeAsset(this._mesh)}this._pPauseAndRetrieveDependencies()}}return o.MORE_TO_PARSE};t.prototype._pStartParsing=function(t){this._pContent=new c;e.prototype._pStartParsing.call(this,t)};t.prototype.parseHeader=function(){this._ident=this._byteData.readInt();this._version=this._byteData.readInt();this._skinWidth=this._byteData.readInt();this._skinHeight=this._byteData.readInt();this._byteData.readInt();this._numSkins=this._byteData.readInt();this._numVertices=this._byteData.readInt();this._numST=this._byteData.readInt();this._numTris=this._byteData.readInt();this._byteData.readInt();this._numFrames=this._byteData.readInt();this._offsetSkins=this._byteData.readInt();this._offsetST=this._byteData.readInt();this._offsetTris=this._byteData.readInt();this._offsetFrames=this._byteData.readInt();this._byteData.readInt();this._offsetEnd=this._byteData.readInt();this._parsedHeader=true};t.prototype.parseMaterialNames=function(){var e;var t;var a;var s;this._materialNames=new Array;this._byteData.position=this._offsetSkins;var r=new RegExp("[^a-zA-Z0-9\\_/.]","g");for(var i=0;i<this._numSkins;++i){t=this._byteData.readUTFBytes(64);t=t.replace(r,"");a=t.lastIndexOf(".");if(this._ignoreTexturePath)s=t.lastIndexOf("/");if(t.toLowerCase().indexOf(".jpg")==-1&&t.toLowerCase().indexOf(".png")==-1){t=t.substring(s+1,a);e=t+"."+this._textureType}else{e=t}this._materialNames[i]=t;if(this.dependencies.length==0)this._pAddDependency(t,new n(e))}if(this._materialNames.length>0)this._mesh.material.name=this._materialNames[0];else this.materialFinal=true};t.prototype.parseUV=function(){var e=0;this._uvs=new Array(this._numST*2);this._byteData.position=this._offsetST;for(var t=0;t<this._numST;t++){this._uvs[e++]=this._byteData.readShort()/this._skinWidth;this._uvs[e++]=this._byteData.readShort()/this._skinHeight}this._parsedUV=true};t.prototype.parseFaces=function(){var e,t,a,s,r,i;var n;this._vertIndices=new Array;this._uvIndices=new Array;this._indices=new Array;this._byteData.position=this._offsetTris;for(n=0;n<this._numTris;n++){e=this._byteData.readUnsignedShort();t=this._byteData.readUnsignedShort();a=this._byteData.readUnsignedShort();s=this._byteData.readUnsignedShort();r=this._byteData.readUnsignedShort();i=this._byteData.readUnsignedShort();this.addIndex(e,s);this.addIndex(t,r);this.addIndex(a,i)}var o=this._uvIndices.length;this._finalUV=new Array(o*2);for(n=0;n<o;++n){this._finalUV[n<<1]=this._uvs[this._uvIndices[n]<<1];this._finalUV[(n<<1)+1]=this._uvs[(this._uvIndices[n]<<1)+1]}this._parsedFaces=true};t.prototype.addIndex=function(e,t){var a=this.findIndex(e,t);if(a==-1){this._indices.push(this._vertIndices.length);this._vertIndices.push(e);this._uvIndices.push(t)}else this._indices.push(a)};t.prototype.findIndex=function(e,t){var a=this._vertIndices.length;for(var s=0;s<a;++s){if(this._vertIndices[s]==e&&this._uvIndices[s]==t)return s}return-1};t.prototype.parseFrames=function(){var e,a,s;var i,n,o;var h;var c;var p=this._vertIndices.length;var _;var y;var f,m,b;var g="";var v=null;this._byteData.position=this._offsetFrames;for(f=0;f<this._numFrames;f++){y=new Array;_=new Array(p*3);e=this._byteData.readFloat();a=this._byteData.readFloat();s=this._byteData.readFloat();i=this._byteData.readFloat();n=this._byteData.readFloat();o=this._byteData.readFloat();g=this.readFrameName();for(m=0;m<this._numVertices;m++,this._byteData.position++)y.push(e*this._byteData.readUnsignedByte()+i,a*this._byteData.readUnsignedByte()+n,s*this._byteData.readUnsignedByte()+o);b=0;for(m=0;m<p;m++){_[b++]=y[this._vertIndices[m]*3];_[b++]=y[this._vertIndices[m]*3+2];_[b++]=y[this._vertIndices[m]*3+1]}c=new d(new r);if(this._firstElements==null)this._firstElements=c;h=new l(null);h.addGraphic(c);c.setIndices(this._indices);c.setPositions(_);c.setUVs(this._finalUV);c.setNormals(null);c.setTangents(null);c.autoDeriveNormals=false;c.autoDeriveTangents=false;var w=this._clipNodes[g];if(!w){if(v){this._pFinalizeAsset(v);this._animationSet.addAnimation(v)}w=new u;w.name=g;w.stitchFinalFrame=true;this._clipNodes[g]=w;v=w}w.addFrame(h,1e3/t.FPS)}if(v){this._pFinalizeAsset(v);this._animationSet.addAnimation(v)}this._pFinalizeAsset(this._animationSet);this._parsedFrames=true};t.prototype.readFrameName=function(){var e="";var t=0;for(var a=0;a<16;a++){var s=this._byteData.readUnsignedByte();if(Math.floor(s)>57&&Math.floor(s)<=122&&t==0)e+=String.fromCharCode(s);if(Math.floor(s)>=48&&Math.floor(s)<=57)t++}return e};t.FPS=6;return t}(o);t.exports=b},{"awayjs-core/lib/attributes/AttributesBuffer":undefined,"awayjs-core/lib/net/URLLoaderDataFormat":undefined,"awayjs-core/lib/net/URLRequest":undefined,"awayjs-core/lib/parsers/ParserBase":undefined,"awayjs-core/lib/parsers/ParserUtils":undefined,"awayjs-display/lib/containers/DisplayObjectContainer":undefined,"awayjs-display/lib/entities/Mesh":undefined,"awayjs-display/lib/graphics/Graphics":undefined,"awayjs-display/lib/graphics/TriangleElements":undefined,"awayjs-display/lib/managers/DefaultMaterialManager":undefined,"awayjs-methodmaterials/lib/MethodMaterial":undefined,"awayjs-methodmaterials/lib/MethodMaterialMode":undefined,"awayjs-renderergl/lib/animators/VertexAnimationSet":undefined,"awayjs-renderergl/lib/animators/nodes/VertexClipNode":undefined}],"awayjs-parsers/lib/MD5AnimParser":[function(e,t,a){var s=this.__extends||function(e,t){for(var a in t)if(t.hasOwnProperty(a))e[a]=t[a];function s(){this.constructor=e}s.prototype=t.prototype;e.prototype=new s};var r=e("awayjs-core/lib/geom/Quaternion");var i=e("awayjs-core/lib/geom/Vector3D");var n=e("awayjs-core/lib/net/URLLoaderDataFormat");var o=e("awayjs-core/lib/parsers/ParserBase");var h=e("awayjs-renderergl/lib/animators/data/JointPose");var l=e("awayjs-renderergl/lib/animators/data/SkeletonPose");var d=e("awayjs-renderergl/lib/animators/nodes/SkeletonClipNode");var c=function(e){s(t,e);function t(t,a){if(t===void 0){t=null}if(a===void 0){a=0}e.call(this,n.TEXT);this._parseIndex=0;this._line=0;this._charLineIndex=0;this._rotationQuat=new r;var s=new r;var o=new r;s.fromAxisAngle(i.X_AXIS,-Math.PI*.5);o.fromAxisAngle(i.Y_AXIS,-Math.PI*.5);this._rotationQuat.multiply(o,s);if(t){this._rotationQuat.multiply(o,s);s.fromAxisAngle(t,a);this._rotationQuat.multiply(s,this._rotationQuat)}}t.supportsType=function(e){e=e.toLowerCase();return e=="md5anim"};t.supportsData=function(e){return false};t.prototype._pProceedParsing=function(){var e;if(!this._startedParsing){this._textData=this._pGetTextData();this._startedParsing=true}while(this._pHasTime()){e=this.getNextToken();switch(e){case t.COMMENT_TOKEN:this.ignoreLine();break;case"":break;case t.VERSION_TOKEN:this._version=this.getNextInt();if(this._version!=10)throw new Error("Unknown version number encountered!");break;case t.COMMAND_LINE_TOKEN:this.parseCMD();break;case t.NUM_FRAMES_TOKEN:this._numFrames=this.getNextInt();this._bounds=new Array;this._frameData=new Array;break;case t.NUM_JOINTS_TOKEN:this._numJoints=this.getNextInt();this._hierarchy=new Array(this._numJoints);this._baseFrameData=new Array(this._numJoints);break;case t.FRAME_RATE_TOKEN:this._frameRate=this.getNextInt();break;case t.NUM_ANIMATED_COMPONENTS_TOKEN:this._numAnimatedComponents=this.getNextInt();break;case t.HIERARCHY_TOKEN:this.parseHierarchy();break;case t.BOUNDS_TOKEN:this.parseBounds();break;case t.BASE_FRAME_TOKEN:this.parseBaseFrame();break;case t.FRAME_TOKEN:this.parseFrame();break;default:if(!this._reachedEOF)this.sendUnknownKeywordError()}if(this._reachedEOF){this._clip=new d;this.translateClip();this._pFinalizeAsset(this._clip);return o.PARSING_DONE}}return o.MORE_TO_PARSE};t.prototype.translateClip=function(){for(var e=0;e<this._numFrames;++e)this._clip.addFrame(this.translatePose(this._frameData[e]),1e3/this._frameRate)};t.prototype.translatePose=function(e){var t;var a;var s;var n;var o;var d=new i;var c=new r;var p=e.components;var _=new l;var u=_.jointPoses;for(var y=0;y<this._numJoints;++y){o=0;a=new h;t=this._hierarchy[y];s=this._baseFrameData[y];n=t.flags;d.x=s.position.x;d.y=s.position.y;d.z=s.position.z;c.x=s.orientation.x;c.y=s.orientation.y;c.z=s.orientation.z;if(n&1)d.x=p[t.startIndex+o++];if(n&2)d.y=p[t.startIndex+o++];if(n&4)d.z=p[t.startIndex+o++];if(n&8)c.x=p[t.startIndex+o++];if(n&16)c.y=p[t.startIndex+o++];if(n&32)c.z=p[t.startIndex+o++];var f=1-c.x*c.x-c.y*c.y-c.z*c.z;c.w=f<0?0:-Math.sqrt(f);if(t.parentIndex<0){a.orientation.multiply(this._rotationQuat,c);a.translation=this._rotationQuat.rotatePoint(d)}else{a.orientation.copyFrom(c);a.translation.x=d.x;a.translation.y=d.y;a.translation.z=d.z}a.orientation.y=-a.orientation.y;a.orientation.z=-a.orientation.z;a.translation.x=-a.translation.x;u[y]=a}return _};t.prototype.parseHierarchy=function(){var e;var a;var s=this.getNextToken();var r=0;if(s!="{")this.sendUnknownKeywordError();do{if(this._reachedEOF)this.sendEOFError();a=new y;a.name=this.parseLiteralstring();a.parentIndex=this.getNextInt();a.flags=this.getNextInt();a.startIndex=this.getNextInt();this._hierarchy[r++]=a;e=this.getNextChar();if(e=="/"){this.putBack();e=this.getNextToken();if(e==t.COMMENT_TOKEN)this.ignoreLine();e=this.getNextChar()}if(e!="}")this.putBack()}while(e!="}")};t.prototype.parseBounds=function(){var e;var a;var s=this.getNextToken();var r=0;if(s!="{")this.sendUnknownKeywordError();do{if(this._reachedEOF)this.sendEOFError();a=new _;a.min=this.parseVector3D();a.max=this.parseVector3D();this._bounds[r++]=a;e=this.getNextChar();if(e=="/"){this.putBack();e=this.getNextToken();if(e==t.COMMENT_TOKEN)this.ignoreLine();e=this.getNextChar()}if(e!="}")this.putBack()}while(e!="}")};t.prototype.parseBaseFrame=function(){var e;var a;var s=this.getNextToken();var r=0;if(s!="{")this.sendUnknownKeywordError();do{if(this._reachedEOF)this.sendEOFError();a=new p;a.position=this.parseVector3D();a.orientation=this.parseQuaternion();this._baseFrameData[r++]=a;e=this.getNextChar();if(e=="/"){this.putBack();e=this.getNextToken();if(e==t.COMMENT_TOKEN)this.ignoreLine();e=this.getNextChar()}if(e!="}")this.putBack()}while(e!="}")};t.prototype.parseFrame=function(){var e;var a;var s;var r;r=this.getNextInt();s=this.getNextToken();if(s!="{")this.sendUnknownKeywordError();do{if(this._reachedEOF)this.sendEOFError();a=new u;a.components=new Array(this._numAnimatedComponents);for(var i=0;i<this._numAnimatedComponents;++i)a.components[i]=this.getNextNumber();this._frameData[r]=a;e=this.getNextChar();if(e=="/"){this.putBack();e=this.getNextToken();if(e==t.COMMENT_TOKEN)this.ignoreLine();e=this.getNextChar()}if(e!="}")this.putBack()}while(e!="}")};t.prototype.putBack=function(){this._parseIndex--;this._charLineIndex--;this._reachedEOF=this._parseIndex>=this._textData.length};t.prototype.getNextToken=function(){var e;var a="";while(!this._reachedEOF){e=this.getNextChar();if(e==" "||e=="\r"||e=="\n"||e=="	"){if(a!=t.COMMENT_TOKEN)this.skipWhiteSpace();if(a!="")return a}else a+=e;if(a==t.COMMENT_TOKEN)return a}return a};t.prototype.skipWhiteSpace=function(){var e;do e=this.getNextChar();while(e=="\n"||e==" "||e=="\r"||e=="	");this.putBack()};t.prototype.ignoreLine=function(){var e;while(!this._reachedEOF&&e!="\n")e=this.getNextChar()};t.prototype.getNextChar=function(){var e=this._textData.charAt(this._parseIndex++);if(e=="\n"){++this._line;this._charLineIndex=0}else if(e!="\r")++this._charLineIndex;if(this._parseIndex==this._textData.length)this._reachedEOF=true;return e};t.prototype.getNextInt=function(){var e=parseInt(this.getNextToken());if(isNaN(e))this.sendParseError("int type");return e};t.prototype.getNextNumber=function(){var e=parseFloat(this.getNextToken());if(isNaN(e))this.sendParseError("float type");return e};t.prototype.parseVector3D=function(){var e=new i;var t=this.getNextToken();if(t!="(")this.sendParseError("(");e.x=this.getNextNumber();e.y=this.getNextNumber();e.z=this.getNextNumber();if(this.getNextToken()!=")")this.sendParseError(")");return e};t.prototype.parseQuaternion=function(){var e=new r;var t=this.getNextToken();if(t!="(")this.sendParseError("(");e.x=this.getNextNumber();e.y=this.getNextNumber();e.z=this.getNextNumber();var a=1-e.x*e.x-e.y*e.y-e.z*e.z;e.w=a<0?0:-Math.sqrt(a);if(this.getNextToken()!=")")this.sendParseError(")");return e};t.prototype.parseCMD=function(){this.parseLiteralstring()};t.prototype.parseLiteralstring=function(){this.skipWhiteSpace();var e=this.getNextChar();var t="";if(e!='"')this.sendParseError('"');do{if(this._reachedEOF)this.sendEOFError();e=this.getNextChar();if(e!='"')t+=e}while(e!='"');return t};t.prototype.sendEOFError=function(){throw new Error("Unexpected end of file")};t.prototype.sendParseError=function(e){throw new Error("Unexpected token at line "+(this._line+1)+", character "+this._charLineIndex+". "+e+" expected, but "+this._textData.charAt(this._parseIndex-1)+" encountered")};t.prototype.sendUnknownKeywordError=function(){throw new Error("Unknown keyword at line "+(this._line+1)+", character "+this._charLineIndex+". ")};t.VERSION_TOKEN="MD5Version";t.COMMAND_LINE_TOKEN="commandline";t.NUM_FRAMES_TOKEN="numFrames";t.NUM_JOINTS_TOKEN="numJoints";t.FRAME_RATE_TOKEN="frameRate";t.NUM_ANIMATED_COMPONENTS_TOKEN="numAnimatedComponents";t.HIERARCHY_TOKEN="hierarchy";t.BOUNDS_TOKEN="bounds";t.BASE_FRAME_TOKEN="baseframe";t.FRAME_TOKEN="frame";t.COMMENT_TOKEN="//";return t}(o);var p=function(){function e(){}return e}();var _=function(){function e(){}return e}();var u=function(){function e(){}return e}();var y=function(){function e(){}return e}();t.exports=c},{"awayjs-core/lib/geom/Quaternion":undefined,"awayjs-core/lib/geom/Vector3D":undefined,"awayjs-core/lib/net/URLLoaderDataFormat":undefined,"awayjs-core/lib/parsers/ParserBase":undefined,"awayjs-renderergl/lib/animators/data/JointPose":undefined,"awayjs-renderergl/lib/animators/data/SkeletonPose":undefined,"awayjs-renderergl/lib/animators/nodes/SkeletonClipNode":undefined}],"awayjs-parsers/lib/MD5MeshParser":[function(e,t,a){var s=this.__extends||function(e,t){for(var a in t)if(t.hasOwnProperty(a))e[a]=t[a];function s(){this.constructor=e}s.prototype=t.prototype;e.prototype=new s};var r=e("awayjs-core/lib/attributes/AttributesBuffer");var i=e("awayjs-core/lib/geom/Quaternion");var n=e("awayjs-core/lib/geom/Vector3D");var o=e("awayjs-core/lib/net/URLLoaderDataFormat");var h=e("awayjs-core/lib/parsers/ParserBase");var l=e("awayjs-display/lib/graphics/TriangleElements");var d=e("awayjs-display/lib/containers/DisplayObjectContainer");var c=e("awayjs-display/lib/entities/Mesh");var p=e("awayjs-renderergl/lib/animators/SkeletonAnimationSet");var _=e("awayjs-renderergl/lib/animators/data/Skeleton");var u=e("awayjs-renderergl/lib/animators/data/SkeletonJoint");var y=function(e){s(t,e);function t(t,a){if(t===void 0){t=null}if(a===void 0){a=0}e.call(this,o.TEXT);this._parseIndex=0;this._line=0;this._charLineIndex=0;this._rotationQuat=new i;this._rotationQuat.fromAxisAngle(n.X_AXIS,-Math.PI*.5);if(t){var s=new i;s.fromAxisAngle(t,a);this._rotationQuat.multiply(this._rotationQuat,s)}}t.supportsType=function(e){e=e.toLowerCase();return e=="md5mesh"};t.supportsData=function(e){return false};t.prototype._pProceedParsing=function(){var e;if(!this._startedParsing){this._textData=this._pGetTextData();this._startedParsing=true}while(this._pHasTime()){e=this.getNextToken();switch(e){case t.COMMENT_TOKEN:this.ignoreLine();break;case t.VERSION_TOKEN:this._version=this.getNextInt();if(this._version!=10)throw new Error("Unknown version number encountered!");break;case t.COMMAND_LINE_TOKEN:this.parseCMD();break;case t.NUM_JOINTS_TOKEN:this._numJoints=this.getNextInt();this._bindPoses=new Array(this._numJoints);break;case t.NUM_MESHES_TOKEN:this._numMeshes=this.getNextInt();break;case t.JOINTS_TOKEN:this.parseJoints();break;case t.MESH_TOKEN:this.parseMesh();break;default:if(!this._reachedEOF)this.sendUnknownKeywordError()}if(this._reachedEOF){this.calculateMaxJointCount();this._animationSet=new p(this._maxJointCount);this._mesh=new c;this._graphics=this._mesh.graphics;for(var a=0;a<this._meshData.length;++a)this._graphics.addGraphic(this.translateElements(this._meshData[a].vertexData,this._meshData[a].weightData,this._meshData[a].indices));this._pContent.addChild(this._mesh);this._pFinalizeAsset(this._graphics);this._pFinalizeAsset(this._mesh);this._pFinalizeAsset(this._skeleton);this._pFinalizeAsset(this._animationSet);return h.PARSING_DONE}}return h.MORE_TO_PARSE};t.prototype._pStartParsing=function(t){this._pContent=new d;e.prototype._pStartParsing.call(this,t)};t.prototype.calculateMaxJointCount=function(){this._maxJointCount=0;var e=this._meshData.length;for(var t=0;t<e;++t){var a=this._meshData[t];var s=a.vertexData;var r=s.length;for(var i=0;i<r;++i){var n=this.countZeroWeightJoints(s[i],a.weightData);var o=s[i].countWeight-n;if(o>this._maxJointCount)this._maxJointCount=o}}};t.prototype.countZeroWeightJoints=function(e,t){var a=e.startWeight;var s=e.startWeight+e.countWeight;var r=0;var i;for(var n=a;n<s;++n){i=t[n].bias;if(i==0)++r}return r};t.prototype.parseJoints=function(){var e;var a;var s;var r;var i=0;var n=this.getNextToken();if(n!="{")this.sendUnknownKeywordError();this._skeleton=new _;do{if(this._reachedEOF)this.sendEOFError();a=new u;a.name=this.parseLiteralstring();a.parentIndex=this.getNextInt();s=this.parseVector3D();s=this._rotationQuat.rotatePoint(s);r=this.parseQuaternion();this._bindPoses[i]=r.toMatrix3D();this._bindPoses[i].appendTranslation(s.x,s.y,s.z);var o=this._bindPoses[i].clone();o.invert();a.inverseBindPose=o.rawData;this._skeleton.joints[i++]=a;e=this.getNextChar();if(e=="/"){this.putBack();e=this.getNextToken();if(e==t.COMMENT_TOKEN)this.ignoreLine();e=this.getNextChar()}if(e!="}")this.putBack()}while(e!="}")};t.prototype.putBack=function(){this._parseIndex--;this._charLineIndex--;this._reachedEOF=this._parseIndex>=this._textData.length};t.prototype.parseMesh=function(){var e=this.getNextToken();var a;var s;var r;var i;if(e!="{")this.sendUnknownKeywordError();if(this._shaders==null)this._shaders=new Array;while(a!="}"){a=this.getNextToken();switch(a){case t.COMMENT_TOKEN:this.ignoreLine();break;case t.MESH_SHADER_TOKEN:this._shaders.push(this.parseLiteralstring());break;case t.MESH_NUM_VERTS_TOKEN:s=new Array(this.getNextInt());break;case t.MESH_NUM_TRIS_TOKEN:i=new Array(this.getNextInt()*3);break;case t.MESH_NUM_WEIGHTS_TOKEN:r=new Array(this.getNextInt());break;case t.MESH_VERT_TOKEN:this.parseVertex(s);break;case t.MESH_TRI_TOKEN:this.parseTri(i);break;case t.MESH_WEIGHT_TOKEN:this.parseJoint(r);break}}if(this._meshData==null)this._meshData=new Array;var n=this._meshData.length;this._meshData[n]=new b;this._meshData[n].vertexData=s;this._meshData[n].weightData=r;this._meshData[n].indices=i};t.prototype.translateElements=function(e,t,a){var s=e.length;var i,n,o;var h;var d;var c;var p;var _=new l(new r);var u=new Array(s*2);var y=new Array(s*3);var f=new Array(s*this._maxJointCount);var m=new Array(s*this._maxJointCount);var b=0;var g;for(var v=0;v<s;++v){h=e[v];i=h.index*3;n=i+1;o=i+2;y[i]=y[n]=y[o]=0;g=0;for(var w=0;w<h.countWeight;++w){d=t[h.startWeight+w];if(d.bias>0){c=this._bindPoses[d.joint];p=c.transformVector(d.pos);y[i]+=p.x*d.bias;y[n]+=p.y*d.bias;y[o]+=p.z*d.bias;f[b]=d.joint*3;m[b++]=d.bias;++g}}for(w=g;w<this._maxJointCount;++w){f[b]=0;m[b++]=0}i=h.index<<1;u[i++]=h.s;u[i]=h.t}_.jointsPerVertex=this._maxJointCount;_.setIndices(a);_.setPositions(y);_.setUVs(u);_.setJointIndices(f);_.setJointWeights(m);_.setNormals(null);_.setTangents(null);_.autoDeriveTangents=false;_.autoDeriveNormals=false;return _};t.prototype.parseTri=function(e){var t=this.getNextInt()*3;e[t]=this.getNextInt();e[t+1]=this.getNextInt();e[t+2]=this.getNextInt()};t.prototype.parseJoint=function(e){var t=new m;t.index=this.getNextInt();t.joint=this.getNextInt();t.bias=this.getNextNumber();t.pos=this.parseVector3D();e[t.index]=t};t.prototype.parseVertex=function(e){var t=new f;t.index=this.getNextInt();this.parseUV(t);t.startWeight=this.getNextInt();t.countWeight=this.getNextInt();e[t.index]=t};t.prototype.parseUV=function(e){var t=this.getNextToken();if(t!="(")this.sendParseError("(");e.s=this.getNextNumber();e.t=this.getNextNumber();if(this.getNextToken()!=")")this.sendParseError(")")};t.prototype.getNextToken=function(){var e;var a="";while(!this._reachedEOF){e=this.getNextChar();if(e==" "||e=="\r"||e=="\n"||e=="	"){if(a!=t.COMMENT_TOKEN)this.skipWhiteSpace();if(a!="")return a}else a+=e;if(a==t.COMMENT_TOKEN)return a}return a};t.prototype.skipWhiteSpace=function(){var e;do e=this.getNextChar();while(e=="\n"||e==" "||e=="\r"||e=="	");this.putBack()};t.prototype.ignoreLine=function(){var e;while(!this._reachedEOF&&e!="\n")e=this.getNextChar()};t.prototype.getNextChar=function(){var e=this._textData.charAt(this._parseIndex++);if(e=="\n"){++this._line;this._charLineIndex=0}else if(e!="\r")++this._charLineIndex;if(this._parseIndex>=this._textData.length)this._reachedEOF=true;return e};t.prototype.getNextInt=function(){var e=parseInt(this.getNextToken());if(isNaN(e))this.sendParseError("int type");return e};t.prototype.getNextNumber=function(){var e=parseFloat(this.getNextToken());if(isNaN(e))this.sendParseError("float type");return e};t.prototype.parseVector3D=function(){var e=new n;var t=this.getNextToken();if(t!="(")this.sendParseError("(");e.x=-this.getNextNumber();e.y=this.getNextNumber();e.z=this.getNextNumber();if(this.getNextToken()!=")")this.sendParseError(")");return e};t.prototype.parseQuaternion=function(){var e=new i;var t=this.getNextToken();if(t!="(")this.sendParseError("(");e.x=this.getNextNumber();e.y=-this.getNextNumber();e.z=-this.getNextNumber();var a=1-e.x*e.x-e.y*e.y-e.z*e.z;e.w=a<0?0:-Math.sqrt(a);if(this.getNextToken()!=")")this.sendParseError(")");var s=new i;s.multiply(this._rotationQuat,e);return s};t.prototype.parseCMD=function(){this.parseLiteralstring()};t.prototype.parseLiteralstring=function(){this.skipWhiteSpace();var e=this.getNextChar();var t="";if(e!='"')this.sendParseError('"');do{if(this._reachedEOF)this.sendEOFError();e=this.getNextChar();if(e!='"')t+=e}while(e!='"');return t};t.prototype.sendEOFError=function(){throw new Error("Unexpected end of file")};t.prototype.sendParseError=function(e){throw new Error("Unexpected token at line "+(this._line+1)+", character "+this._charLineIndex+". "+e+" expected, but "+this._textData.charAt(this._parseIndex-1)+" encountered")};t.prototype.sendUnknownKeywordError=function(){throw new Error("Unknown keyword at line "+(this._line+1)+", character "+this._charLineIndex+". ")};t.VERSION_TOKEN="MD5Version";t.COMMAND_LINE_TOKEN="commandline";t.NUM_JOINTS_TOKEN="numJoints";t.NUM_MESHES_TOKEN="numMeshes";t.COMMENT_TOKEN="//";t.JOINTS_TOKEN="joints";t.MESH_TOKEN="mesh";t.MESH_SHADER_TOKEN="shader";t.MESH_NUM_VERTS_TOKEN="numverts";t.MESH_VERT_TOKEN="vert";t.MESH_NUM_TRIS_TOKEN="numtris";t.MESH_TRI_TOKEN="tri";t.MESH_NUM_WEIGHTS_TOKEN="numweights";t.MESH_WEIGHT_TOKEN="weight";return t}(h);var f=function(){function e(){}return e}();var m=function(){function e(){}return e}();var b=function(){function e(){}return e}();t.exports=y},{"awayjs-core/lib/attributes/AttributesBuffer":undefined,"awayjs-core/lib/geom/Quaternion":undefined,"awayjs-core/lib/geom/Vector3D":undefined,"awayjs-core/lib/net/URLLoaderDataFormat":undefined,"awayjs-core/lib/parsers/ParserBase":undefined,"awayjs-display/lib/containers/DisplayObjectContainer":undefined,"awayjs-display/lib/entities/Mesh":undefined,"awayjs-display/lib/graphics/TriangleElements":undefined,"awayjs-renderergl/lib/animators/SkeletonAnimationSet":undefined,"awayjs-renderergl/lib/animators/data/Skeleton":undefined,"awayjs-renderergl/lib/animators/data/SkeletonJoint":undefined}],"awayjs-parsers/lib/Max3DSParser":[function(e,t,a){var s=this.__extends||function(e,t){for(var a in t)if(t.hasOwnProperty(a))e[a]=t[a];function s(){this.constructor=e}s.prototype=t.prototype;e.prototype=new s};var r=e("awayjs-core/lib/attributes/AttributesBuffer");var i=e("awayjs-core/lib/image/BitmapImage2D");var n=e("awayjs-core/lib/geom/Matrix3D");var o=e("awayjs-core/lib/geom/Vector3D");var h=e("awayjs-core/lib/net/URLLoaderDataFormat");var l=e("awayjs-core/lib/net/URLRequest");var d=e("awayjs-core/lib/parsers/ParserBase");var c=e("awayjs-core/lib/parsers/ParserUtils");var p=e("awayjs-display/lib/graphics/TriangleElements");var _=e("awayjs-display/lib/containers/DisplayObjectContainer");var u=e("awayjs-display/lib/entities/Mesh");var y=e("awayjs-display/lib/managers/DefaultMaterialManager");var f=e("awayjs-display/lib/textures/Single2DTexture");var m=e("awayjs-methodmaterials/lib/MethodMaterial");var b=e("awayjs-methodmaterials/lib/MethodMaterialMode");var g=function(e){s(t,e);function t(t){if(t===void 0){t=true}e.call(this,h.ARRAY_BUFFER);this._useSmoothingGroups=t}t.supportsType=function(e){e=e.toLowerCase();return e=="3ds"};t.supportsData=function(e){var t;t=c.toByteArray(e);if(t){t.position=0;if(t.readShort()==19789)return true}return false};t.prototype._iResolveDependency=function(e){if(e.assets.length==1){var t;t=e.assets[0];if(t.isAsset(i)){var a;a=this._textures[e.id];a.texture=new f(t)}}};t.prototype._iResolveDependencyFailure=function(e){};t.prototype._pProceedParsing=function(){if(!this._byteData){this._byteData=this._pGetByteData();this._byteData.position=0;this._textures={};this._materials={};this._unfinalized_objects={}}while(this._pHasTime()){if(this._cur_mat&&this._byteData.position>=this._cur_mat_end)this.finalizeCurrentMaterial();else if(this._cur_obj&&this._byteData.position>=this._cur_obj_end){this._unfinalized_objects[this._cur_obj.name]=this._cur_obj;this._cur_obj_end=Number.MAX_VALUE;this._cur_obj=null}if(this._byteData.getBytesAvailable()>0){var e;var t;var a;e=this._byteData.readUnsignedShort();t=this._byteData.readUnsignedInt();a=this._byteData.position+(t-6);switch(e){case 19789:case 15677:case 45056:continue;break;case 45055:this._cur_mat_end=a;this._cur_mat=this.parseMaterial();break;case 16384:this._cur_obj_end=a;this._cur_obj=new B;this._cur_obj.name=this.readNulTermstring();this._cur_obj.materials=new Array;this._cur_obj.materialFaces={};break;case 16640:this._cur_obj.type=u.assetType;break;case 16656:this.parseVertexList();break;case 16672:this.parseFaceList();break;case 16704:this.parseUVList();break;case 16688:this.parseFaceMaterialList();break;case 16736:this._cur_obj.transform=this.readTransform();break;case 45058:this.parseObjectAnimation(a);break;case 16720:this.parseSmoothingGroups();break;default:this._byteData.position+=t-6;break}if(this.dependencies.length){this._pPauseAndRetrieveDependencies();break}}}if(this._byteData.getBytesAvailable()||this._cur_obj||this._cur_mat){return d.MORE_TO_PARSE}else{var s;for(s in this._unfinalized_objects){var r;r=this.constructObject(this._unfinalized_objects[s]);if(r){this._pContent.addChild(r);this._pFinalizeAsset(r,s)}}return d.PARSING_DONE}};t.prototype._pStartParsing=function(t){this._pContent=new _;e.prototype._pStartParsing.call(this,t)};t.prototype.parseMaterial=function(){var e;e=new w;while(this._byteData.position<this._cur_mat_end){var t;var a;var s;t=this._byteData.readUnsignedShort();a=this._byteData.readUnsignedInt();s=this._byteData.position+(a-6);switch(t){case 40960:e.name=this.readNulTermstring();break;case 40976:e.ambientColor=this.readColor();break;case 40992:e.diffuseColor=this.readColor();break;case 41008:e.specularColor=this.readColor();break;case 41089:e.twoSided=true;break;case 41472:e.colorMap=this.parseTexture(s);break;case 41476:e.specularMap=this.parseTexture(s);break;default:this._byteData.position=s;break}}return e};t.prototype.parseTexture=function(e){var t;t=new k;while(this._byteData.position<e){var a;var s;a=this._byteData.readUnsignedShort();s=this._byteData.readUnsignedInt();switch(a){case 41728:t.url=this.readNulTermstring();break;default:this._byteData.position+=s-6;break}}this._textures[t.url]=t;this._pAddDependency(t.url,new l(t.url));return t};t.prototype.parseVertexList=function(){var e;var t;var a;a=this._byteData.readUnsignedShort();this._cur_obj.verts=new Array(a*3);e=0;t=this._cur_obj.verts.length;while(e<t){var s,r,i;s=this._byteData.readFloat();r=this._byteData.readFloat();i=this._byteData.readFloat();this._cur_obj.verts[e++]=s;this._cur_obj.verts[e++]=i;this._cur_obj.verts[e++]=r}};t.prototype.parseFaceList=function(){var e;var t;var a;a=this._byteData.readUnsignedShort();this._cur_obj.indices=new Array(a*3);e=0;t=this._cur_obj.indices.length;while(e<t){var s,r,i;s=this._byteData.readUnsignedShort();r=this._byteData.readUnsignedShort();i=this._byteData.readUnsignedShort();this._cur_obj.indices[e++]=s;this._cur_obj.indices[e++]=i;this._cur_obj.indices[e++]=r;this._byteData.position+=2}this._cur_obj.smoothingGroups=new Array(a)};t.prototype.parseSmoothingGroups=function(){var e=this._cur_obj.indices.length/3;var t=0;while(t<e){this._cur_obj.smoothingGroups[t]=this._byteData.readUnsignedInt();t++}};t.prototype.parseUVList=function(){var e;var t;var a;a=this._byteData.readUnsignedShort();this._cur_obj.uvs=new Array(a*2);e=0;t=this._cur_obj.uvs.length;while(e<t){this._cur_obj.uvs[e++]=this._byteData.readFloat();this._cur_obj.uvs[e++]=1-this._byteData.readFloat()}};t.prototype.parseFaceMaterialList=function(){var e;var t;var a;
var s;e=this.readNulTermstring();t=this._byteData.readUnsignedShort();s=new Array(t);a=0;while(a<s.length)s[a++]=this._byteData.readUnsignedShort();this._cur_obj.materials.push(e);this._cur_obj.materialFaces[e]=s};t.prototype.parseObjectAnimation=function(e){var t;var a;var s;var r;var i;s=new o;while(this._byteData.position<e){var n;var h;n=this._byteData.readUnsignedShort();h=this._byteData.readUnsignedInt();switch(n){case 45072:r=this.readNulTermstring();this._byteData.position+=4;i=this._byteData.readShort();break;case 45075:s.x=this._byteData.readFloat();s.z=this._byteData.readFloat();s.y=this._byteData.readFloat();break;default:this._byteData.position+=h-6;break}}if(r!="$$$DUMMY"&&this._unfinalized_objects.hasOwnProperty(r)){t=this._unfinalized_objects[r];a=this.constructObject(t,s);if(a){this._pContent.addChild(a);this._pFinalizeAsset(a,t.name)}delete this._unfinalized_objects[r]}};t.prototype.constructObject=function(e,t){if(t===void 0){t=null}if(e.type==u.assetType){var a;var s;var i;var o;var h;var l;var d;var c;if(e.materials.length>1)console.log("The Away3D 3DS parser does not support multiple materials per mesh at this point.");if(!e.indices||e.indices.length==0)return null;d=new Array(e.verts.length/3);c=new Array(e.indices.length/3);this.prepareData(d,c,e);if(this._useSmoothingGroups)this.applySmoothGroups(d,c);e.verts=new Array(d.length*3);for(a=0;a<d.length;a++){e.verts[a*3]=d[a].x;e.verts[a*3+1]=d[a].y;e.verts[a*3+2]=d[a].z}e.indices=new Array(c.length*3);for(a=0;a<c.length;a++){e.indices[a*3]=c[a].a;e.indices[a*3+1]=c[a].b;e.indices[a*3+2]=c[a].c}if(e.uvs){e.uvs=new Array(d.length*2);for(a=0;a<d.length;a++){e.uvs[a*2]=d[a].u;e.uvs[a*2+1]=d[a].v}}if(e.materials.length>0){var _;_=e.materials[0];o=this._materials[_].material}h=new u(o);h.transform.matrix3D=new n(e.transform);i=h.graphics;s=new p(new r);s.setIndices(e.indices);s.setPositions(e.verts);s.setUVs(e.uvs);i.addGraphic(s);if(t){if(e.transform){l=new n(e.transform);l.rawData[12]=0;l.rawData[13]=0;l.rawData[14]=0;t=l.transformVector(t)}t.scaleBy(-1);l=new n;l.appendTranslation(t.x,t.y,t.z);i.applyTransformation(l)}if(e.transform){l=new n(e.transform);l.invert();i.applyTransformation(l)}this._pFinalizeAsset(i,e.name.concat("_graphics"));return h}return null};t.prototype.prepareData=function(e,t,a){var s;var r;var i;var n=a.verts.length;for(s=0,r=0,i=0;s<n;){var o=new M;o.x=a.verts[s++];o.y=a.verts[s++];o.z=a.verts[s++];if(a.uvs){o.u=a.uvs[r++];o.v=a.uvs[r++]}e[i++]=o}n=a.indices.length;for(s=0,i=0;s<n;){var h=new v;h.a=a.indices[s++];h.b=a.indices[s++];h.c=a.indices[s++];h.smoothGroup=a.smoothingGroups[i]||0;t[i++]=h}};t.prototype.applySmoothGroups=function(e,t){var a;var s;var r;var i;var n;var o=e.length;var h=t.length;var l=new Array(o);for(a=0;a<o;a++)l[a]=new Array;for(a=0;a<h;a++){var d=t[a];for(s=0;s<3;s++){var c=l[s==0?d.a:s==1?d.b:d.c];var p=d.smoothGroup;for(r=c.length-1;r>=0;r--){if((p&c[r])>0){p|=c[r];c.splice(r,1);r=c.length-1}}c.push(p)}}var _=new Array(o);for(a=0;a<o;a++){if((n=l[a].length)<1)continue;var u=new Array(n);_[a]=u;u[0]=a;var y=e[a];for(s=1;s<n;s++){var f=new M;f.x=y.x;f.y=y.y;f.z=y.z;f.u=y.u;f.v=y.v;u[s]=e.length;e.push(f)}}o=e.length;for(a=0;a<h;a++){d=t[a];p=d.smoothGroup;for(s=0;s<3;s++){r=s==0?d.a:s==1?d.b:d.c;c=l[r];n=c.length;u=_[r];for(i=0;i<n;i++){if(p==0&&c[i]==0||(p&c[i])>0){var m=u[i];if(p==0){c.splice(i,1);u.splice(i,1)}if(s==0)d.a=m;else if(s==1)d.b=m;else d.c=m;i=n}}}}};t.prototype.finalizeCurrentMaterial=function(){var e;e=new m(this._cur_mat.ambientColor);if(this._cur_mat.colorMap)e.ambientMethod.texture=this._cur_mat.colorMap.texture||y.getDefaultTexture();e.diffuseMethod.color=this._cur_mat.diffuseColor;e.specularMethod.color=this._cur_mat.specularColor;if(this.materialMode>=2)e.mode=b.MULTI_PASS;e.bothSides=this._cur_mat.twoSided;this._pFinalizeAsset(e,this._cur_mat.name);this._materials[this._cur_mat.name]=this._cur_mat;this._cur_mat.material=e;this._cur_mat=null};t.prototype.readNulTermstring=function(){var e;var t="";while((e=this._byteData.readUnsignedByte())>0)t+=String.fromCharCode(e);return t};t.prototype.readTransform=function(){var e=new Float32Array(16);e[0]=this._byteData.readFloat();e[2]=this._byteData.readFloat();e[1]=this._byteData.readFloat();e[3]=0;e[8]=this._byteData.readFloat();e[10]=this._byteData.readFloat();e[9]=this._byteData.readFloat();e[11]=0;e[4]=this._byteData.readFloat();e[6]=this._byteData.readFloat();e[5]=this._byteData.readFloat();e[7]=0;e[12]=this._byteData.readFloat();e[14]=this._byteData.readFloat();e[13]=this._byteData.readFloat();e[15]=1;return e};t.prototype.readColor=function(){var e;var t;var a,s,r;e=this._byteData.readUnsignedShort();t=this._byteData.readUnsignedInt();switch(e){case 16:a=this._byteData.readFloat()*255;s=this._byteData.readFloat()*255;r=this._byteData.readFloat()*255;break;case 17:a=this._byteData.readUnsignedByte();s=this._byteData.readUnsignedByte();r=this._byteData.readUnsignedByte();break;default:this._byteData.position+=t-6;break}return a<<16|s<<8|r};return t}(d);var v=function(){function e(){}return e}();var w=function(){function e(){}return e}();var B=function(){function e(){}return e}();var k=function(){function e(){}return e}();var M=function(){function e(){}return e}();t.exports=g},{"awayjs-core/lib/attributes/AttributesBuffer":undefined,"awayjs-core/lib/geom/Matrix3D":undefined,"awayjs-core/lib/geom/Vector3D":undefined,"awayjs-core/lib/image/BitmapImage2D":undefined,"awayjs-core/lib/net/URLLoaderDataFormat":undefined,"awayjs-core/lib/net/URLRequest":undefined,"awayjs-core/lib/parsers/ParserBase":undefined,"awayjs-core/lib/parsers/ParserUtils":undefined,"awayjs-display/lib/containers/DisplayObjectContainer":undefined,"awayjs-display/lib/entities/Mesh":undefined,"awayjs-display/lib/graphics/TriangleElements":undefined,"awayjs-display/lib/managers/DefaultMaterialManager":undefined,"awayjs-display/lib/textures/Single2DTexture":undefined,"awayjs-methodmaterials/lib/MethodMaterial":undefined,"awayjs-methodmaterials/lib/MethodMaterialMode":undefined}],"awayjs-parsers/lib/OBJParser":[function(e,t,a){var s=this.__extends||function(e,t){for(var a in t)if(t.hasOwnProperty(a))e[a]=t[a];function s(){this.constructor=e}s.prototype=t.prototype;e.prototype=new s};var r=e("awayjs-core/lib/image/Sampler2D");var i=e("awayjs-core/lib/attributes/AttributesBuffer");var n=e("awayjs-core/lib/image/BitmapImage2D");var o=e("awayjs-core/lib/net/URLLoaderDataFormat");var h=e("awayjs-core/lib/net/URLRequest");var l=e("awayjs-core/lib/parsers/ParserBase");var d=e("awayjs-core/lib/parsers/ParserUtils");var c=e("awayjs-display/lib/graphics/TriangleElements");var p=e("awayjs-display/lib/containers/DisplayObjectContainer");var _=e("awayjs-display/lib/entities/Mesh");var u=e("awayjs-display/lib/managers/DefaultMaterialManager");var y=e("awayjs-display/lib/textures/Single2DTexture");var f=e("awayjs-methodmaterials/lib/MethodMaterial");var m=e("awayjs-methodmaterials/lib/MethodMaterialMode");var b=e("awayjs-methodmaterials/lib/methods/SpecularBasicMethod");var g=function(e){s(t,e);function t(t){if(t===void 0){t=1}e.call(this,o.TEXT);this._mtlLibLoaded=true;this._activeMaterialID="";this._scale=t}Object.defineProperty(t.prototype,"scale",{set:function(e){this._scale=e},enumerable:true,configurable:true});t.supportsType=function(e){e=e.toLowerCase();return e=="obj"};t.supportsData=function(e){var t=d.toString(e);var a=false;var s=false;if(t){a=t.indexOf("\nv ")!=-1;s=t.indexOf("\nf ")!=-1}return a&&s};t.prototype._iResolveDependency=function(e){if(e.id=="mtl"){var t=d.toString(e.data);this.parseMtl(t)}else{var a;if(e.assets.length!=1){return}a=e.assets[0];if(a.isAsset(n)){var s=new M;s.materialID=e.id;s.texture=new y(a);this._materialLoaded.push(s);if(this._meshes.length>0){this.applyMaterial(s)}}}};t.prototype._iResolveDependencyFailure=function(e){if(e.id=="mtl"){this._mtlLib=false;this._mtlLibLoaded=false}else{var t=new M;t.materialID=e.id;this._materialLoaded.push(t)}if(this._meshes.length>0)this.applyMaterial(t)};t.prototype._pProceedParsing=function(){var e;var t=String.fromCharCode(10);var a;if(!this._startedParsing){this._textData=this._pGetTextData();this._textData=this._textData.replace(/\\[\r\n]+\s*/gm," ")}if(this._textData.indexOf(t)==-1)t=String.fromCharCode(13);if(!this._startedParsing){this._startedParsing=true;this._vertices=new Array;this._vertexNormals=new Array;this._materialIDs=new Array;this._materialLoaded=new Array;this._meshes=new Array;this._uvs=new Array;this._stringLength=this._textData.length;this._charIndex=this._textData.indexOf(t,0);this._oldIndex=0;this._objects=new Array;this._objectIndex=0}while(this._charIndex<this._stringLength&&this._pHasTime()){this._charIndex=this._textData.indexOf(t,this._oldIndex);if(this._charIndex==-1)this._charIndex=this._stringLength;e=this._textData.substring(this._oldIndex,this._charIndex);e=e.split("\r").join("");e=e.replace("  "," ");a=e.split(" ");this._oldIndex=this._charIndex+1;this.parseLine(a);if(this.parsingPaused){return l.MORE_TO_PARSE}}if(this._charIndex>=this._stringLength){if(this._mtlLib&&!this._mtlLibLoaded){return l.MORE_TO_PARSE}this.translate();this.applyMaterials();return l.PARSING_DONE}return l.MORE_TO_PARSE};t.prototype._pStartParsing=function(t){this._pContent=new p;e.prototype._pStartParsing.call(this,t)};t.prototype.parseLine=function(e){switch(e[0]){case"mtllib":this._mtlLib=true;this._mtlLibLoaded=false;this.loadMtl(e[1]);break;case"g":this.createGroup(e);break;case"o":this.createObject(e);break;case"usemtl":if(this._mtlLib){if(!e[1])e[1]="def000";this._materialIDs.push(e[1]);this._activeMaterialID=e[1];if(this._currentGroup)this._currentGroup.materialID=this._activeMaterialID}break;case"v":this.parseVertex(e);break;case"vt":this.parseUV(e);break;case"vn":this.parseVertexNormal(e);break;case"f":this.parseFace(e)}};t.prototype.translate=function(){for(var e=0;e<this._objects.length;++e){var t=this._objects[e].groups;var a=t.length;var s;var r;var i;var n;var o;var h;var l;for(var d=0;d<a;++d){l=new f(u.getDefaultImage2D());if(this.materialMode>=2)l.mode=m.MULTI_PASS;n=new _(l);i=n.graphics;s=t[d].materialGroups;r=s.length;for(o=0;o<r;++o)this.translateMaterialGroup(s[o],i);if(i.count==0)continue;this._pFinalizeAsset(i);if(this._objects[e].name){n.name=this._objects[e].name}else if(t[d].name){n.name=t[d].name}else{n.name=""}this._meshes.push(n);if(t[d].materialID!="")l.name=t[d].materialID+"~"+n.name;else l.name=this._lastMtlID+"~"+n.name;if(n.graphics.count>1){for(h=1;h<n.graphics.count;++h)n.graphics.getGraphicAt(h).material=l}this._pContent.addChild(n);this._pFinalizeAsset(n)}}};t.prototype.translateMaterialGroup=function(e,t){var a=e.faces;var s;var r=a.length;var n;var o;var h=new Array;var l=new Array;var d=new Array;var p=new Array;this._realIndices=[];this._vertexIndex=0;var _;for(var u=0;u<r;++u){s=a[u];n=s.indexIds.length-1;for(_=1;_<n;++_){this.translateVertexData(s,_,h,l,p,d);this.translateVertexData(s,0,h,l,p,d);this.translateVertexData(s,_+1,h,l,p,d)}}if(h.length>0){o=new c(new i);o.autoDeriveNormals=d.length?false:true;o.setIndices(p);o.setPositions(h);o.setNormals(d);o.setUVs(l);t.addGraphic(o)}};t.prototype.translateVertexData=function(e,t,a,s,r,i){var n;var o;var h;var l;if(!this._realIndices[e.indexIds[t]]){n=this._vertexIndex;this._realIndices[e.indexIds[t]]=++this._vertexIndex;o=this._vertices[e.vertexIndices[t]-1];a.push(o.x*this._scale,o.y*this._scale,o.z*this._scale);if(e.normalIndices.length>0){h=this._vertexNormals[e.normalIndices[t]-1];i.push(h.x,h.y,h.z)}if(e.uvIndices.length>0){try{l=this._uvs[e.uvIndices[t]-1];s.push(l.u,l.v)}catch(d){switch(t){case 0:s.push(0,1);break;case 1:s.push(.5,0);break;case 2:s.push(1,1)}}}}else{n=this._realIndices[e.indexIds[t]]-1}r.push(n)};t.prototype.createObject=function(e){this._currentGroup=null;this._currentMaterialGroup=null;this._objects.push(this._currentObject=new v);if(e)this._currentObject.name=e[1]};t.prototype.createGroup=function(e){if(!this._currentObject)this.createObject(null);this._currentGroup=new w;this._currentGroup.materialID=this._activeMaterialID;if(e)this._currentGroup.name=e[1];this._currentObject.groups.push(this._currentGroup);this.createMaterialGroup(null)};t.prototype.createMaterialGroup=function(e){this._currentMaterialGroup=new B;if(e)this._currentMaterialGroup.url=e[1];this._currentGroup.materialGroups.push(this._currentMaterialGroup)};t.prototype.parseVertex=function(e){var t,a,s;if(e.length>4){var r=[];var i;for(var n=1;n<e.length;++n){i=parseFloat(e[n]);if(!isNaN(i))r.push(i)}t=r[0];a=r[1];s=-r[2];this._vertices.push(new A(t,a,s))}else{t=parseFloat(e[1]);a=parseFloat(e[2]);s=-parseFloat(e[3]);this._vertices.push(new A(t,a,s))}};t.prototype.parseUV=function(e){if(e.length>3){var t=[];var a;for(var s=1;s<e.length;++s){a=parseFloat(e[s]);if(!isNaN(a))t.push(a)}this._uvs.push(new D(t[0],1-t[1]))}else{this._uvs.push(new D(parseFloat(e[1]),1-parseFloat(e[2])))}};t.prototype.parseVertexNormal=function(e){if(e.length>4){var t=[];var a;for(var s=1;s<e.length;++s){a=parseFloat(e[s]);if(!isNaN(a))t.push(a)}this._vertexNormals.push(new A(t[0],t[1],-t[2]))}else{this._vertexNormals.push(new A(parseFloat(e[1]),parseFloat(e[2]),-parseFloat(e[3])))}};t.prototype.parseFace=function(e){var t=e.length;var a=new N;if(!this._currentGroup){this.createGroup(null)}var s;for(var r=1;r<t;++r){if(e[r]==""){continue}s=e[r].split("/");a.vertexIndices.push(this.parseIndex(parseInt(s[0]),this._vertices.length));if(s[1]&&String(s[1]).length>0)a.uvIndices.push(this.parseIndex(parseInt(s[1]),this._uvs.length));if(s[2]&&String(s[2]).length>0)a.normalIndices.push(this.parseIndex(parseInt(s[2]),this._vertexNormals.length));a.indexIds.push(e[r])}this._currentMaterialGroup.faces.push(a)};t.prototype.parseIndex=function(e,t){if(e<0)return e+t+1;else return e};t.prototype.parseMtl=function(e){var t=e.split("newmtl");var a;var s;var r;var i;var n;var o;var l;var d;var c;var p;var _;var u;for(var y=0;y<t.length;++y){a=t[y].split("\r").join("").split("\n");if(a.length==1)a=t[y].split(String.fromCharCode(13));l=d=c=16777215;p=0;n=false;o=false;_=1;u="";for(r=0;r<a.length;++r){a[r]=a[r].replace(/\s+$/,"");if(a[r].substring(0,1)!="#"&&(r==0||a[r]!="")){s=a[r].split(" ");if(String(s[0]).charCodeAt(0)==9||String(s[0]).charCodeAt(0)==32)s[0]=s[0].substring(1,s[0].length);if(r==0){this._lastMtlID=s.join("");this._lastMtlID=this._lastMtlID==""?"def000":this._lastMtlID}else{switch(s[0]){case"Ka":if(s[1]&&!isNaN(Number(s[1]))&&s[2]&&!isNaN(Number(s[2]))&&s[3]&&!isNaN(Number(s[3])))d=s[1]*255<<16|s[2]*255<<8|s[3]*255;break;case"Ks":if(s[1]&&!isNaN(Number(s[1]))&&s[2]&&!isNaN(Number(s[2]))&&s[3]&&!isNaN(Number(s[3]))){c=s[1]*255<<16|s[2]*255<<8|s[3]*255;n=true}break;case"Ns":if(s[1]&&!isNaN(Number(s[1])))p=Number(s[1])*.001;if(p==0)n=false;break;case"Kd":if(s[1]&&!isNaN(Number(s[1]))&&s[2]&&!isNaN(Number(s[2]))&&s[3]&&!isNaN(Number(s[3]))){l=s[1]*255<<16|s[2]*255<<8|s[3]*255;o=true}break;case"tr":case"d":if(s[1]&&!isNaN(Number(s[1])))_=Number(s[1]);break;case"map_Kd":u=this.parseMapKdString(s);u=u.replace(/\\/g,"/")}}}}if(u!=""){if(n){i=new b;i.color=c;i.strength=p;var g=new k;g.alpha=_;g.basicSpecularMethod=i;g.materialID=this._lastMtlID;if(!this._materialSpecularData)this._materialSpecularData=new Array;this._materialSpecularData.push(g)}this._pAddDependency(this._lastMtlID,new h(u))}else if(o&&!isNaN(d)){var v=new M;v.materialID=this._lastMtlID;if(_==0)console.log("Warning: an alpha value of 0 was found in mtl color tag (Tr or d) ref:"+this._lastMtlID+", mesh(es) using it will be invisible!");var w=new f(d);if(this.materialMode<2){w.alpha=_}else{w.mode=m.MULTI_PASS}w.diffuseMethod.color=l;if(n){w.specularMethod.color=c;w.specularMethod.strength=p}v.cm=w;this._materialLoaded.push(v);if(this._meshes.length>0)this.applyMaterial(v)}}this._mtlLibLoaded=true};t.prototype.parseMapKdString=function(e){var t="";var a;var s;for(a=1;a<e.length;){switch(e[a]){case"-blendu":case"-blendv":case"-cc":case"-clamp":case"-texres":a+=2;break;case"-mm":a+=3;break;case"-o":case"-s":case"-t":a+=4;continue;default:s=true;break}if(s)break}for(a;a<e.length;a++){t+=e[a];t+=" "}t=t.replace(/\s+$/,"");return t};t.prototype.loadMtl=function(e){this._pAddDependency("mtl",new h(e),true);this._pPauseAndRetrieveDependencies()};t.prototype.applyMaterial=function(e){var t;var a;var s;var i;var n;for(var o=0;o<this._meshes.length;++o){a=this._meshes[o];t=a.material.name.split("~");if(t[0]==e.materialID){if(e.cm){if(a.material)a.material=null;a.material=e.cm}else if(e.texture){s=a.material;s.ambientMethod.texture=e.texture;s.style.color=e.color;s.alpha=e.alpha;s.style.sampler=new r(true);if(this.materialMode<2)s.alpha=e.alpha;else s.mode=m.MULTI_PASS;if(e.specularMethod){s.specularMethod=null;s.specularMethod=e.specularMethod}else if(this._materialSpecularData){for(i=0;i<this._materialSpecularData.length;++i){n=this._materialSpecularData[i];if(n.materialID==e.materialID){s.specularMethod=null;s.specularMethod=n.basicSpecularMethod;s.specularMethod.color=n.color;s.specularMethod.strength=n.alpha;break}}}}a.material.name=t[1]?t[1]:t[0];this._meshes.splice(o,1);--o}}if(e.cm||s)this._pFinalizeAsset(e.cm||s)};t.prototype.applyMaterials=function(){if(this._materialLoaded.length==0)return;for(var e=0;e<this._materialLoaded.length;++e)this.applyMaterial(this._materialLoaded[e])};return t}(l);var v=function(){function e(){this.groups=new Array}return e}();var w=function(){function e(){this.materialGroups=new Array}return e}();var B=function(){function e(){this.faces=new Array}return e}();var k=function(){function e(){this.color=16777215;this.alpha=1}return e}();var M=function(){function e(){this.color=16777215;this.alpha=1}return e}();var N=function(){function e(){this.vertexIndices=new Array;this.uvIndices=new Array;this.normalIndices=new Array;this.indexIds=new Array}return e}();var D=function(){function e(e,t){if(e===void 0){e=0}if(t===void 0){t=0}this._u=e;this._v=t}Object.defineProperty(e.prototype,"v",{get:function(){return this._v},set:function(e){this._v=e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"u",{get:function(){return this._u},set:function(e){this._u=e},enumerable:true,configurable:true});e.prototype.clone=function(){return new e(this._u,this._v)};e.prototype.toString=function(){return this._u+","+this._v};return e}();var A=function(){function e(e,t,a,s){if(e===void 0){e=0}if(t===void 0){t=0}if(a===void 0){a=0}if(s===void 0){s=0}this._x=e;this._y=t;this._z=a;this._index=s}Object.defineProperty(e.prototype,"index",{get:function(){return this._index},set:function(e){this._index=e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"z",{get:function(){return this._z},set:function(e){this._z=e},enumerable:true,configurable:true});e.prototype.clone=function(){return new e(this._x,this._y,this._z)};return e}();t.exports=g},{"awayjs-core/lib/attributes/AttributesBuffer":undefined,"awayjs-core/lib/image/BitmapImage2D":undefined,"awayjs-core/lib/image/Sampler2D":undefined,"awayjs-core/lib/net/URLLoaderDataFormat":undefined,"awayjs-core/lib/net/URLRequest":undefined,"awayjs-core/lib/parsers/ParserBase":undefined,"awayjs-core/lib/parsers/ParserUtils":undefined,"awayjs-display/lib/containers/DisplayObjectContainer":undefined,"awayjs-display/lib/entities/Mesh":undefined,"awayjs-display/lib/graphics/TriangleElements":undefined,"awayjs-display/lib/managers/DefaultMaterialManager":undefined,"awayjs-display/lib/textures/Single2DTexture":undefined,"awayjs-methodmaterials/lib/MethodMaterial":undefined,"awayjs-methodmaterials/lib/MethodMaterialMode":undefined,"awayjs-methodmaterials/lib/methods/SpecularBasicMethod":undefined}],"awayjs-parsers/lib/Parsers":[function(e,t,a){var s=e("awayjs-core/lib/library/Loader");var r=e("awayjs-parsers/lib/AWDParser");var i=e("awayjs-parsers/lib/Max3DSParser");var n=e("awayjs-parsers/lib/MD2Parser");var o=e("awayjs-parsers/lib/OBJParser");var h=function(){function e(){}e.enableAllBundled=function(){s.enableParsers(e.ALL_BUNDLED)};e.ALL_BUNDLED=Array(r,i,n,o);return e}();t.exports=h},{"awayjs-core/lib/library/Loader":undefined,"awayjs-parsers/lib/AWDParser":"awayjs-parsers/lib/AWDParser","awayjs-parsers/lib/MD2Parser":"awayjs-parsers/lib/MD2Parser","awayjs-parsers/lib/Max3DSParser":"awayjs-parsers/lib/Max3DSParser","awayjs-parsers/lib/OBJParser":"awayjs-parsers/lib/OBJParser"}]},{},[]);

//# sourceMappingURL=awayjs-parsers.min.js.map