var __extends = this.__extends || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    __.prototype = b.prototype;
    d.prototype = new __();
};
var URLLoaderDataFormat = require("awayjs-core/lib/net/URLLoaderDataFormat");
var URLRequest = require("awayjs-core/lib/net/URLRequest");
var ParserBase = require("awayjs-core/lib/parsers/ParserBase");
var ParserUtils = require("awayjs-core/lib/parsers/ParserUtils");
var DisplayObjectContainer = require("awayjs-display/lib/containers/DisplayObjectContainer");
var Geometry = require("awayjs-display/lib/base/Geometry");
var TriangleSubGeometry = require("awayjs-display/lib/base/TriangleSubGeometry");
var Mesh = require("awayjs-display/lib/entities/Mesh");
var VertexClipNode = require("awayjs-renderergl/lib/animators/nodes/VertexClipNode");
var VertexAnimationSet = require("awayjs-renderergl/lib/animators/VertexAnimationSet");
var DefaultMaterialManager = require("awayjs-renderergl/lib/managers/DefaultMaterialManager");
var TriangleMethodMaterial = require("awayjs-methodmaterials/lib/TriangleMethodMaterial");
var TriangleMaterialMode = require("awayjs-methodmaterials/lib/TriangleMaterialMode");
/**
 * MD2Parser provides a parser for the MD2 data type.
 */
var MD2Parser = (function (_super) {
    __extends(MD2Parser, _super);
    /**
     * Creates a new MD2Parser object.
     * @param textureType The extension of the texture (e.g. jpg/png/...)
     * @param ignoreTexturePath If true, the path of the texture is ignored
     */
    function MD2Parser(textureType, ignoreTexturePath) {
        if (textureType === void 0) { textureType = "jpg"; }
        if (ignoreTexturePath === void 0) { ignoreTexturePath = true; }
        _super.call(this, URLLoaderDataFormat.ARRAY_BUFFER);
        this._clipNodes = new Object();
        // the current subgeom being built
        this._animationSet = new VertexAnimationSet();
        this.materialFinal = false;
        this.geoCreated = false;
        this._textureType = textureType;
        this._ignoreTexturePath = ignoreTexturePath;
    }
    /**
     * Indicates whether or not a given file extension is supported by the parser.
     * @param extension The file extension of a potential file to be parsed.
     * @return Whether or not the given file type is supported.
     */
    MD2Parser.supportsType = function (extension) {
        extension = extension.toLowerCase();
        return extension == "md2";
    };
    /**
     * Tests whether a data block can be parsed by the parser.
     * @param data The data block to potentially be parsed.
     * @return Whether or not the given data is supported.
     */
    MD2Parser.supportsData = function (data) {
        return (ParserUtils.toString(data, 4) == 'IDP2');
    };
    /**
     * @inheritDoc
     */
    MD2Parser.prototype._iResolveDependency = function (resourceDependency) {
        if (resourceDependency.assets.length != 1)
            return;
        var asset = resourceDependency.assets[0];
        if (asset) {
            var material = new TriangleMethodMaterial(asset);
            if (this.materialMode >= 2)
                material.materialMode = TriangleMaterialMode.MULTI_PASS;
            //add to the content property
            this._pContent.addChild(this._mesh);
            material.name = this._mesh.material.name;
            this._mesh.material = material;
            this._pFinalizeAsset(material);
            this._pFinalizeAsset(this._mesh.geometry);
            this._pFinalizeAsset(this._mesh);
        }
        this.materialFinal = true;
    };
    /**
     * @inheritDoc
     */
    MD2Parser.prototype._iResolveDependencyFailure = function (resourceDependency) {
        // apply system default
        if (this.materialMode < 2) {
            this._mesh.material = DefaultMaterialManager.getDefaultMaterial();
        }
        else {
            this._mesh.material = new TriangleMethodMaterial(DefaultMaterialManager.getDefaultTexture());
            this._mesh.material.materialMode = TriangleMaterialMode.MULTI_PASS;
        }
        //add to the content property
        this._pContent.addChild(this._mesh);
        this._pFinalizeAsset(this._mesh.geometry);
        this._pFinalizeAsset(this._mesh);
        this.materialFinal = true;
    };
    /**
     * @inheritDoc
     */
    MD2Parser.prototype._pProceedParsing = function () {
        if (!this._startedParsing) {
            this._byteData = this._pGetByteData();
            this._startedParsing = true;
            // Reset bytearray read position (which may have been
            // moved forward by the supportsData() function.)
            this._byteData.position = 0;
        }
        while (this._pHasTime()) {
            if (!this._parsedHeader) {
                //----------------------------------------------------------------------------
                // LITTLE_ENDIAN - Default for ArrayBuffer / Not implemented in ByteArray
                //----------------------------------------------------------------------------
                //this._byteData.endian = Endian.LITTLE_ENDIAN;
                // TODO: Create a mesh only when encountered (if it makes sense
                // for this file format) and return it using this._pFinalizeAsset()
                this._geometry = new Geometry();
                this._mesh = new Mesh(this._geometry, null);
                if (this.materialMode < 2) {
                    this._mesh.material = DefaultMaterialManager.getDefaultMaterial();
                }
                else {
                    this._mesh.material = new TriangleMethodMaterial(DefaultMaterialManager.getDefaultTexture());
                    this._mesh.material.materialMode = TriangleMaterialMode.MULTI_PASS;
                }
                //_geometry.animation = new VertexAnimation(2, VertexAnimationMode.ABSOLUTE);
                //_animator = new VertexAnimator(VertexAnimationState(_mesh.animationState));
                // Parse header and decompress body
                this.parseHeader();
                this.parseMaterialNames();
            }
            else if (!this._parsedUV) {
                this.parseUV();
            }
            else if (!this._parsedFaces) {
                this.parseFaces();
            }
            else if (!this._parsedFrames) {
                this.parseFrames();
            }
            else if ((this.geoCreated) && (this.materialFinal)) {
                return ParserBase.PARSING_DONE;
            }
            else if (!this.geoCreated) {
                this.geoCreated = true;
                //create default subgeometry
                this._geometry.addSubGeometry(this._firstSubGeom.clone());
                // Force name to be chosen by this._pFinalizeAsset()
                this._mesh.name = "";
                if (this.materialFinal) {
                    //add to the content property
                    this._pContent.addChild(this._mesh);
                    this._pFinalizeAsset(this._mesh.geometry);
                    this._pFinalizeAsset(this._mesh);
                }
                this._pPauseAndRetrieveDependencies();
            }
        }
        return ParserBase.MORE_TO_PARSE;
    };
    MD2Parser.prototype._pStartParsing = function (frameLimit) {
        _super.prototype._pStartParsing.call(this, frameLimit);
        //create a content object for Loaders
        this._pContent = new DisplayObjectContainer();
    };
    /**
     * Reads in all that MD2 Header data that is declared as private variables.
     * I know its a lot, and it looks ugly, but only way to do it in Flash
     */
    MD2Parser.prototype.parseHeader = function () {
        this._ident = this._byteData.readInt();
        this._version = this._byteData.readInt();
        this._skinWidth = this._byteData.readInt();
        this._skinHeight = this._byteData.readInt();
        //skip this._frameSize
        this._byteData.readInt();
        this._numSkins = this._byteData.readInt();
        this._numVertices = this._byteData.readInt();
        this._numST = this._byteData.readInt();
        this._numTris = this._byteData.readInt();
        //skip this._numGlCmds
        this._byteData.readInt();
        this._numFrames = this._byteData.readInt();
        this._offsetSkins = this._byteData.readInt();
        this._offsetST = this._byteData.readInt();
        this._offsetTris = this._byteData.readInt();
        this._offsetFrames = this._byteData.readInt();
        //skip this._offsetGlCmds
        this._byteData.readInt();
        this._offsetEnd = this._byteData.readInt();
        this._parsedHeader = true;
    };
    /**
     * Parses the file names for the materials.
     */
    MD2Parser.prototype.parseMaterialNames = function () {
        var url;
        var name;
        var extIndex /*int*/;
        var slashIndex /*int*/;
        this._materialNames = new Array();
        this._byteData.position = this._offsetSkins;
        var regExp = new RegExp("[^a-zA-Z0-9\\_\/.]", "g");
        for (var i = 0; i < this._numSkins; ++i) {
            name = this._byteData.readUTFBytes(64);
            name = name.replace(regExp, "");
            extIndex = name.lastIndexOf(".");
            if (this._ignoreTexturePath)
                slashIndex = name.lastIndexOf("/");
            if (name.toLowerCase().indexOf(".jpg") == -1 && name.toLowerCase().indexOf(".png") == -1) {
                name = name.substring(slashIndex + 1, extIndex);
                url = name + "." + this._textureType;
            }
            else {
                url = name;
            }
            this._materialNames[i] = name;
            // only support 1 skin TODO: really?
            if (this.dependencies.length == 0)
                this._pAddDependency(name, new URLRequest(url));
        }
        if (this._materialNames.length > 0)
            this._mesh.material.name = this._materialNames[0];
        else
            this.materialFinal = true;
    };
    /**
     * Parses the uv data for the mesh.
     */
    MD2Parser.prototype.parseUV = function () {
        var j = 0;
        this._uvs = new Array(this._numST * 2);
        this._byteData.position = this._offsetST;
        for (var i = 0; i < this._numST; i++) {
            this._uvs[j++] = this._byteData.readShort() / this._skinWidth;
            this._uvs[j++] = this._byteData.readShort() / this._skinHeight;
        }
        this._parsedUV = true;
    };
    /**
     * Parses unique indices for the faces.
     */
    MD2Parser.prototype.parseFaces = function () {
        var a /*uint*/, b /*uint*/, c /*uint*/, ta /*uint*/, tb /*uint*/, tc /*uint*/;
        var i /*uint*/;
        this._vertIndices = new Array();
        this._uvIndices = new Array();
        this._indices = new Array();
        this._byteData.position = this._offsetTris;
        for (i = 0; i < this._numTris; i++) {
            //collect vertex indices
            a = this._byteData.readUnsignedShort();
            b = this._byteData.readUnsignedShort();
            c = this._byteData.readUnsignedShort();
            //collect uv indices
            ta = this._byteData.readUnsignedShort();
            tb = this._byteData.readUnsignedShort();
            tc = this._byteData.readUnsignedShort();
            this.addIndex(a, ta);
            this.addIndex(b, tb);
            this.addIndex(c, tc);
        }
        var len = this._uvIndices.length;
        this._finalUV = new Array(len * 2);
        for (i = 0; i < len; ++i) {
            this._finalUV[i << 1] = this._uvs[this._uvIndices[i] << 1];
            this._finalUV[(i << 1) + 1] = this._uvs[(this._uvIndices[i] << 1) + 1];
        }
        this._parsedFaces = true;
    };
    /**
     * Adds a face index to the list if it doesn't exist yet, based on vertexIndex and uvIndex, and adds the
     * corresponding vertex and uv data in the correct location.
     * @param vertexIndex The original index in the vertex list.
     * @param uvIndex The original index in the uv list.
     */
    MD2Parser.prototype.addIndex = function (vertexIndex /*uint*/, uvIndex /*uint*/) {
        var index = this.findIndex(vertexIndex, uvIndex);
        if (index == -1) {
            this._indices.push(this._vertIndices.length);
            this._vertIndices.push(vertexIndex);
            this._uvIndices.push(uvIndex);
        }
        else
            this._indices.push(index);
    };
    /**
     * Finds the final index corresponding to the original MD2's vertex and uv indices. Returns -1 if it wasn't added yet.
     * @param vertexIndex The original index in the vertex list.
     * @param uvIndex The original index in the uv list.
     * @return The index of the final mesh corresponding to the original vertex and uv index. -1 if it doesn't exist yet.
     */
    MD2Parser.prototype.findIndex = function (vertexIndex /*uint*/, uvIndex /*uint*/) {
        var len = this._vertIndices.length;
        for (var i = 0; i < len; ++i) {
            if (this._vertIndices[i] == vertexIndex && this._uvIndices[i] == uvIndex)
                return i;
        }
        return -1;
    };
    /**
     * Parses all the frame geometries.
     */
    MD2Parser.prototype.parseFrames = function () {
        var sx, sy, sz;
        var tx, ty, tz;
        var geometry;
        var subGeom;
        var vertLen = this._vertIndices.length;
        var fvertices;
        var tvertices;
        var i /*uint*/, j /*int*/, k /*uint*/;
        //var ch : number /*uint*/;
        var name = "";
        var prevClip = null;
        this._byteData.position = this._offsetFrames;
        for (i = 0; i < this._numFrames; i++) {
            tvertices = new Array();
            fvertices = new Array(vertLen * 3);
            sx = this._byteData.readFloat();
            sy = this._byteData.readFloat();
            sz = this._byteData.readFloat();
            tx = this._byteData.readFloat();
            ty = this._byteData.readFloat();
            tz = this._byteData.readFloat();
            name = this.readFrameName();
            for (j = 0; j < this._numVertices; j++, this._byteData.position++)
                tvertices.push(sx * this._byteData.readUnsignedByte() + tx, sy * this._byteData.readUnsignedByte() + ty, sz * this._byteData.readUnsignedByte() + tz);
            k = 0;
            for (j = 0; j < vertLen; j++) {
                fvertices[k++] = tvertices[this._vertIndices[j] * 3];
                fvertices[k++] = tvertices[this._vertIndices[j] * 3 + 2];
                fvertices[k++] = tvertices[this._vertIndices[j] * 3 + 1];
            }
            subGeom = new TriangleSubGeometry(true);
            if (this._firstSubGeom == null)
                this._firstSubGeom = subGeom;
            geometry = new Geometry();
            geometry.addSubGeometry(subGeom);
            subGeom.updateIndices(this._indices);
            subGeom.updatePositions(fvertices);
            subGeom.updateUVs(this._finalUV);
            subGeom.vertexNormals;
            subGeom.vertexTangents;
            subGeom.autoDeriveNormals = false;
            subGeom.autoDeriveTangents = false;
            var clip = this._clipNodes[name];
            if (!clip) {
                // If another sequence was parsed before this one, starting
                // a new state means the previous one is complete and can
                // hence be finalized.
                if (prevClip) {
                    this._pFinalizeAsset(prevClip);
                    this._animationSet.addAnimation(prevClip);
                }
                clip = new VertexClipNode();
                clip.name = name;
                clip.stitchFinalFrame = true;
                this._clipNodes[name] = clip;
                prevClip = clip;
            }
            clip.addFrame(geometry, 1000 / MD2Parser.FPS);
        }
        // Finalize the last state
        if (prevClip) {
            this._pFinalizeAsset(prevClip);
            this._animationSet.addAnimation(prevClip);
        }
        // Force this._pFinalizeAsset() to decide name
        this._pFinalizeAsset(this._animationSet);
        this._parsedFrames = true;
    };
    MD2Parser.prototype.readFrameName = function () {
        var name = "";
        var k = 0;
        for (var j = 0; j < 16; j++) {
            var ch = this._byteData.readUnsignedByte();
            if (Math.floor(ch) > 0x39 && Math.floor(ch) <= 0x7A && k == 0)
                name += String.fromCharCode(ch);
            if (Math.floor(ch) >= 0x30 && Math.floor(ch) <= 0x39)
                k++;
        }
        return name;
    };
    MD2Parser.FPS = 6;
    return MD2Parser;
})(ParserBase);
module.exports = MD2Parser;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF3YXlqcy1wYXJzZXJzL2xpYi9NRDJQYXJzZXIudHMiXSwibmFtZXMiOlsiTUQyUGFyc2VyIiwiTUQyUGFyc2VyLmNvbnN0cnVjdG9yIiwiTUQyUGFyc2VyLnN1cHBvcnRzVHlwZSIsIk1EMlBhcnNlci5zdXBwb3J0c0RhdGEiLCJNRDJQYXJzZXIuX2lSZXNvbHZlRGVwZW5kZW5jeSIsIk1EMlBhcnNlci5faVJlc29sdmVEZXBlbmRlbmN5RmFpbHVyZSIsIk1EMlBhcnNlci5fcFByb2NlZWRQYXJzaW5nIiwiTUQyUGFyc2VyLl9wU3RhcnRQYXJzaW5nIiwiTUQyUGFyc2VyLnBhcnNlSGVhZGVyIiwiTUQyUGFyc2VyLnBhcnNlTWF0ZXJpYWxOYW1lcyIsIk1EMlBhcnNlci5wYXJzZVVWIiwiTUQyUGFyc2VyLnBhcnNlRmFjZXMiLCJNRDJQYXJzZXIuYWRkSW5kZXgiLCJNRDJQYXJzZXIuZmluZEluZGV4IiwiTUQyUGFyc2VyLnBhcnNlRnJhbWVzIiwiTUQyUGFyc2VyLnJlYWRGcmFtZU5hbWUiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUVBLElBQU8sbUJBQW1CLFdBQWMseUNBQXlDLENBQUMsQ0FBQztBQUNuRixJQUFPLFVBQVUsV0FBZ0IsZ0NBQWdDLENBQUMsQ0FBQztBQUNuRSxJQUFPLFVBQVUsV0FBZ0Isb0NBQW9DLENBQUMsQ0FBQztBQUN2RSxJQUFPLFdBQVcsV0FBZ0IscUNBQXFDLENBQUMsQ0FBQztBQUt6RSxJQUFPLHNCQUFzQixXQUFhLHNEQUFzRCxDQUFDLENBQUM7QUFFbEcsSUFBTyxRQUFRLFdBQWlCLGtDQUFrQyxDQUFDLENBQUM7QUFDcEUsSUFBTyxtQkFBbUIsV0FBYyw2Q0FBNkMsQ0FBQyxDQUFDO0FBRXZGLElBQU8sSUFBSSxXQUFrQixrQ0FBa0MsQ0FBQyxDQUFDO0FBRWpFLElBQU8sY0FBYyxXQUFlLHNEQUFzRCxDQUFDLENBQUM7QUFDNUYsSUFBTyxrQkFBa0IsV0FBYyxvREFBb0QsQ0FBQyxDQUFDO0FBQzdGLElBQU8sc0JBQXNC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Q0EsVUFBVUEsQ0FBQ0E7Z0JBQy9GQSxDQUFDQTtnQkFFREEsQUFJQUEsNkVBSjZFQTtnQkFDN0VBLDZFQUE2RUE7Z0JBRTdFQSxtQ0FBbUNBO2dCQUNuQ0EsSUFBSUEsQ0FBQ0EsV0FBV0EsRUFBRUEsQ0FBQ0E7Z0JBQ25CQSxJQUFJQSxDQUFDQSxrQkFBa0JBLEVBQUVBLENBQUNBO1lBQzNCQSxDQUFDQTtZQUFDQSxJQUFJQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDNUJBLElBQUlBLENBQUNBLE9BQU9BLEVBQUVBLENBQUNBO1lBQ2hCQSxDQUFDQTtZQUFDQSxJQUFJQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDL0JBLElBQUlBLENBQUNBLFVBQVVBLEVBQUVBLENBQUNBO1lBQ25CQSxDQUFDQTtZQUFDQSxJQUFJQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxhQUFhQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDaENBLElBQUlBLENBQUNBLFdBQVdBLEVBQUVBLENBQUNBO1lBQ3BCQSxDQUFDQTtZQUFDQSxJQUFJQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxVQUFVQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxhQUFhQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDdERBLE1BQU1BLENBQUNBLFVBQVVBLENBQUNBLFlBQVlBLENBQUNBO1lBQ2hDQSxDQUFDQTtZQUFDQSxJQUFJQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDN0JBLElBQUlBLENBQUNBLFVBQVVBLEdBQUdBLElBQUlBLENBQUNBO2dCQUN2QkEsQUFDQUEsNEJBRDRCQTtnQkFDNUJBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLGNBQWNBLENBQUNBLElBQUlBLENBQUNBLGFBQWFBLENBQUNBLEtBQUtBLEVBQUVBLENBQUNBLENBQUNBO2dCQUMxREEsQUFDQUEsb0RBRG9EQTtnQkFDcERBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLElBQUlBLEdBQUdBLEVBQUVBLENBQUNBO2dCQUNyQkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsYUFBYUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7b0JBQ3hCQSxBQUNBQSw2QkFENkJBO29CQUNIQSxJQUFJQSxDQUFDQSxTQUFVQSxDQUFDQSxRQUFRQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQTtvQkFFL0RBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBO29CQUMxQ0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ2xDQSxDQUFDQTtnQkFFREEsSUFBSUEsQ0FBQ0EsOEJBQThCQSxFQUFFQSxDQUFDQTtZQUN2Q0EsQ0FBQ0E7UUFDRkEsQ0FBQ0E7UUFFREEsTUFBTUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsYUFBYUEsQ0FBQ0E7SUFDakNBLENBQUNBO0lBRU1OLGtDQUFjQSxHQUFyQkEsVUFBc0JBLFVBQWlCQTtRQUV0Q08sZ0JBQUtBLENBQUNBLGNBQWNBLFlBQUNBLFVBQVVBLENBQUNBLENBQUNBO1FBRWpDQSxBQUNBQSxxQ0FEcUNBO1FBQ3JDQSxJQUFJQSxDQUFDQSxTQUFTQSxHQUFHQSxJQUFJQSxzQkFBc0JBLEVBQUVBLENBQUNBO0lBQy9DQSxDQUFDQTtJQUVEUDs7O09BR0dBO0lBQ0tBLCtCQUFXQSxHQUFuQkE7UUFFQ1EsSUFBSUEsQ0FBQ0EsTUFBTUEsR0FBR0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7UUFDdkNBLElBQUlBLENBQUNBLFFBQVFBLEdBQUdBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLE9BQU9BLEVBQUVBLENBQUNBO1FBQ3pDQSxJQUFJQSxDQUFDQSxVQUFVQSxHQUFHQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxPQUFPQSxFQUFFQSxDQUFDQTtRQUMzQ0EsSUFBSUEsQ0FBQ0EsV0FBV0EsR0FBR0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7UUFDNUNBLEFBQ0FBLHNCQURzQkE7UUFDdEJBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLE9BQU9BLEVBQUVBLENBQUNBO1FBQ3pCQSxJQUFJQSxDQUFDQSxTQUFTQSxHQUFHQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxPQUFPQSxFQUFFQSxDQUFDQTtRQUMxQ0EsSUFBSUEsQ0FBQ0EsWUFBWUEsR0FBR0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7UUFDN0NBLElBQUlBLENBQUNBLE1BQU1BLEdBQUdBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLE9BQU9BLEVBQUVBLENBQUNBO1FBQ3ZDQSxJQUFJQSxDQUFDQSxRQUFRQSxHQUFHQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxPQUFPQSxFQUFFQSxDQUFDQTtRQUN6Q0EsQUFDQUEsc0JBRHNCQTtRQUN0QkEsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7UUFDekJBLElBQUlBLENBQUNBLFVBQVVBLEdBQUdBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLE9BQU9BLEVBQUVBLENBQUNBO1FBQzNDQSxJQUFJQSxDQUFDQSxZQUFZQSxHQUFHQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxPQUFPQSxFQUFFQSxDQUFDQTtRQUM3Q0EsSUFBSUEsQ0FBQ0EsU0FBU0EsR0FBR0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7UUFDMUNBLElBQUlBLENBQUNBLFdBQVdBLEdBQUdBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLE9BQU9BLEVBQUVBLENBQUNB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LENBQUNBLENBQVFBLFFBQURBLEFBQVNBLEVBQUVBLENBQUNBLENBQVFBLFFBQURBLEFBQVNBLEVBQUVBLENBQUNBLENBQVFBLFFBQURBLEFBQVNBLEVBQUVBLEVBQUVBLENBQVFBLFFBQURBLEFBQVNBLEVBQUVBLEVBQUVBLENBQVFBLFFBQURBLEFBQVNBLEVBQUVBLEVBQUVBLENBQVFBLFFBQURBLEFBQVNBLENBQUNBO1FBQ3hIQSxJQUFJQSxDQUFDQSxDQUFRQSxRQUFEQSxBQUFTQSxDQUFDQTtRQUV0QkEsSUFBSUEsQ0FBQ0EsWUFBWUEsR0FBR0EsSUFBSUEsS0FBS0EsRUFBVUEsQ0FBQ0E7UUFDeENBLElBQUlBLENBQUNBLFVBQVVBLEdBQUdBLElBQUlBLEtBQUtBLEVBQVVBLENBQUNBO1FBQ3RDQSxJQUFJQSxDQUFDQSxRQUFRQSxHQUFHQSxJQUFJQSxLQUFLQSxFQUFVQSxDQUFVQTtRQUU3Q0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsUUFBUUEsR0FBR0EsSUFBSUEsQ0FBQ0EsV0FBV0EsQ0FBQ0E7UUFFM0NBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLFFBQVFBLEVBQUVBLENBQUNBLEVBQUVBLEVBQUVBLENBQUNBO1lBQ3BDQSxBQUNBQSx3QkFEd0JBO1lBQ3hCQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxpQkFBaUJBLEVBQUVBLENBQUNBO1lBQ3ZDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxpQkFBaUJBLEVBQUVBLENBQUNBO1lBQ3ZDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxpQkFBaUJBLEVBQUVBLENBQUNBO1lBRXZDQSxBQUNBQSxvQkFEb0JBO1lBQ3BCQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxpQkFBaUJBLEVBQUVBLENBQUNBO1lBQ3hDQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxpQkFBaUJBLEVBQUVBLENBQUNBO1lBQ3hDQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxpQkFBaUJBLEVBQUVBLENBQUNBO1lBRXhDQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxDQUFDQSxDQUFDQTtZQUNyQkEsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsRUFBRUEsQ0FBQ0EsQ0FBQ0E7WUFDckJBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLENBQUNBLENBQUNBO1FBQ3RCQSxDQUFDQTtRQUVEQSxJQUFJQSxHQUFHQSxHQUFtQkEsSUFBSUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsTUFBTUEsQ0FBQ0E7UUFDakRBLElBQUlBLENBQUNBLFFBQVFBLEdBQUdBLElBQUlBLEtBQUtBLENBQVNBLEdBQUdBLEdBQUNBLENBQUNBLENBQUNBLENBQUNBO1FBRXpDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxHQUFHQSxFQUFFQSxFQUFFQSxDQUFDQSxFQUFFQSxDQUFDQTtZQUMxQkEsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDM0RBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBO1FBQ3hFQSxDQUFDQTtRQUVEQSxJQUFJQSxDQUFDQSxZQUFZQSxHQUFHQSxJ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S0FBS0EsQ0FBU0EsT0FBT0EsR0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFFekNBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLFNBQVNBLEVBQUVBLENBQUNBO1lBQ2hDQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxTQUFTQSxFQUFFQSxDQUFDQTtZQUNoQ0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsU0FBU0EsRUFBRUEsQ0FBQ0E7WUFFaENBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLFNBQVNBLEVBQUVBLENBQUNBO1lBQ2hDQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxTQUFTQSxFQUFFQSxDQUFDQTtZQUNoQ0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsU0FBU0EsRUFBRUEsQ0FBQ0E7WUFFaENBLElBQUlBLEdBQUdBLElBQUlBLENBQUNBLGFBQWFBLEVBQUVBLENBQUNBO1lBSTVCQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxZQUFZQSxFQUFFQSxDQUFDQSxFQUFFQSxFQUFFQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxRQUFRQSxFQUFFQTtnQkFDaEVBLFNBQVNBLENBQUNBLElBQUlBLENBQUNBLEVBQUVBLEdBQUNBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLGdCQUFnQkEsRUFBRUEsR0FBR0EsRUFBRUEsRUFBRUEsRUFBRUEsR0FBQ0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsZ0JBQWdCQSxFQUFFQSxHQUFHQSxFQUFFQSxFQUFFQSxFQUFFQSxHQUFDQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxnQkFBZ0JBLEVBQUVBLEdBQUdBLEVBQUVBLENBQUNBLENBQUNBO1lBRWpKQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtZQUNOQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxPQUFPQSxFQUFFQSxDQUFDQSxFQUFFQSxFQUFFQSxDQUFDQTtnQkFDOUJBLFNBQVNBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLFNBQVNBLENBQUNBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLENBQUNBLENBQUNBLEdBQUNBLENBQUNBLENBQUNBLENBQUNBO2dCQUNuREEsU0FBU0EsQ0FBQ0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsU0FBU0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ3ZEQSxTQUFTQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxTQUFTQSxDQUFDQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUN4REEsQ0FBQ0E7WUFFREEsT0FBT0EsR0FBR0EsSUFBSUEsbUJBQW1CQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtZQUV4Q0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsYUFBYUEsSUFBSUEsSUFBSUEsQ0FBQ0E7Z0JBQzlCQSxJQUFJQSxDQUFDQSxhQUFhQSxHQUFHQSxPQUFPQSxDQUFDQTtZQUU5QkEsUUFBUUEsR0FBR0EsSUFBSUEsUUFBUUEsRUFBRUEsQ0FBQ0E7WUFDMUJBLFFBQVFBLENBQUNBLGNBQWNBLENBQUNBLE9BQU9BLENBQUNBLENBQUNBO1lBRWpDQSxPQUFPQSxDQUFDQSxhQUFhQSxDQUFDQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQTtZQUNyQ0EsT0FBT0EsQ0FBQ0EsZUFBZUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsQ0FBQ0E7WUFDbkNBLE9BQU9BLENBQUNBLFNBQVNBLENBQUNBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBO1lBQ2pDQSxPQUFPQSxDQUFDQSxhQUFhQSxDQUFDQTtZQUN0QkEsT0FBT0EsQ0FBQ0EsY0FBY0EsQ0FBQ0E7WUFDdkJBLE9BQU9BLENBQUNBLGlCQUFpQkEsR0FBR0EsS0FBS0EsQ0FBQ0E7WUFDbENBLE9BQU9BLENBQUNBLGtCQUFrQkEsR0FBR0EsS0FBS0EsQ0FBQ0E7WUFFbkNBLElBQUlBLElBQUlBLEdBQWtCQSxJQUFJQSxDQUFDQSxVQUFVQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtZQUVoREEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ1hBLEFBR0FBLDJEQUgyREE7Z0JBQzNEQSx5REFBeURBO2dCQUN6REEsc0JBQXNCQTtnQkFDdEJBLEVBQUVBLENBQUNBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBLENBQUNBO29CQUNkQSxJQUFJQSxDQUFDQSxlQUFlQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQTtvQkFDL0JBLElBQUlBLENBQUNBLGFBQWFBLENBQUNBLFlBQVlBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBO2dCQUMzQ0EsQ0FBQ0E7Z0JBRURBLElBQUlBLEdBQUdBLElBQUlBLGNBQWNBLEVBQUVBLENBQUNBO2dCQUM1QkEsSUFBSUEsQ0FBQ0EsSUFBSUEsR0FBR0EsSUFBSUEsQ0FBQ0E7Z0JBQ2pCQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLEdBQUdBLElBQUlBLENBQUNBO2dCQUU3QkEsSUFBSUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0E7Z0JBRTdCQSxRQUFRQSxHQUFHQSxJQUFJQSxDQUFDQTtZQUNqQkEsQ0FBQ0E7WUFDREEsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsUUFBUUEsRUFBRUEsSUFBSUEsR0FBQ0EsU0FBU0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDN0NBLENBQUNBO1FBRURBLEFBQ0FBLDBCQUQwQkE7UUFDMUJBLEVBQUVBLENBQUNBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBLENBQUNBO1lBQ2RBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBO1lBQy9CQSxJQUFJQSxDQUFDQSxhQUFhQSxDQUFDQSxZQUFZQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQTtRQUMzQ0EsQ0FBQ0E7UUFFREEsQUFDQUEsOENBRDhDQTtRQUM5Q0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsYUFBYUEsQ0FBQ0EsQ0FBQ0E7UUFFekNBLElBQUlBLENBQUNBLGFBQWFBLEdBQUdBLElBQUlBLENBQUNBO0lBQzNCQSxDQUFDQTtJQUVPZCxpQ0FBYUEsR0FBckJBO1FBRUNlLElBQUlBLElBQUlBLEdBQVVBLEVBQUVBLENBQUNBO1FBQ3JCQSxJQUFJQSxDQUFDQSxHQUFtQkEsQ0FBQ0EsQ0FBQ0E7UUFDMUJBLEdBQUdBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLEdBQW1CQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxFQUFFQSxFQUFFQSxDQUFDQSxFQUFFQSxFQUFFQSxDQUFDQTtZQUM3Q0EsSUFBSUEsRUFBRUEsR0FBbUJBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLGdCQUFnQkEsRUFBRUEsQ0FBQ0E7WUFFM0RBLEVBQUVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLElBQUlBLElBQUlBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLEVBQUVBLENBQUNBLElBQUlBLElBQUlBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO2dCQUM3REEsSUFBSUEsSUFBSUEsTUFBTUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7WUFFakNBLEVBQUVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLEVBQUVBLENBQUNBLElBQUlBLElBQUlBLElBQUlBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLEVBQUVBLENBQUNBLElBQUlBLElBQUlBLENBQUNBO2dCQUNwREEsQ0FBQ0EsRUFBRUEsQ0FBQ0E7UUFDTkEsQ0FBQ0E7UUFDREEsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7SUFDYkEsQ0FBQ0E7SUE3ZGFmLGFBQUdBLEdBQWtCQSxDQUFDQSxDQUFDQTtJQThkdENBLGdCQUFDQTtBQUFEQSxDQWhlQSxBQWdlQ0EsRUFoZXVCLFVBQVUsRUFnZWpDO0FBRUQsQUFBbUIsaUJBQVYsU0FBUyxDQUFDIiwiZmlsZSI6Ik1EMlBhcnNlci5qcyIsInNvdXJjZVJvb3QiOiIuLi8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQml0bWFwRGF0YVx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9iYXNlL0JpdG1hcERhdGFcIik7XG5pbXBvcnQgVmVjdG9yM0RcdFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9nZW9tL1ZlY3RvcjNEXCIpO1xuaW1wb3J0IFVSTExvYWRlckRhdGFGb3JtYXRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9uZXQvVVJMTG9hZGVyRGF0YUZvcm1hdFwiKTtcbmltcG9ydCBVUkxSZXF1ZXN0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL25ldC9VUkxSZXF1ZXN0XCIpO1xuaW1wb3J0IFBhcnNlckJhc2VcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvcGFyc2Vycy9QYXJzZXJCYXNlXCIpO1xuaW1wb3J0IFBhcnNlclV0aWxzXHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL3BhcnNlcnMvUGFyc2VyVXRpbHNcIik7XG5pbXBvcnQgUmVzb3VyY2VEZXBlbmRlbmN5XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvcGFyc2Vycy9SZXNvdXJjZURlcGVuZGVuY3lcIik7XG5pbXBvcnQgVGV4dHVyZTJEQmFzZVx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvdGV4dHVyZXMvVGV4dHVyZTJEQmFzZVwiKTtcbmltcG9ydCBCeXRlQXJyYXlcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvdXRpbHMvQnl0ZUFycmF5XCIpO1xuXG5pbXBvcnQgRGlzcGxheU9iamVjdENvbnRhaW5lclx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9jb250YWluZXJzL0Rpc3BsYXlPYmplY3RDb250YWluZXJcIik7XG5pbXBvcnQgRGlzcGxheU9iamVjdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvYmFzZS9EaXNwbGF5T2JqZWN0XCIpO1xuaW1wb3J0IEdlb21ldHJ5XHRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvYmFzZS9HZW9tZXRyeVwiKTtcbmltcG9ydCBUcmlhbmdsZVN1Ykdlb21ldHJ5XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvYmFzZS9UcmlhbmdsZVN1Ykdlb21ldHJ5XCIpO1xuaW1wb3J0IENhbWVyYVx0XHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2VudGl0aWVzL0NhbWVyYVwiKTtcbmltcG9ydCBNZXNoXHRcdFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9lbnRpdGllcy9NZXNoXCIpO1xuXG5pbXBvcnQgVmVydGV4Q2xpcE5vZGVcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLXJlbmRlcmVyZ2wvbGliL2FuaW1hdG9ycy9ub2Rlcy9WZXJ0ZXhDbGlwTm9kZVwiKTtcbmltcG9ydCBWZXJ0ZXhBbmltYXRpb25TZXRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1yZW5kZXJlcmdsL2xpYi9hbmltYXRvcnMvVmVydGV4QW5pbWF0aW9uU2V0XCIpO1xuaW1wb3J0IERlZmF1bHRNYXRlcmlhbE1hbmFnZXJcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvbWFuYWdlcnMvRGVmYXVsdE1hdGVyaWFsTWFuYWdlclwiKTtcblxuaW1wb3J0IFRyaWFuZ2xlTWV0aG9kTWF0ZXJpYWxcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtbWV0aG9kbWF0ZXJpYWxzL2xpYi9UcmlhbmdsZU1ldGhvZE1hdGVyaWFsXCIpO1xuaW1wb3J0IFRyaWFuZ2xlTWF0ZXJpYWxNb2RlXHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtbWV0aG9kbWF0ZXJpYWxzL2xpYi9UcmlhbmdsZU1hdGVyaWFsTW9kZVwiKTtcblxuLyoqXG4gKiBNRDJQYXJzZXIgcHJvdmlkZXMgYSBwYXJzZXIgZm9yIHRoZSBNRDIgZGF0YSB0eXBlLlxuICovXG5jbGFzcyBNRDJQYXJzZXIgZXh0ZW5kcyBQYXJzZXJCYXNlXG57XG5cdHB1YmxpYyBzdGF0aWMgRlBTOm51bWJlciAvKmludCovID0gNjtcblxuXHRwcml2YXRlIF9jbGlwTm9kZXM6T2JqZWN0ID0gbmV3IE9iamVjdCgpO1xuXHRwcml2YXRlIF9ieXRlRGF0YTpCeXRlQXJyYXk7XG5cdHByaXZhdGUgX3N0YXJ0ZWRQYXJzaW5nOmJvb2xlYW47XG5cdHByaXZhdGUgX3BhcnNlZEhlYWRlcjpib29sZWFuO1xuXHRwcml2YXRlIF9wYXJzZWRVVjpib29sZWFuO1xuXHRwcml2YXRlIF9wYXJzZWRGYWNlczpib29sZWFuO1xuXHRwcml2YXRlIF9wYXJzZWRGcmFtZXM6Ym9vbGVhbjtcblxuXHRwcml2YXRlIF9pZGVudDpudW1iZXIgLyp1aW50Ki87XG5cdHByaXZhdGUgX3ZlcnNpb246bnVtYmVyIC8qdWludCovO1xuXHRwcml2YXRlIF9za2luV2lkdGg6bnVtYmVyIC8qdWludCovO1xuXHRwcml2YXRlIF9za2luSGVpZ2h0Om51bWJlciAvKnVpbnQqLztcblx0Ly9wcml2YXRlIF9mcmFtZVNpemUgOiBudW1iZXIgLyp1aW50Ki87XG5cdHByaXZhdGUgX251bVNraW5zOm51bWJlciAvKnVpbnQqLztcblx0cHJpdmF0ZSBfbnVtVmVydGljZXM6bnVtYmVyIC8qdWludCovO1xuXHRwcml2YXRlIF9udW1TVDpudW1iZXIgLyp1aW50Ki87XG5cdHByaXZhdGUgX251bVRyaXM6bnVtYmVyIC8qdWludCovO1xuXHQvL3ByaXZhdGUgX251bUdsQ21kcyA6IG51bWJlciAvKnVpbnQqLztcblx0cHJpdmF0ZSBfbnVtRnJhbWVzOm51bWJlciAvKnVpbnQqLztcblx0cHJpdmF0ZSBfb2Zmc2V0U2tpbnM6bnVtYmVyIC8qdWludCovO1xuXHRwcml2YXRlIF9vZmZzZXRTVDpudW1iZXIgLyp1aW50Ki87XG5cdHByaXZhdGUgX29mZnNldFRyaXM6bnVtYmVyIC8qdWludCovO1xuXHRwcml2YXRlIF9vZmZzZXRGcmFtZXM6bnVtYmVyIC8qdWludCovO1xuXHQvL3ByaXZhdGUgX29mZnNldEdsQ21kcyA6IG51bWJlciAvKnVpbnQqLztcblx0cHJpdmF0ZSBfb2Zmc2V0RW5kOm51bWJlciAvKnVpbnQqLztcblxuXHRwcml2YXRlIF91dkluZGljZXM6QXJyYXk8bnVtYmVyPjtcblx0cHJpdmF0ZSBfaW5kaWNlczpBcnJheTxudW1iZXI+IC8qdWludCovO1xuXHRwcml2YXRlIF92ZXJ0SW5kaWNlczpBcnJheTxudW1iZXI+O1xuXG5cdC8vIHRoZSBjdXJyZW50IHN1Ymdlb20gYmVpbmcgYnVpbHRcblx0cHJpdmF0ZSBfYW5pbWF0aW9uU2V0OlZlcnRleEFuaW1hdGlvblNldCA9IG5ldyBWZXJ0ZXhBbmltYXRpb25TZXQoKTtcblx0cHJpdmF0ZSBfZmlyc3RTdWJHZW9tOlRyaWFuZ2xlU3ViR2VvbWV0cnk7XG5cdHByaXZhdGUgX3V2czpBcnJheTxudW1iZXI+O1xuXHRwcml2YXRlIF9maW5hbFVWOkFycmF5PG51bWJlcj47XG5cblx0cHJpdmF0ZSBfbWF0ZXJpYWxOYW1lczpBcnJheTxzdHJpbmc+O1xuXHRwcml2YXRlIF90ZXh0dXJlVHlwZTpzdHJpbmc7XG5cdHByaXZhdGUgX2lnbm9yZVRleHR1cmVQYXRoOmJvb2xlYW47XG5cdHByaXZhdGUgX21lc2g6TWVzaDtcblx0cHJpdmF0ZSBfZ2VvbWV0cnk6R2VvbWV0cnk7XG5cblx0cHJpdmF0ZSBtYXRlcmlhbEZpbmFsOmJvb2xlYW4gPSBmYWxzZTtcblx0cHJpdmF0ZSBnZW9DcmVhdGVkOmJvb2xlYW4gPSBmYWxzZTtcblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIG5ldyBNRDJQYXJzZXIgb2JqZWN0LlxuXHQgKiBAcGFyYW0gdGV4dHVyZVR5cGUgVGhlIGV4dGVuc2lvbiBvZiB0aGUgdGV4dHVyZSAoZS5nLiBqcGcvcG5nLy4uLilcblx0ICogQHBhcmFtIGlnbm9yZVRleHR1cmVQYXRoIElmIHRydWUsIHRoZSBwYXRoIG9mIHRoZSB0ZXh0dXJlIGlzIGlnbm9yZWRcblx0ICovXG5cdGNvbnN0cnVjdG9yKHRleHR1cmVUeXBlOnN0cmluZyA9IFwianBnXCIsIGlnbm9yZVRleHR1cmVQYXRoOmJvb2xlYW4gPSB0cnVlKVxuXHR7XG5cdFx0c3VwZXIoVVJMTG9hZGVyRGF0YUZvcm1hdC5BUlJBWV9CVUZGRVIpO1xuXHRcdHRoaXMuX3RleHR1cmVUeXBlID0gdGV4dHVyZVR5cGU7XG5cdFx0dGhpcy5faWdub3JlVGV4dHVyZVBhdGggPSBpZ25vcmVUZXh0dXJlUGF0aDtcblx0fVxuXG5cdC8qKlxuXHQgKiBJbmRpY2F0ZXMgd2hldGhlciBvciBub3QgYSBnaXZlbiBmaWxlIGV4dGVuc2lvbiBpcyBzdXBwb3J0ZWQgYnkgdGhlIHBhcnNlci5cblx0ICogQHBhcmFtIGV4dGVuc2lvbiBUaGUgZmlsZSBleHRlbnNpb24gb2YgYSBwb3RlbnRpYWwgZmlsZSB0byBiZSBwYXJzZWQuXG5cdCAqIEByZXR1cm4gV2hldGhlciBvciBub3QgdGhlIGdpdmVuIGZpbGUgdHlwZSBpcyBzdXBwb3J0ZWQuXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIHN1cHBvcnRzVHlwZShleHRlbnNpb246c3RyaW5nKTpib29sZWFuXG5cdHtcblx0XHRleHRlbnNpb24gPSBleHRlbnNpb24udG9Mb3dlckNhc2UoKTtcblx0XHRyZXR1cm4gZXh0ZW5zaW9uID09IFwibWQyXCI7XG5cdH1cblxuXHQvKipcblx0ICogVGVzdHMgd2hldGhlciBhIGRhdGEgYmxvY2sgY2FuIGJlIHBhcnNlZCBieSB0aGUgcGFyc2VyLlxuXHQgKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSBibG9jayB0byBwb3RlbnRpYWxseSBiZSBwYXJzZWQuXG5cdCAqIEByZXR1cm4gV2hldGhlciBvciBub3QgdGhlIGdpdmVuIGRhdGEgaXMgc3VwcG9ydGVkLlxuXHQgKi9cblx0cHVibGljIHN0YXRpYyBzdXBwb3J0c0RhdGEoZGF0YTphbnkpOmJvb2xlYW5cblx0e1xuXHRcdHJldHVybiAoUGFyc2VyVXRpbHMudG9TdHJpbmcoZGF0YSwgNCkgPT0gJ0lEUDInKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAaW5oZXJpdERvY1xuXHQgKi9cblx0cHVibGljIF9pUmVzb2x2ZURlcGVuZGVuY3kocmVzb3VyY2VEZXBlbmRlbmN5OlJlc291cmNlRGVwZW5kZW5jeSk6dm9pZFxuXHR7XG5cdFx0aWYgKHJlc291cmNlRGVwZW5kZW5jeS5hc3NldHMubGVuZ3RoICE9IDEpXG5cdFx0XHRyZXR1cm47XG5cblx0XHR2YXIgYXNzZXQ6VGV4dHVyZTJEQmFzZSA9IDxUZXh0dXJlMkRCYXNlPiByZXNvdXJjZURlcGVuZGVuY3kuYXNzZXRzWzBdO1xuXG5cdFx0aWYgKGFzc2V0KSB7XG5cdFx0XHR2YXIgbWF0ZXJpYWw6VHJpYW5nbGVNZXRob2RNYXRlcmlhbCA9IG5ldyBUcmlhbmdsZU1ldGhvZE1hdGVyaWFsKGFzc2V0KTtcblxuXHRcdFx0aWYgKHRoaXMubWF0ZXJpYWxNb2RlID49IDIpXG5cdFx0XHRcdG1hdGVyaWFsLm1hdGVyaWFsTW9kZSA9IFRyaWFuZ2xlTWF0ZXJpYWxNb2RlLk1VTFRJX1BBU1M7XG5cblx0XHRcdC8vYWRkIHRvIHRoZSBjb250ZW50IHByb3BlcnR5XG5cdFx0XHQoPERpc3BsYXlPYmplY3RDb250YWluZXI+IHRoaXMuX3BDb250ZW50KS5hZGRDaGlsZCh0aGlzLl9tZXNoKTtcblxuXHRcdFx0bWF0ZXJpYWwubmFtZSA9IHRoaXMuX21lc2gubWF0ZXJpYWwubmFtZTtcblx0XHRcdHRoaXMuX21lc2gubWF0ZXJpYWwgPSBtYXRlcmlhbDtcblx0XHRcdHRoaXMuX3BGaW5hbGl6ZUFzc2V0KG1hdGVyaWFsKTtcblx0XHRcdHRoaXMuX3BGaW5hbGl6ZUFzc2V0KHRoaXMuX21lc2guZ2VvbWV0cnkpO1xuXHRcdFx0dGhpcy5fcEZpbmFsaXplQXNzZXQodGhpcy5fbWVzaCk7XG5cdFx0fVxuXHRcdHRoaXMubWF0ZXJpYWxGaW5hbCA9IHRydWU7XG5cdH1cblxuXHQvKipcblx0ICogQGluaGVyaXREb2Ncblx0ICovXG5cdHB1YmxpYyBfaVJlc29sdmVEZXBlbmRlbmN5RmFpbHVyZShyZXNvdXJjZURlcGVuZGVuY3k6UmVzb3VyY2VEZXBlbmRlbmN5KTp2b2lkXG5cdHtcblx0XHQvLyBhcHBseSBzeXN0ZW0gZGVmYXVsdFxuXHRcdGlmICh0aGlzLm1hdGVyaWFsTW9kZSA8IDIpIHtcblx0XHRcdHRoaXMuX21lc2gubWF0ZXJpYWwgPSBEZWZhdWx0TWF0ZXJpYWxNYW5hZ2VyLmdldERlZmF1bHRNYXRlcmlhbCgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9tZXNoLm1hdGVyaWFsID0gbmV3IFRyaWFuZ2xlTWV0aG9kTWF0ZXJpYWwoRGVmYXVsdE1hdGVyaWFsTWFuYWdlci5nZXREZWZhdWx0VGV4dHVyZSgpKTtcblx0XHRcdCg8VHJpYW5nbGVNZXRob2RNYXRlcmlhbD4gdGhpcy5fbWVzaC5tYXRlcmlhbCkubWF0ZXJpYWxNb2RlID0gVHJpYW5nbGVNYXRlcmlhbE1vZGUuTVVMVElfUEFTUztcblx0XHR9XG5cblx0XHQvL2FkZCB0byB0aGUgY29udGVudCBwcm9wZXJ0eVxuXHRcdCg8RGlzcGxheU9iamVjdENvbnRhaW5lcj4gdGhpcy5fcENvbnRlbnQpLmFkZENoaWxkKHRoaXMuX21lc2gpO1xuXG5cdFx0dGhpcy5fcEZpbmFsaXplQXNzZXQodGhpcy5fbWVzaC5nZW9tZXRyeSk7XG5cdFx0dGhpcy5fcEZpbmFsaXplQXNzZXQodGhpcy5fbWVzaCk7XG5cdFx0dGhpcy5tYXRlcmlhbEZpbmFsID0gdHJ1ZTtcblxuXHR9XG5cblx0LyoqXG5cdCAqIEBpbmhlcml0RG9jXG5cdCAqL1xuXHRwdWJsaWMgX3BQcm9jZWVkUGFyc2luZygpOmJvb2xlYW5cblx0e1xuXHRcdGlmICghdGhpcy5fc3RhcnRlZFBhcnNpbmcpIHtcblx0XHRcdHRoaXMuX2J5dGVEYXRhID0gdGhpcy5fcEdldEJ5dGVEYXRhKCk7XG5cdFx0XHR0aGlzLl9zdGFydGVkUGFyc2luZyA9IHRydWU7XG5cblx0XHRcdC8vIFJlc2V0IGJ5dGVhcnJheSByZWFkIHBvc2l0aW9uICh3aGljaCBtYXkgaGF2ZSBiZWVuXG5cdFx0XHQvLyBtb3ZlZCBmb3J3YXJkIGJ5IHRoZSBzdXBwb3J0c0RhdGEoKSBmdW5jdGlvbi4pXG5cdFx0XHR0aGlzLl9ieXRlRGF0YS5wb3NpdGlvbiA9IDA7XG5cdFx0fVxuXG5cdFx0d2hpbGUgKHRoaXMuX3BIYXNUaW1lKCkpIHtcblx0XHRcdGlmICghdGhpcy5fcGFyc2VkSGVhZGVyKSB7XG5cdFx0XHRcdC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRcdFx0XHQvLyBMSVRUTEVfRU5ESUFOIC0gRGVmYXVsdCBmb3IgQXJyYXlCdWZmZXIgLyBOb3QgaW1wbGVtZW50ZWQgaW4gQnl0ZUFycmF5XG5cdFx0XHRcdC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRcdFx0XHQvL3RoaXMuX2J5dGVEYXRhLmVuZGlhbiA9IEVuZGlhbi5MSVRUTEVfRU5ESUFOO1xuXG5cdFx0XHRcdC8vIFRPRE86IENyZWF0ZSBhIG1lc2ggb25seSB3aGVuIGVuY291bnRlcmVkIChpZiBpdCBtYWtlcyBzZW5zZVxuXHRcdFx0XHQvLyBmb3IgdGhpcyBmaWxlIGZvcm1hdCkgYW5kIHJldHVybiBpdCB1c2luZyB0aGlzLl9wRmluYWxpemVBc3NldCgpXG5cdFx0XHRcdHRoaXMuX2dlb21ldHJ5ID0gbmV3IEdlb21ldHJ5KCk7XG5cdFx0XHRcdHRoaXMuX21lc2ggPSBuZXcgTWVzaCh0aGlzLl9nZW9tZXRyeSwgbnVsbCk7XG5cdFx0XHRcdGlmICh0aGlzLm1hdGVyaWFsTW9kZSA8IDIpIHtcblx0XHRcdFx0XHR0aGlzLl9tZXNoLm1hdGVyaWFsID0gRGVmYXVsdE1hdGVyaWFsTWFuYWdlci5nZXREZWZhdWx0TWF0ZXJpYWwoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzLl9tZXNoLm1hdGVyaWFsID0gbmV3IFRyaWFuZ2xlTWV0aG9kTWF0ZXJpYWwoRGVmYXVsdE1hdGVyaWFsTWFuYWdlci5nZXREZWZhdWx0VGV4dHVyZSgpKTtcblx0XHRcdFx0XHQoPFRyaWFuZ2xlTWV0aG9kTWF0ZXJpYWw+IHRoaXMuX21lc2gubWF0ZXJpYWwpLm1hdGVyaWFsTW9kZSA9IFRyaWFuZ2xlTWF0ZXJpYWxNb2RlLk1VTFRJX1BBU1M7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvL19nZW9tZXRyeS5hbmltYXRpb24gPSBuZXcgVmVydGV4QW5pbWF0aW9uKDIsIFZlcnRleEFuaW1hdGlvbk1vZGUuQUJTT0xVVEUpO1xuXHRcdFx0XHQvL19hbmltYXRvciA9IG5ldyBWZXJ0ZXhBbmltYXRvcihWZXJ0ZXhBbmltYXRpb25TdGF0ZShfbWVzaC5hbmltYXRpb25TdGF0ZSkpO1xuXG5cdFx0XHRcdC8vIFBhcnNlIGhlYWRlciBhbmQgZGVjb21wcmVzcyBib2R5XG5cdFx0XHRcdHRoaXMucGFyc2VIZWFkZXIoKTtcblx0XHRcdFx0dGhpcy5wYXJzZU1hdGVyaWFsTmFtZXMoKTtcblx0XHRcdH0gZWxzZSBpZiAoIXRoaXMuX3BhcnNlZFVWKSB7XG5cdFx0XHRcdHRoaXMucGFyc2VVVigpO1xuXHRcdFx0fSBlbHNlIGlmICghdGhpcy5fcGFyc2VkRmFjZXMpIHtcblx0XHRcdFx0dGhpcy5wYXJzZUZhY2VzKCk7XG5cdFx0XHR9IGVsc2UgaWYgKCF0aGlzLl9wYXJzZWRGcmFtZXMpIHtcblx0XHRcdFx0dGhpcy5wYXJzZUZyYW1lcygpO1xuXHRcdFx0fSBlbHNlIGlmICgodGhpcy5nZW9DcmVhdGVkKSAmJiAodGhpcy5tYXRlcmlhbEZpbmFsKSkge1xuXHRcdFx0XHRyZXR1cm4gUGFyc2VyQmFzZS5QQVJTSU5HX0RPTkU7XG5cdFx0XHR9IGVsc2UgaWYgKCF0aGlzLmdlb0NyZWF0ZWQpIHtcblx0XHRcdFx0dGhpcy5nZW9DcmVhdGVkID0gdHJ1ZTtcblx0XHRcdFx0Ly9jcmVhdGUgZGVmYXVsdCBzdWJnZW9tZXRyeVxuXHRcdFx0XHR0aGlzLl9nZW9tZXRyeS5hZGRTdWJHZW9tZXRyeSh0aGlzLl9maXJzdFN1Ykdlb20uY2xvbmUoKSk7XG5cdFx0XHRcdC8vIEZvcmNlIG5hbWUgdG8gYmUgY2hvc2VuIGJ5IHRoaXMuX3BGaW5hbGl6ZUFzc2V0KClcblx0XHRcdFx0dGhpcy5fbWVzaC5uYW1lID0gXCJcIjtcblx0XHRcdFx0aWYgKHRoaXMubWF0ZXJpYWxGaW5hbCkge1xuXHRcdFx0XHRcdC8vYWRkIHRvIHRoZSBjb250ZW50IHByb3BlcnR5XG5cdFx0XHRcdFx0KDxEaXNwbGF5T2JqZWN0Q29udGFpbmVyPiB0aGlzLl9wQ29udGVudCkuYWRkQ2hpbGQodGhpcy5fbWVzaCk7XG5cblx0XHRcdFx0XHR0aGlzLl9wRmluYWxpemVBc3NldCh0aGlzLl9tZXNoLmdlb21ldHJ5KTtcblx0XHRcdFx0XHR0aGlzLl9wRmluYWxpemVBc3NldCh0aGlzLl9tZXNoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMuX3BQYXVzZUFuZFJldHJpZXZlRGVwZW5kZW5jaWVzKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIFBhcnNlckJhc2UuTU9SRV9UT19QQVJTRTtcblx0fVxuXG5cdHB1YmxpYyBfcFN0YXJ0UGFyc2luZyhmcmFtZUxpbWl0Om51bWJlcilcblx0e1xuXHRcdHN1cGVyLl9wU3RhcnRQYXJzaW5nKGZyYW1lTGltaXQpO1xuXG5cdFx0Ly9jcmVhdGUgYSBjb250ZW50IG9iamVjdCBmb3IgTG9hZGVyc1xuXHRcdHRoaXMuX3BDb250ZW50ID0gbmV3IERpc3BsYXlPYmplY3RDb250YWluZXIoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZWFkcyBpbiBhbGwgdGhhdCBNRDIgSGVhZGVyIGRhdGEgdGhhdCBpcyBkZWNsYXJlZCBhcyBwcml2YXRlIHZhcmlhYmxlcy5cblx0ICogSSBrbm93IGl0cyBhIGxvdCwgYW5kIGl0IGxvb2tzIHVnbHksIGJ1dCBvbmx5IHdheSB0byBkbyBpdCBpbiBGbGFzaFxuXHQgKi9cblx0cHJpdmF0ZSBwYXJzZUhlYWRlcigpOnZvaWRcblx0e1xuXHRcdHRoaXMuX2lkZW50ID0gdGhpcy5fYnl0ZURhdGEucmVhZEludCgpO1xuXHRcdHRoaXMuX3ZlcnNpb24gPSB0aGlzLl9ieXRlRGF0YS5yZWFkSW50KCk7XG5cdFx0dGhpcy5fc2tpbldpZHRoID0gdGhpcy5fYnl0ZURhdGEucmVhZEludCgpO1xuXHRcdHRoaXMuX3NraW5IZWlnaHQgPSB0aGlzLl9ieXRlRGF0YS5yZWFkSW50KCk7XG5cdFx0Ly9za2lwIHRoaXMuX2ZyYW1lU2l6ZVxuXHRcdHRoaXMuX2J5dGVEYXRhLnJlYWRJbnQoKTtcblx0XHR0aGlzLl9udW1Ta2lucyA9IHRoaXMuX2J5dGVEYXRhLnJlYWRJbnQoKTtcblx0XHR0aGlzLl9udW1WZXJ0aWNlcyA9IHRoaXMuX2J5dGVEYXRhLnJlYWRJbnQoKTtcblx0XHR0aGlzLl9udW1TVCA9IHRoaXMuX2J5dGVEYXRhLnJlYWRJbnQoKTtcblx0XHR0aGlzLl9udW1UcmlzID0gdGhpcy5fYnl0ZURhdGEucmVhZEludCgpO1xuXHRcdC8vc2tpcCB0aGlzLl9udW1HbENtZHNcblx0XHR0aGlzLl9ieXRlRGF0YS5yZWFkSW50KCk7XG5cdFx0dGhpcy5fbnVtRnJhbWVzID0gdGhpcy5fYnl0ZURhdGEucmVhZEludCgpO1xuXHRcdHRoaXMuX29mZnNldFNraW5zID0gdGhpcy5fYnl0ZURhdGEucmVhZEludCgpO1xuXHRcdHRoaXMuX29mZnNldFNUID0gdGhpcy5fYnl0ZURhdGEucmVhZEludCgpO1xuXHRcdHRoaXMuX29mZnNldFRyaXMgPSB0aGlzLl9ieXRlRGF0YS5yZWFkSW50KCk7XG5cdFx0dGhpcy5fb2Zmc2V0RnJhbWVzID0gdGhpcy5fYnl0ZURhdGEucmVhZEludCgpO1xuXHRcdC8vc2tpcCB0aGlzLl9vZmZzZXRHbENtZHNcblx0XHR0aGlzLl9ieXRlRGF0YS5yZWFkSW50KCk7XG5cdFx0dGhpcy5fb2Zmc2V0RW5kID0gdGhpcy5fYnl0ZURhdGEucmVhZEludCgpO1xuXG5cdFx0dGhpcy5fcGFyc2VkSGVhZGVyID0gdHJ1ZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBQYXJzZXMgdGhlIGZpbGUgbmFtZXMgZm9yIHRoZSBtYXRlcmlhbHMuXG5cdCAqL1xuXHRwcml2YXRlIHBhcnNlTWF0ZXJpYWxOYW1lcygpOnZvaWRcblx0e1xuXHRcdHZhciB1cmw6c3RyaW5nO1xuXHRcdHZhciBuYW1lOnN0cmluZztcblx0XHR2YXIgZXh0SW5kZXg6bnVtYmVyIC8qaW50Ki87XG5cdFx0dmFyIHNsYXNoSW5kZXg6bnVtYmVyIC8qaW50Ki87XG5cdFx0dGhpcy5fbWF0ZXJpYWxOYW1lcyA9IG5ldyBBcnJheTxzdHJpbmc+KCk7XG5cdFx0dGhpcy5fYnl0ZURhdGEucG9zaXRpb24gPSB0aGlzLl9vZmZzZXRTa2lucztcblxuXHRcdHZhciByZWdFeHA6UmVnRXhwID0gbmV3IFJlZ0V4cChcIlteYS16QS1aMC05XFxcXF9cXC8uXVwiLCBcImdcIik7XG5cdFx0Zm9yICh2YXIgaTpudW1iZXIgLyp1aW50Ki8gPSAwOyBpIDwgdGhpcy5fbnVtU2tpbnM7ICsraSkge1xuXHRcdFx0bmFtZSA9IHRoaXMuX2J5dGVEYXRhLnJlYWRVVEZCeXRlcyg2NCk7XG5cdFx0XHRuYW1lID0gbmFtZS5yZXBsYWNlKHJlZ0V4cCwgXCJcIik7XG5cdFx0XHRleHRJbmRleCA9IG5hbWUubGFzdEluZGV4T2YoXCIuXCIpO1xuXHRcdFx0aWYgKHRoaXMuX2lnbm9yZVRleHR1cmVQYXRoKVxuXHRcdFx0XHRzbGFzaEluZGV4ID0gbmFtZS5sYXN0SW5kZXhPZihcIi9cIik7XG5cdFx0XHRpZiAobmFtZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCIuanBnXCIpID09IC0xICYmIG5hbWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiLnBuZ1wiKSA9PSAtMSkge1xuXHRcdFx0XHRuYW1lID0gbmFtZS5zdWJzdHJpbmcoc2xhc2hJbmRleCArIDEsIGV4dEluZGV4KTtcblx0XHRcdFx0dXJsID0gbmFtZSArIFwiLlwiICsgdGhpcy5fdGV4dHVyZVR5cGU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR1cmwgPSBuYW1lO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9tYXRlcmlhbE5hbWVzW2ldID0gbmFtZTtcblxuXHRcdFx0Ly8gb25seSBzdXBwb3J0IDEgc2tpbiBUT0RPOiByZWFsbHk/XG5cdFx0XHRpZiAodGhpcy5kZXBlbmRlbmNpZXMubGVuZ3RoID09IDApXG5cdFx0XHRcdHRoaXMuX3BBZGREZXBlbmRlbmN5KG5hbWUsIG5ldyBVUkxSZXF1ZXN0KHVybCkpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLl9tYXRlcmlhbE5hbWVzLmxlbmd0aCA+IDApXG5cdFx0XHR0aGlzLl9tZXNoLm1hdGVyaWFsLm5hbWUgPSB0aGlzLl9tYXRlcmlhbE5hbWVzWzBdOyBlbHNlXG5cdFx0XHR0aGlzLm1hdGVyaWFsRmluYWwgPSB0cnVlO1xuXHR9XG5cblx0LyoqXG5cdCAqIFBhcnNlcyB0aGUgdXYgZGF0YSBmb3IgdGhlIG1lc2guXG5cdCAqL1xuXHRwcml2YXRlIHBhcnNlVVYoKTp2b2lkXG5cdHtcblx0XHR2YXIgajpudW1iZXIgLyp1aW50Ki8gPSAwO1xuXG5cdFx0dGhpcy5fdXZzID0gbmV3IEFycmF5PG51bWJlcj4odGhpcy5fbnVtU1QqMik7XG5cdFx0dGhpcy5fYnl0ZURhdGEucG9zaXRpb24gPSB0aGlzLl9vZmZzZXRTVDtcblx0XHRmb3IgKHZhciBpOm51bWJlciAvKnVpbnQqLyA9IDA7IGkgPCB0aGlzLl9udW1TVDsgaSsrKSB7XG5cdFx0XHR0aGlzLl91dnNbaisrXSA9IHRoaXMuX2J5dGVEYXRhLnJlYWRTaG9ydCgpL3RoaXMuX3NraW5XaWR0aDtcblx0XHRcdHRoaXMuX3V2c1tqKytdID0gdGhpcy5fYnl0ZURhdGEucmVhZFNob3J0KCkvdGhpcy5fc2tpbkhlaWdodDtcblx0XHR9XG5cblx0XHR0aGlzLl9wYXJzZWRVViA9IHRydWU7XG5cdH1cblxuXHQvKipcblx0ICogUGFyc2VzIHVuaXF1ZSBpbmRpY2VzIGZvciB0aGUgZmFjZXMuXG5cdCAqL1xuXHRwcml2YXRlIHBhcnNlRmFjZXMoKTp2b2lkXG5cdHtcblx0XHR2YXIgYTpudW1iZXIgLyp1aW50Ki8sIGI6bnVtYmVyIC8qdWludCovLCBjOm51bWJlciAvKnVpbnQqLywgdGE6bnVtYmVyIC8qdWludCovLCB0YjpudW1iZXIgLyp1aW50Ki8sIHRjOm51bWJlciAvKnVpbnQqLztcblx0XHR2YXIgaTpudW1iZXIgLyp1aW50Ki87XG5cblx0XHR0aGlzLl92ZXJ0SW5kaWNlcyA9IG5ldyBBcnJheTxudW1iZXI+KCk7XG5cdFx0dGhpcy5fdXZJbmRpY2VzID0gbmV3IEFycmF5PG51bWJlcj4oKTtcblx0XHR0aGlzLl9pbmRpY2VzID0gbmV3IEFycmF5PG51bWJlcj4oKSAvKnVpbnQqLztcblxuXHRcdHRoaXMuX2J5dGVEYXRhLnBvc2l0aW9uID0gdGhpcy5fb2Zmc2V0VHJpcztcblxuXHRcdGZvciAoaSA9IDA7IGkgPCB0aGlzLl9udW1UcmlzOyBpKyspIHtcblx0XHRcdC8vY29sbGVjdCB2ZXJ0ZXggaW5kaWNlc1xuXHRcdFx0YSA9IHRoaXMuX2J5dGVEYXRhLnJlYWRVbnNpZ25lZFNob3J0KCk7XG5cdFx0XHRiID0gdGhpcy5fYnl0ZURhdGEucmVhZFVuc2lnbmVkU2hvcnQoKTtcblx0XHRcdGMgPSB0aGlzLl9ieXRlRGF0YS5yZWFkVW5zaWduZWRTaG9ydCgpO1xuXG5cdFx0XHQvL2NvbGxlY3QgdXYgaW5kaWNlc1xuXHRcdFx0dGEgPSB0aGlzLl9ieXRlRGF0YS5yZWFkVW5zaWduZWRTaG9ydCgpO1xuXHRcdFx0dGIgPSB0aGlzLl9ieXRlRGF0YS5yZWFkVW5zaWduZWRTaG9ydCgpO1xuXHRcdFx0dGMgPSB0aGlzLl9ieXRlRGF0YS5yZWFkVW5zaWduZWRTaG9ydCgpO1xuXG5cdFx0XHR0aGlzLmFkZEluZGV4KGEsIHRhKTtcblx0XHRcdHRoaXMuYWRkSW5kZXgoYiwgdGIpO1xuXHRcdFx0dGhpcy5hZGRJbmRleChjLCB0Yyk7XG5cdFx0fVxuXG5cdFx0dmFyIGxlbjpudW1iZXIgLyp1aW50Ki8gPSB0aGlzLl91dkluZGljZXMubGVuZ3RoO1xuXHRcdHRoaXMuX2ZpbmFsVVYgPSBuZXcgQXJyYXk8bnVtYmVyPihsZW4qMik7XG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcblx0XHRcdHRoaXMuX2ZpbmFsVVZbaSA8PCAxXSA9IHRoaXMuX3V2c1t0aGlzLl91dkluZGljZXNbaV0gPDwgMV07XG5cdFx0XHR0aGlzLl9maW5hbFVWWyhpIDw8IDEpICsgMV0gPSB0aGlzLl91dnNbKHRoaXMuX3V2SW5kaWNlc1tpXSA8PCAxKSArIDFdO1xuXHRcdH1cblxuXHRcdHRoaXMuX3BhcnNlZEZhY2VzID0gdHJ1ZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGRzIGEgZmFjZSBpbmRleCB0byB0aGUgbGlzdCBpZiBpdCBkb2Vzbid0IGV4aXN0IHlldCwgYmFzZWQgb24gdmVydGV4SW5kZXggYW5kIHV2SW5kZXgsIGFuZCBhZGRzIHRoZVxuXHQgKiBjb3JyZXNwb25kaW5nIHZlcnRleCBhbmQgdXYgZGF0YSBpbiB0aGUgY29ycmVjdCBsb2NhdGlvbi5cblx0ICogQHBhcmFtIHZlcnRleEluZGV4IFRoZSBvcmlnaW5hbCBpbmRleCBpbiB0aGUgdmVydGV4IGxpc3QuXG5cdCAqIEBwYXJhbSB1dkluZGV4IFRoZSBvcmlnaW5hbCBpbmRleCBpbiB0aGUgdXYgbGlzdC5cblx0ICovXG5cdHByaXZhdGUgYWRkSW5kZXgodmVydGV4SW5kZXg6bnVtYmVyIC8qdWludCovLCB1dkluZGV4Om51bWJlciAvKnVpbnQqLyk6dm9pZFxuXHR7XG5cdFx0dmFyIGluZGV4Om51bWJlciAvKmludCovID0gdGhpcy5maW5kSW5kZXgodmVydGV4SW5kZXgsIHV2SW5kZXgpO1xuXG5cdFx0aWYgKGluZGV4ID09IC0xKSB7XG5cdFx0XHR0aGlzLl9pbmRpY2VzLnB1c2godGhpcy5fdmVydEluZGljZXMubGVuZ3RoKTtcblx0XHRcdHRoaXMuX3ZlcnRJbmRpY2VzLnB1c2godmVydGV4SW5kZXgpO1xuXHRcdFx0dGhpcy5fdXZJbmRpY2VzLnB1c2godXZJbmRleCk7XG5cdFx0fSBlbHNlXG5cdFx0XHR0aGlzLl9pbmRpY2VzLnB1c2goaW5kZXgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEZpbmRzIHRoZSBmaW5hbCBpbmRleCBjb3JyZXNwb25kaW5nIHRvIHRoZSBvcmlnaW5hbCBNRDIncyB2ZXJ0ZXggYW5kIHV2IGluZGljZXMuIFJldHVybnMgLTEgaWYgaXQgd2Fzbid0IGFkZGVkIHlldC5cblx0ICogQHBhcmFtIHZlcnRleEluZGV4IFRoZSBvcmlnaW5hbCBpbmRleCBpbiB0aGUgdmVydGV4IGxpc3QuXG5cdCAqIEBwYXJhbSB1dkluZGV4IFRoZSBvcmlnaW5hbCBpbmRleCBpbiB0aGUgdXYgbGlzdC5cblx0ICogQHJldHVybiBUaGUgaW5kZXggb2YgdGhlIGZpbmFsIG1lc2ggY29ycmVzcG9uZGluZyB0byB0aGUgb3JpZ2luYWwgdmVydGV4IGFuZCB1diBpbmRleC4gLTEgaWYgaXQgZG9lc24ndCBleGlzdCB5ZXQuXG5cdCAqL1xuXHRwcml2YXRlIGZpbmRJbmRleCh2ZXJ0ZXhJbmRleDpudW1iZXIgLyp1aW50Ki8sIHV2SW5kZXg6bnVtYmVyIC8qdWludCovKTpudW1iZXIgLyppbnQqL1xuXHR7XG5cdFx0dmFyIGxlbjpudW1iZXIgLyp1aW50Ki8gPSB0aGlzLl92ZXJ0SW5kaWNlcy5sZW5ndGg7XG5cblx0XHRmb3IgKHZhciBpOm51bWJlciAvKnVpbnQqLyA9IDA7IGkgPCBsZW47ICsraSkge1xuXHRcdFx0aWYgKHRoaXMuX3ZlcnRJbmRpY2VzW2ldID09IHZlcnRleEluZGV4ICYmIHRoaXMuX3V2SW5kaWNlc1tpXSA9PSB1dkluZGV4KVxuXHRcdFx0XHRyZXR1cm4gaTtcblx0XHR9XG5cblx0XHRyZXR1cm4gLTE7XG5cdH1cblxuXHQvKipcblx0ICogUGFyc2VzIGFsbCB0aGUgZnJhbWUgZ2VvbWV0cmllcy5cblx0ICovXG5cdHByaXZhdGUgcGFyc2VGcmFtZXMoKTp2b2lkXG5cdHtcblx0XHR2YXIgc3g6bnVtYmVyLCBzeTpudW1iZXIsIHN6Om51bWJlcjtcblx0XHR2YXIgdHg6bnVtYmVyLCB0eTpudW1iZXIsIHR6Om51bWJlcjtcblx0XHR2YXIgZ2VvbWV0cnk6R2VvbWV0cnk7XG5cdFx0dmFyIHN1Ykdlb206VHJpYW5nbGVTdWJHZW9tZXRyeTtcblx0XHR2YXIgdmVydExlbjpudW1iZXIgLyp1aW50Ki8gPSB0aGlzLl92ZXJ0SW5kaWNlcy5sZW5ndGg7XG5cdFx0dmFyIGZ2ZXJ0aWNlczpBcnJheTxudW1iZXI+O1xuXHRcdHZhciB0dmVydGljZXM6QXJyYXk8bnVtYmVyPjtcblx0XHR2YXIgaTpudW1iZXIgLyp1aW50Ki8sIGo6bnVtYmVyIC8qaW50Ki8sIGs6bnVtYmVyIC8qdWludCovO1xuXHRcdC8vdmFyIGNoIDogbnVtYmVyIC8qdWludCovO1xuXHRcdHZhciBuYW1lOnN0cmluZyA9IFwiXCI7XG5cdFx0dmFyIHByZXZDbGlwOlZlcnRleENsaXBOb2RlID0gbnVsbDtcblxuXHRcdHRoaXMuX2J5dGVEYXRhLnBvc2l0aW9uID0gdGhpcy5fb2Zmc2V0RnJhbWVzO1xuXG5cdFx0Zm9yIChpID0gMDsgaSA8IHRoaXMuX251bUZyYW1lczsgaSsrKSB7XG5cblx0XHRcdHR2ZXJ0aWNlcyA9IG5ldyBBcnJheTxudW1iZXI+KCk7XG5cdFx0XHRmdmVydGljZXMgPSBuZXcgQXJyYXk8bnVtYmVyPih2ZXJ0TGVuKjMpO1xuXG5cdFx0XHRzeCA9IHRoaXMuX2J5dGVEYXRhLnJlYWRGbG9hdCgpO1xuXHRcdFx0c3kgPSB0aGlzLl9ieXRlRGF0YS5yZWFkRmxvYXQoKTtcblx0XHRcdHN6ID0gdGhpcy5fYnl0ZURhdGEucmVhZEZsb2F0KCk7XG5cblx0XHRcdHR4ID0gdGhpcy5fYnl0ZURhdGEucmVhZEZsb2F0KCk7XG5cdFx0XHR0eSA9IHRoaXMuX2J5dGVEYXRhLnJlYWRGbG9hdCgpO1xuXHRcdFx0dHogPSB0aGlzLl9ieXRlRGF0YS5yZWFkRmxvYXQoKTtcblxuXHRcdFx0bmFtZSA9IHRoaXMucmVhZEZyYW1lTmFtZSgpO1xuXG5cdFx0XHQvLyBOb3RlLCB0aGUgZXh0cmEgZGF0YS5wb3NpdGlvbisrIGluIHRoZSBmb3IgbG9vcCBpcyB0aGVyZVxuXHRcdFx0Ly8gdG8gc2tpcCBvdmVyIGEgYnl0ZSB0aGF0IGhvbGRzIHRoZSBcInZlcnRleCBub3JtYWwgaW5kZXhcIlxuXHRcdFx0Zm9yIChqID0gMDsgaiA8IHRoaXMuX251bVZlcnRpY2VzOyBqKyssIHRoaXMuX2J5dGVEYXRhLnBvc2l0aW9uKyspXG5cdFx0XHRcdHR2ZXJ0aWNlcy5wdXNoKHN4KnRoaXMuX2J5dGVEYXRhLnJlYWRVbnNpZ25lZEJ5dGUoKSArIHR4LCBzeSp0aGlzLl9ieXRlRGF0YS5yZWFkVW5zaWduZWRCeXRlKCkgKyB0eSwgc3oqdGhpcy5fYnl0ZURhdGEucmVhZFVuc2lnbmVkQnl0ZSgpICsgdHopO1xuXG5cdFx0XHRrID0gMDtcblx0XHRcdGZvciAoaiA9IDA7IGogPCB2ZXJ0TGVuOyBqKyspIHtcblx0XHRcdFx0ZnZlcnRpY2VzW2srK10gPSB0dmVydGljZXNbdGhpcy5fdmVydEluZGljZXNbal0qM107XG5cdFx0XHRcdGZ2ZXJ0aWNlc1trKytdID0gdHZlcnRpY2VzW3RoaXMuX3ZlcnRJbmRpY2VzW2pdKjMgKyAyXTtcblx0XHRcdFx0ZnZlcnRpY2VzW2srK10gPSB0dmVydGljZXNbdGhpcy5fdmVydEluZGljZXNbal0qMyArIDFdO1xuXHRcdFx0fVxuXG5cdFx0XHRzdWJHZW9tID0gbmV3IFRyaWFuZ2xlU3ViR2VvbWV0cnkodHJ1ZSk7XG5cblx0XHRcdGlmICh0aGlzLl9maXJzdFN1Ykdlb20gPT0gbnVsbClcblx0XHRcdFx0dGhpcy5fZmlyc3RTdWJHZW9tID0gc3ViR2VvbTtcblxuXHRcdFx0Z2VvbWV0cnkgPSBuZXcgR2VvbWV0cnkoKTtcblx0XHRcdGdlb21ldHJ5LmFkZFN1Ykdlb21ldHJ5KHN1Ykdlb20pO1xuXG5cdFx0XHRzdWJHZW9tLnVwZGF0ZUluZGljZXModGhpcy5faW5kaWNlcyk7XG5cdFx0XHRzdWJHZW9tLnVwZGF0ZVBvc2l0aW9ucyhmdmVydGljZXMpO1xuXHRcdFx0c3ViR2VvbS51cGRhdGVVVnModGhpcy5fZmluYWxVVik7XG5cdFx0XHRzdWJHZW9tLnZlcnRleE5vcm1hbHM7XG5cdFx0XHRzdWJHZW9tLnZlcnRleFRhbmdlbnRzO1xuXHRcdFx0c3ViR2VvbS5hdXRvRGVyaXZlTm9ybWFscyA9IGZhbHNlO1xuXHRcdFx0c3ViR2VvbS5hdXRvRGVyaXZlVGFuZ2VudHMgPSBmYWxzZTtcblxuXHRcdFx0dmFyIGNsaXA6VmVydGV4Q2xpcE5vZGUgPSB0aGlzLl9jbGlwTm9kZXNbbmFtZV07XG5cblx0XHRcdGlmICghY2xpcCkge1xuXHRcdFx0XHQvLyBJZiBhbm90aGVyIHNlcXVlbmNlIHdhcyBwYXJzZWQgYmVmb3JlIHRoaXMgb25lLCBzdGFydGluZ1xuXHRcdFx0XHQvLyBhIG5ldyBzdGF0ZSBtZWFucyB0aGUgcHJldmlvdXMgb25lIGlzIGNvbXBsZXRlIGFuZCBjYW5cblx0XHRcdFx0Ly8gaGVuY2UgYmUgZmluYWxpemVkLlxuXHRcdFx0XHRpZiAocHJldkNsaXApIHtcblx0XHRcdFx0XHR0aGlzLl9wRmluYWxpemVBc3NldChwcmV2Q2xpcCk7XG5cdFx0XHRcdFx0dGhpcy5fYW5pbWF0aW9uU2V0LmFkZEFuaW1hdGlvbihwcmV2Q2xpcCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjbGlwID0gbmV3IFZlcnRleENsaXBOb2RlKCk7XG5cdFx0XHRcdGNsaXAubmFtZSA9IG5hbWU7XG5cdFx0XHRcdGNsaXAuc3RpdGNoRmluYWxGcmFtZSA9IHRydWU7XG5cblx0XHRcdFx0dGhpcy5fY2xpcE5vZGVzW25hbWVdID0gY2xpcDtcblxuXHRcdFx0XHRwcmV2Q2xpcCA9IGNsaXA7XG5cdFx0XHR9XG5cdFx0XHRjbGlwLmFkZEZyYW1lKGdlb21ldHJ5LCAxMDAwL01EMlBhcnNlci5GUFMpO1xuXHRcdH1cblxuXHRcdC8vIEZpbmFsaXplIHRoZSBsYXN0IHN0YXRlXG5cdFx0aWYgKHByZXZDbGlwKSB7XG5cdFx0XHR0aGlzLl9wRmluYWxpemVBc3NldChwcmV2Q2xpcCk7XG5cdFx0XHR0aGlzLl9hbmltYXRpb25TZXQuYWRkQW5pbWF0aW9uKHByZXZDbGlwKTtcblx0XHR9XG5cblx0XHQvLyBGb3JjZSB0aGlzLl9wRmluYWxpemVBc3NldCgpIHRvIGRlY2lkZSBuYW1lXG5cdFx0dGhpcy5fcEZpbmFsaXplQXNzZXQodGhpcy5fYW5pbWF0aW9uU2V0KTtcblxuXHRcdHRoaXMuX3BhcnNlZEZyYW1lcyA9IHRydWU7XG5cdH1cblxuXHRwcml2YXRlIHJlYWRGcmFtZU5hbWUoKTpzdHJpbmdcblx0e1xuXHRcdHZhciBuYW1lOnN0cmluZyA9IFwiXCI7XG5cdFx0dmFyIGs6bnVtYmVyIC8qdWludCovID0gMDtcblx0XHRmb3IgKHZhciBqOm51bWJlciAvKnVpbnQqLyA9IDA7IGogPCAxNjsgaisrKSB7XG5cdFx0XHR2YXIgY2g6bnVtYmVyIC8qdWludCovID0gdGhpcy5fYnl0ZURhdGEucmVhZFVuc2lnbmVkQnl0ZSgpO1xuXG5cdFx0XHRpZiAoTWF0aC5mbG9vcihjaCkgPiAweDM5ICYmIE1hdGguZmxvb3IoY2gpIDw9IDB4N0EgJiYgayA9PSAwKVxuXHRcdFx0XHRuYW1lICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoY2gpO1xuXG5cdFx0XHRpZiAoTWF0aC5mbG9vcihjaCkgPj0gMHgzMCAmJiBNYXRoLmZsb29yKGNoKSA8PSAweDM5KVxuXHRcdFx0XHRrKys7XG5cdFx0fVxuXHRcdHJldHVybiBuYW1lO1xuXHR9XG59XG5cbmV4cG9ydCA9IE1EMlBhcnNlcjsiXX0=