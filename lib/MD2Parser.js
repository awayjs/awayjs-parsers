var __extends = this.__extends || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    __.prototype = b.prototype;
    d.prototype = new __();
};
var Geometry = require("awayjs-core/lib/data/Geometry");
var TriangleSubGeometry = require("awayjs-core/lib/data/TriangleSubGeometry");
var URLLoaderDataFormat = require("awayjs-core/lib/net/URLLoaderDataFormat");
var URLRequest = require("awayjs-core/lib/net/URLRequest");
var ParserBase = require("awayjs-core/lib/parsers/ParserBase");
var ParserUtils = require("awayjs-core/lib/parsers/ParserUtils");
var DisplayObjectContainer = require("awayjs-display/lib/containers/DisplayObjectContainer");
var Mesh = require("awayjs-display/lib/entities/Mesh");
var DefaultMaterialManager = require("awayjs-display/lib/managers/DefaultMaterialManager");
var VertexClipNode = require("awayjs-renderergl/lib/animators/nodes/VertexClipNode");
var VertexAnimationSet = require("awayjs-renderergl/lib/animators/VertexAnimationSet");
var MethodMaterial = require("awayjs-methodmaterials/lib/MethodMaterial");
var MethodMaterialMode = require("awayjs-methodmaterials/lib/MethodMaterialMode");
/**
 * MD2Parser provides a parser for the MD2 data type.
 */
var MD2Parser = (function (_super) {
    __extends(MD2Parser, _super);
    /**
     * Creates a new MD2Parser object.
     * @param textureType The extension of the texture (e.g. jpg/png/...)
     * @param ignoreTexturePath If true, the path of the texture is ignored
     */
    function MD2Parser(textureType, ignoreTexturePath) {
        if (textureType === void 0) { textureType = "jpg"; }
        if (ignoreTexturePath === void 0) { ignoreTexturePath = true; }
        _super.call(this, URLLoaderDataFormat.ARRAY_BUFFER);
        this._clipNodes = new Object();
        // the current subgeom being built
        this._animationSet = new VertexAnimationSet();
        this.materialFinal = false;
        this.geoCreated = false;
        this._textureType = textureType;
        this._ignoreTexturePath = ignoreTexturePath;
    }
    /**
     * Indicates whether or not a given file extension is supported by the parser.
     * @param extension The file extension of a potential file to be parsed.
     * @return Whether or not the given file type is supported.
     */
    MD2Parser.supportsType = function (extension) {
        extension = extension.toLowerCase();
        return extension == "md2";
    };
    /**
     * Tests whether a data block can be parsed by the parser.
     * @param data The data block to potentially be parsed.
     * @return Whether or not the given data is supported.
     */
    MD2Parser.supportsData = function (data) {
        return (ParserUtils.toString(data, 4) == 'IDP2');
    };
    /**
     * @inheritDoc
     */
    MD2Parser.prototype._iResolveDependency = function (resourceDependency) {
        if (resourceDependency.assets.length != 1)
            return;
        var asset = resourceDependency.assets[0];
        if (asset) {
            var material = new MethodMaterial(asset);
            if (this.materialMode >= 2)
                material.mode = MethodMaterialMode.MULTI_PASS;
            //add to the content property
            this._pContent.addChild(this._mesh);
            material.name = this._mesh.material.name;
            this._mesh.material = material;
            this._pFinalizeAsset(material);
            this._pFinalizeAsset(this._mesh.geometry);
            this._pFinalizeAsset(this._mesh);
        }
        this.materialFinal = true;
    };
    /**
     * @inheritDoc
     */
    MD2Parser.prototype._iResolveDependencyFailure = function (resourceDependency) {
        // apply system default
        if (this.materialMode < 2) {
            this._mesh.material = DefaultMaterialManager.getDefaultMaterial();
        }
        else {
            this._mesh.material = new MethodMaterial(DefaultMaterialManager.getDefaultTexture());
            this._mesh.material.mode = MethodMaterialMode.MULTI_PASS;
        }
        //add to the content property
        this._pContent.addChild(this._mesh);
        this._pFinalizeAsset(this._mesh.geometry);
        this._pFinalizeAsset(this._mesh);
        this.materialFinal = true;
    };
    /**
     * @inheritDoc
     */
    MD2Parser.prototype._pProceedParsing = function () {
        if (!this._startedParsing) {
            this._byteData = this._pGetByteData();
            this._startedParsing = true;
            // Reset bytearray read position (which may have been
            // moved forward by the supportsData() function.)
            this._byteData.position = 0;
        }
        while (this._pHasTime()) {
            if (!this._parsedHeader) {
                //----------------------------------------------------------------------------
                // LITTLE_ENDIAN - Default for ArrayBuffer / Not implemented in ByteArray
                //----------------------------------------------------------------------------
                //this._byteData.endian = Endian.LITTLE_ENDIAN;
                // TODO: Create a mesh only when encountered (if it makes sense
                // for this file format) and return it using this._pFinalizeAsset()
                this._geometry = new Geometry();
                this._mesh = new Mesh(this._geometry, null);
                if (this.materialMode < 2) {
                    this._mesh.material = DefaultMaterialManager.getDefaultMaterial();
                }
                else {
                    this._mesh.material = new MethodMaterial(DefaultMaterialManager.getDefaultTexture());
                    this._mesh.material.mode = MethodMaterialMode.MULTI_PASS;
                }
                //_geometry.animation = new VertexAnimation(2, VertexAnimationMode.ABSOLUTE);
                //_animator = new VertexAnimator(VertexAnimationState(_mesh.animationState));
                // Parse header and decompress body
                this.parseHeader();
                this.parseMaterialNames();
            }
            else if (!this._parsedUV) {
                this.parseUV();
            }
            else if (!this._parsedFaces) {
                this.parseFaces();
            }
            else if (!this._parsedFrames) {
                this.parseFrames();
            }
            else if ((this.geoCreated) && (this.materialFinal)) {
                return ParserBase.PARSING_DONE;
            }
            else if (!this.geoCreated) {
                this.geoCreated = true;
                //create default subgeometry
                this._geometry.addSubGeometry(this._firstSubGeom.clone());
                // Force name to be chosen by this._pFinalizeAsset()
                this._mesh.name = "";
                if (this.materialFinal) {
                    //add to the content property
                    this._pContent.addChild(this._mesh);
                    this._pFinalizeAsset(this._mesh.geometry);
                    this._pFinalizeAsset(this._mesh);
                }
                this._pPauseAndRetrieveDependencies();
            }
        }
        return ParserBase.MORE_TO_PARSE;
    };
    MD2Parser.prototype._pStartParsing = function (frameLimit) {
        _super.prototype._pStartParsing.call(this, frameLimit);
        //create a content object for Loaders
        this._pContent = new DisplayObjectContainer();
    };
    /**
     * Reads in all that MD2 Header data that is declared as private variables.
     * I know its a lot, and it looks ugly, but only way to do it in Flash
     */
    MD2Parser.prototype.parseHeader = function () {
        this._ident = this._byteData.readInt();
        this._version = this._byteData.readInt();
        this._skinWidth = this._byteData.readInt();
        this._skinHeight = this._byteData.readInt();
        //skip this._frameSize
        this._byteData.readInt();
        this._numSkins = this._byteData.readInt();
        this._numVertices = this._byteData.readInt();
        this._numST = this._byteData.readInt();
        this._numTris = this._byteData.readInt();
        //skip this._numGlCmds
        this._byteData.readInt();
        this._numFrames = this._byteData.readInt();
        this._offsetSkins = this._byteData.readInt();
        this._offsetST = this._byteData.readInt();
        this._offsetTris = this._byteData.readInt();
        this._offsetFrames = this._byteData.readInt();
        //skip this._offsetGlCmds
        this._byteData.readInt();
        this._offsetEnd = this._byteData.readInt();
        this._parsedHeader = true;
    };
    /**
     * Parses the file names for the materials.
     */
    MD2Parser.prototype.parseMaterialNames = function () {
        var url;
        var name;
        var extIndex /*int*/;
        var slashIndex /*int*/;
        this._materialNames = new Array();
        this._byteData.position = this._offsetSkins;
        var regExp = new RegExp("[^a-zA-Z0-9\\_\/.]", "g");
        for (var i = 0; i < this._numSkins; ++i) {
            name = this._byteData.readUTFBytes(64);
            name = name.replace(regExp, "");
            extIndex = name.lastIndexOf(".");
            if (this._ignoreTexturePath)
                slashIndex = name.lastIndexOf("/");
            if (name.toLowerCase().indexOf(".jpg") == -1 && name.toLowerCase().indexOf(".png") == -1) {
                name = name.substring(slashIndex + 1, extIndex);
                url = name + "." + this._textureType;
            }
            else {
                url = name;
            }
            this._materialNames[i] = name;
            // only support 1 skin TODO: really?
            if (this.dependencies.length == 0)
                this._pAddDependency(name, new URLRequest(url));
        }
        if (this._materialNames.length > 0)
            this._mesh.material.name = this._materialNames[0];
        else
            this.materialFinal = true;
    };
    /**
     * Parses the uv data for the mesh.
     */
    MD2Parser.prototype.parseUV = function () {
        var j = 0;
        this._uvs = new Array(this._numST * 2);
        this._byteData.position = this._offsetST;
        for (var i = 0; i < this._numST; i++) {
            this._uvs[j++] = this._byteData.readShort() / this._skinWidth;
            this._uvs[j++] = this._byteData.readShort() / this._skinHeight;
        }
        this._parsedUV = true;
    };
    /**
     * Parses unique indices for the faces.
     */
    MD2Parser.prototype.parseFaces = function () {
        var a /*uint*/, b /*uint*/, c /*uint*/, ta /*uint*/, tb /*uint*/, tc /*uint*/;
        var i /*uint*/;
        this._vertIndices = new Array();
        this._uvIndices = new Array();
        this._indices = new Array();
        this._byteData.position = this._offsetTris;
        for (i = 0; i < this._numTris; i++) {
            //collect vertex indices
            a = this._byteData.readUnsignedShort();
            b = this._byteData.readUnsignedShort();
            c = this._byteData.readUnsignedShort();
            //collect uv indices
            ta = this._byteData.readUnsignedShort();
            tb = this._byteData.readUnsignedShort();
            tc = this._byteData.readUnsignedShort();
            this.addIndex(a, ta);
            this.addIndex(b, tb);
            this.addIndex(c, tc);
        }
        var len = this._uvIndices.length;
        this._finalUV = new Array(len * 2);
        for (i = 0; i < len; ++i) {
            this._finalUV[i << 1] = this._uvs[this._uvIndices[i] << 1];
            this._finalUV[(i << 1) + 1] = this._uvs[(this._uvIndices[i] << 1) + 1];
        }
        this._parsedFaces = true;
    };
    /**
     * Adds a face index to the list if it doesn't exist yet, based on vertexIndex and uvIndex, and adds the
     * corresponding vertex and uv data in the correct location.
     * @param vertexIndex The original index in the vertex list.
     * @param uvIndex The original index in the uv list.
     */
    MD2Parser.prototype.addIndex = function (vertexIndex /*uint*/, uvIndex /*uint*/) {
        var index = this.findIndex(vertexIndex, uvIndex);
        if (index == -1) {
            this._indices.push(this._vertIndices.length);
            this._vertIndices.push(vertexIndex);
            this._uvIndices.push(uvIndex);
        }
        else
            this._indices.push(index);
    };
    /**
     * Finds the final index corresponding to the original MD2's vertex and uv indices. Returns -1 if it wasn't added yet.
     * @param vertexIndex The original index in the vertex list.
     * @param uvIndex The original index in the uv list.
     * @return The index of the final mesh corresponding to the original vertex and uv index. -1 if it doesn't exist yet.
     */
    MD2Parser.prototype.findIndex = function (vertexIndex /*uint*/, uvIndex /*uint*/) {
        var len = this._vertIndices.length;
        for (var i = 0; i < len; ++i) {
            if (this._vertIndices[i] == vertexIndex && this._uvIndices[i] == uvIndex)
                return i;
        }
        return -1;
    };
    /**
     * Parses all the frame geometries.
     */
    MD2Parser.prototype.parseFrames = function () {
        var sx, sy, sz;
        var tx, ty, tz;
        var geometry;
        var subGeom;
        var vertLen = this._vertIndices.length;
        var fvertices;
        var tvertices;
        var i /*uint*/, j /*int*/, k /*uint*/;
        //var ch : number /*uint*/;
        var name = "";
        var prevClip = null;
        this._byteData.position = this._offsetFrames;
        for (i = 0; i < this._numFrames; i++) {
            tvertices = new Array();
            fvertices = new Array(vertLen * 3);
            sx = this._byteData.readFloat();
            sy = this._byteData.readFloat();
            sz = this._byteData.readFloat();
            tx = this._byteData.readFloat();
            ty = this._byteData.readFloat();
            tz = this._byteData.readFloat();
            name = this.readFrameName();
            for (j = 0; j < this._numVertices; j++, this._byteData.position++)
                tvertices.push(sx * this._byteData.readUnsignedByte() + tx, sy * this._byteData.readUnsignedByte() + ty, sz * this._byteData.readUnsignedByte() + tz);
            k = 0;
            for (j = 0; j < vertLen; j++) {
                fvertices[k++] = tvertices[this._vertIndices[j] * 3];
                fvertices[k++] = tvertices[this._vertIndices[j] * 3 + 2];
                fvertices[k++] = tvertices[this._vertIndices[j] * 3 + 1];
            }
            subGeom = new TriangleSubGeometry(true);
            if (this._firstSubGeom == null)
                this._firstSubGeom = subGeom;
            geometry = new Geometry();
            geometry.addSubGeometry(subGeom);
            subGeom.updateIndices(this._indices);
            subGeom.updatePositions(fvertices);
            subGeom.updateUVs(this._finalUV);
            subGeom.vertexNormals;
            subGeom.vertexTangents;
            subGeom.autoDeriveNormals = false;
            subGeom.autoDeriveTangents = false;
            var clip = this._clipNodes[name];
            if (!clip) {
                // If another sequence was parsed before this one, starting
                // a new state means the previous one is complete and can
                // hence be finalized.
                if (prevClip) {
                    this._pFinalizeAsset(prevClip);
                    this._animationSet.addAnimation(prevClip);
                }
                clip = new VertexClipNode();
                clip.name = name;
                clip.stitchFinalFrame = true;
                this._clipNodes[name] = clip;
                prevClip = clip;
            }
            clip.addFrame(geometry, 1000 / MD2Parser.FPS);
        }
        // Finalize the last state
        if (prevClip) {
            this._pFinalizeAsset(prevClip);
            this._animationSet.addAnimation(prevClip);
        }
        // Force this._pFinalizeAsset() to decide name
        this._pFinalizeAsset(this._animationSet);
        this._parsedFrames = true;
    };
    MD2Parser.prototype.readFrameName = function () {
        var name = "";
        var k = 0;
        for (var j = 0; j < 16; j++) {
            var ch = this._byteData.readUnsignedByte();
            if (Math.floor(ch) > 0x39 && Math.floor(ch) <= 0x7A && k == 0)
                name += String.fromCharCode(ch);
            if (Math.floor(ch) >= 0x30 && Math.floor(ch) <= 0x39)
                k++;
        }
        return name;
    };
    MD2Parser.FPS = 6;
    return MD2Parser;
})(ParserBase);
module.exports = MD2Parser;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF3YXlqcy1wYXJzZXJzL2xpYi9NRDJQYXJzZXIudHMiXSwibmFtZXMiOlsiTUQyUGFyc2VyIiwiTUQyUGFyc2VyLmNvbnN0cnVjdG9yIiwiTUQyUGFyc2VyLnN1cHBvcnRzVHlwZSIsIk1EMlBhcnNlci5zdXBwb3J0c0RhdGEiLCJNRDJQYXJzZXIuX2lSZXNvbHZlRGVwZW5kZW5jeSIsIk1EMlBhcnNlci5faVJlc29sdmVEZXBlbmRlbmN5RmFpbHVyZSIsIk1EMlBhcnNlci5fcFByb2NlZWRQYXJzaW5nIiwiTUQyUGFyc2VyLl9wU3RhcnRQYXJzaW5nIiwiTUQyUGFyc2VyLnBhcnNlSGVhZGVyIiwiTUQyUGFyc2VyLnBhcnNlTWF0ZXJpYWxOYW1lcyIsIk1EMlBhcnNlci5wYXJzZVVWIiwiTUQyUGFyc2VyLnBhcnNlRmFjZXMiLCJNRDJQYXJzZXIuYWRkSW5kZXgiLCJNRDJQYXJzZXIuZmluZEluZGV4IiwiTUQyUGFyc2VyLnBhcnNlRnJhbWVzIiwiTUQyUGFyc2VyLnJlYWRGcmFtZU5hbWUiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBLElBQU8sUUFBUSxXQUFpQiwrQkFBK0IsQ0FBQyxDQUFDO0FBQ2pFLElBQU8sbUJBQW1CLFdBQWMsMENBQTBDLENBQUMsQ0FBQztBQUVwRixJQUFPLG1CQUFtQixXQUFjLHlDQUF5QyxDQUFDLENBQUM7QUFDbkYsSUFBTyxVQUFVLFdBQWdCLGdDQUFnQyxDQUFDLENBQUM7QUFDbkUsSUFBTyxVQUFVLFdBQWdCLG9DQUFvQyxDQUFDLENBQUM7QUFDdkUsSUFBTyxXQUFXLFdBQWdCLHFDQUFxQyxDQUFDLENBQUM7QUFLekUsSUFBTyxzQkFBc0IsV0FBYSxzREFBc0QsQ0FBQyxDQUFDO0FBR2xHLElBQU8sSUFBSSxXQUFrQixrQ0FBa0MsQ0FBQyxDQUFDO0FBQ2pFLElBQU8sc0JBQXNCLFdBQWEsb0RBQW9ELENBQUMsQ0FBQztBQUVoRyxJQUFPLGNBQWMsV0FBZSxzREFBc0QsQ0FBQyxDQUFDO0FBQzVGLElBQU8sa0JBQWtC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QUFDQSxPQUFPQSxFQUFFQSxDQUFDQTtRQUN6Q0EsSUFBSUEsQ0FBQ0EsVUFBVUEsR0FBR0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7UUFDM0NBLElBQUlBLENBQUNBLFdBQVdBLEdBQUdBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLE9BQU9BLEVBQUVBLENBQUNBO1FBQzVDQSxBQUNBQSxzQkFEc0JBO1FBQ3RCQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxPQUFPQSxFQUFFQSxDQUFDQTtRQUN6QkEsSUFBSUEsQ0FBQ0EsU0FBU0EsR0FBR0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7UUFDMUNBLElBQUlBLENBQUNBLFlBQVlBLEdBQUdBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLE9BQU9BLEVBQUVBLENBQUNBO1FBQzdDQSxJQUFJQSxDQUFDQSxNQUFNQSxHQUFHQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxPQUFPQSxFQUFFQSxDQUFDQTtRQUN2Q0EsSUFBSUEsQ0FBQ0EsUUFBUUEsR0FBR0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7UUFDekNBLEFBQ0FBLHNCQURzQkE7UUFDdEJBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLE9BQU9BLEVBQUVBLENBQUNBO1FBQ3pCQSxJQUFJQSxDQUFDQSxVQUFVQSxHQUFHQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxPQUFPQSxFQUFFQSxDQUFDQTtRQUMzQ0EsSUFBSUEsQ0FBQ0EsWUFBWUEsR0FBR0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7UUFDN0NBLElBQUlBLENBQUNBLFNBQVNBLEdBQUdBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLE9BQU9BLEVBQUVBLENBQUNBO1FBQzFDQSxJQUFJQSxDQUFDQSxXQUFXQSxHQUFHQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxPQUFPQSxFQUFFQSxDQUFDQTtRQUM1Q0Es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TUFBTUEsR0FBR0EsQ0FBQ0EsQ0FBQ0E7WUFDbENBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLFFBQVFBLENBQUNBLElBQUlBLEdBQUdBLElBQUlBLENBQUNBLGNBQWNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1FBQUNBLElBQUlBO1lBQ3ZEQSxJQUFJQSxDQUFDQSxhQUFhQSxHQUFHQSxJQUFJQSxDQUFDQTtJQUM1QkEsQ0FBQ0E7SUFFRFQ7O09BRUdBO0lBQ0tBLDJCQUFPQSxHQUFmQTtRQUVDVSxJQUFJQSxDQUFDQSxHQUFtQkEsQ0FBQ0EsQ0FBQ0E7UUFFMUJBLElBQUlBLENBQUNBLElBQUlBLEdBQUdBLElBQUlBLEtBQUtBLENBQVNBLElBQUlBLENBQUNBLE1BQU1BLEdBQUNBLENBQUNBLENBQUNBLENBQUNBO1FBQzdDQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxRQUFRQSxHQUFHQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQTtRQUN6Q0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBbUJBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLEVBQUVBLENBQUNBO1lBQ3REQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxTQUFTQSxFQUFFQSxHQUFDQSxJQUFJQSxDQUFDQSxVQUFVQSxDQUFDQTtZQUM1REEsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsU0FBU0EsRUFBRUEsR0FBQ0EsSUFBSUEsQ0FBQ0EsV0FBV0EsQ0FBQ0E7UUFDOURBLENBQUNBO1FBRURBLElBQUlBLENBQUNBLFNBQVNBLEdBQUdBLElBQUlBLENBQUNBO0lBQ3ZCQSxDQUFDQTtJQUVEVjs7T0FFR0E7SUFDS0EsOEJBQVVBLEdBQWxCQTtRQUVDVyxJQUFJQSxDQUFDQSxDQUFRQSxRQUFEQSxBQUFTQSxFQUFFQSxDQUFDQSxDQUFRQSxRQUFEQSxBQUFTQSxFQUFFQSxDQUFDQSxDQUFRQSxRQUFEQSxBQUFTQSxFQUFFQSxFQUFFQSxDQUFRQSxRQUFEQSxBQUFTQSxFQUFFQSxFQUFFQSxDQUFRQSxRQUFEQSxBQUFTQSxFQUFFQSxFQUFFQSxDQUFRQSxRQUFEQSxBQUFTQSxDQUFDQTtRQUN4SEEsSUFBSUEsQ0FBQ0EsQ0FBUUEsUUFBREEsQUFBU0EsQ0FBQ0E7UUFFdEJBLElBQUlBLENBQUNBLFlBQVlBLEdBQUdBLElBQUlBLEtBQUtBLEVBQVVBLENBQUNBO1FBQ3hDQSxJQUFJQSxDQUFDQSxVQUFVQSxHQUFHQSxJQUFJQSxLQUFLQSxFQUFVQSxDQUFDQTtRQUN0Q0EsSUFBSUEsQ0FBQ0EsUUFBUUEsR0FBR0EsSUFBSUEsS0FBS0EsRUFBVUEsQ0FBVUE7UUFFN0NBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLFFBQVFBLEdBQUdBLElBQUlBLENBQUNBLFdBQVdBLENBQUNBO1FBRTNDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxRQUFRQSxFQUFFQSxDQUFDQSxFQUFFQSxFQUFFQSxDQUFDQTtZQUNwQ0EsQUFDQUEsd0JBRHdCQTtZQUN4QkEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsaUJBQWlCQSxFQUFFQSxDQUFDQTtZQUN2Q0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsaUJBQWlCQSxFQUFFQSxDQUFDQTtZQUN2Q0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsaUJBQWlCQSxFQUFFQSxDQUFDQTtZQUV2Q0EsQUFDQUEsb0JBRG9CQTtZQUNwQkEsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsaUJBQWlCQSxFQUFFQSxDQUFDQTtZQUN4Q0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsaUJBQWlCQSxFQUFFQSxDQUFDQTtZQUN4Q0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsaUJBQWlCQSxFQUFFQSxDQUFDQTtZQUV4Q0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsRUFBRUEsQ0FBQ0EsQ0FBQ0E7WUFDckJBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBLEVBQUVBLEVBQUVBLENBQUNBLENBQUNBO1lBQ3JCQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQSxFQUFFQSxFQUFFQSxDQUFDQSxDQUFDQTtRQUN0QkEsQ0FBQ0E7UUFFREEsSUFBSUEsR0FBR0EsR0FBbUJBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLE1BQU1BLENBQUNBO1FBQ2pEQSxJQUFJQSxDQUFDQSxRQUFRQSxHQUFHQSxJQUFJQSxLQUFLQSxDQUFTQSxHQUFHQSxHQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUV6Q0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsR0FBR0EsRUFBRUEsRUFBRUEsQ0FBQ0EsRUFBRUEsQ0FBQ0E7WUFDMUJBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLENBQUNBO1lBQzNEQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUN4RUEsQ0FBQ0E7UUFFREEsSUFBSUEsQ0FBQ0EsWUFBWUEsR0FBR0EsSUFBSUEsQ0FB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QVNBLE9BQU9BLEdBQUNBLENBQUNBLENBQUNBLENBQUNBO1lBRXpDQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxTQUFTQSxFQUFFQSxDQUFDQTtZQUNoQ0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsU0FBU0EsRUFBRUEsQ0FBQ0E7WUFDaENBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLFNBQVNBLEVBQUVBLENBQUNBO1lBRWhDQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxTQUFTQSxFQUFFQSxDQUFDQTtZQUNoQ0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsU0FBU0EsRUFBRUEsQ0FBQ0E7WUFDaENBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLFNBQVNBLEVBQUVBLENBQUNBO1lBRWhDQSxJQUFJQSxHQUFHQSxJQUFJQSxDQUFDQSxhQUFhQSxFQUFFQSxDQUFDQTtZQUk1QkEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsWUFBWUEsRUFBRUEsQ0FBQ0EsRUFBRUEsRUFBRUEsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsUUFBUUEsRUFBRUE7Z0JBQ2hFQSxTQUFTQSxDQUFDQSxJQUFJQSxDQUFDQSxFQUFFQSxHQUFDQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxnQkFBZ0JBLEVBQUVBLEdBQUdBLEVBQUVBLEVBQUVBLEVBQUVBLEdBQUNBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLGdCQUFnQkEsRUFBRUEsR0FBR0EsRUFBRUEsRUFBRUEsRUFBRUEsR0FBQ0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsZ0JBQWdCQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQSxDQUFDQTtZQUVqSkEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7WUFDTkEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FB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Q0RBLE1BQU1BLENBQUNBLElBQUlBLENBQUNBO0lBQ2JBLENBQUNBO0lBN2RhZixhQUFHQSxHQUFrQkEsQ0FBQ0EsQ0FBQ0E7SUE4ZHRDQSxnQkFBQ0E7QUFBREEsQ0FoZUEsQUFnZUNBLEVBaGV1QixVQUFVLEVBZ2VqQztBQUVELEFBQW1CLGlCQUFWLFNBQVMsQ0FBQyIsImZpbGUiOiJNRDJQYXJzZXIuanMiLCJzb3VyY2VSb290IjoiLi4vIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJpdG1hcERhdGFcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZGF0YS9CaXRtYXBEYXRhXCIpO1xyXG5pbXBvcnQgR2VvbWV0cnlcdFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9kYXRhL0dlb21ldHJ5XCIpO1xyXG5pbXBvcnQgVHJpYW5nbGVTdWJHZW9tZXRyeVx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2RhdGEvVHJpYW5nbGVTdWJHZW9tZXRyeVwiKTtcclxuaW1wb3J0IFZlY3RvcjNEXHRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZ2VvbS9WZWN0b3IzRFwiKTtcclxuaW1wb3J0IFVSTExvYWRlckRhdGFGb3JtYXRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9uZXQvVVJMTG9hZGVyRGF0YUZvcm1hdFwiKTtcclxuaW1wb3J0IFVSTFJlcXVlc3RcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvbmV0L1VSTFJlcXVlc3RcIik7XHJcbmltcG9ydCBQYXJzZXJCYXNlXHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL3BhcnNlcnMvUGFyc2VyQmFzZVwiKTtcclxuaW1wb3J0IFBhcnNlclV0aWxzXHRcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL3BhcnNlcnMvUGFyc2VyVXRpbHNcIik7XHJcbmltcG9ydCBSZXNvdXJjZURlcGVuZGVuY3lcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9wYXJzZXJzL1Jlc291cmNlRGVwZW5kZW5jeVwiKTtcclxuaW1wb3J0IFRleHR1cmUyREJhc2VcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL3RleHR1cmVzL1RleHR1cmUyREJhc2VcIik7XHJcbmltcG9ydCBCeXRlQXJyYXlcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvdXRpbHMvQnl0ZUFycmF5XCIpO1xyXG5cclxuaW1wb3J0IERpc3BsYXlPYmplY3RDb250YWluZXJcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvY29udGFpbmVycy9EaXNwbGF5T2JqZWN0Q29udGFpbmVyXCIpO1xyXG5pbXBvcnQgRGlzcGxheU9iamVjdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvYmFzZS9EaXNwbGF5T2JqZWN0XCIpO1xyXG5pbXBvcnQgQ2FtZXJhXHRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvZW50aXRpZXMvQ2FtZXJhXCIpO1xyXG5pbXBvcnQgTWVzaFx0XHRcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvZW50aXRpZXMvTWVzaFwiKTtcclxuaW1wb3J0IERlZmF1bHRNYXRlcmlhbE1hbmFnZXJcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvbWFuYWdlcnMvRGVmYXVsdE1hdGVyaWFsTWFuYWdlclwiKTtcclxuXHJcbmltcG9ydCBWZXJ0ZXhDbGlwTm9kZVx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvYW5pbWF0b3JzL25vZGVzL1ZlcnRleENsaXBOb2RlXCIpO1xyXG5pbXBvcnQgVmVydGV4QW5pbWF0aW9uU2V0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtcmVuZGVyZXJnbC9saWIvYW5pbWF0b3JzL1ZlcnRleEFuaW1hdGlvblNldFwiKTtcclxuXHJcbmltcG9ydCBNZXRob2RNYXRlcmlhbFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtbWV0aG9kbWF0ZXJpYWxzL2xpYi9NZXRob2RNYXRlcmlhbFwiKTtcclxuaW1wb3J0IE1ldGhvZE1hdGVyaWFsTW9kZVx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLW1ldGhvZG1hdGVyaWFscy9saWIvTWV0aG9kTWF0ZXJpYWxNb2RlXCIpO1xyXG5cclxuLyoqXHJcbiAqIE1EMlBhcnNlciBwcm92aWRlcyBhIHBhcnNlciBmb3IgdGhlIE1EMiBkYXRhIHR5cGUuXHJcbiAqL1xyXG5jbGFzcyBNRDJQYXJzZXIgZXh0ZW5kcyBQYXJzZXJCYXNlXHJcbntcclxuXHRwdWJsaWMgc3RhdGljIEZQUzpudW1iZXIgLyppbnQqLyA9IDY7XHJcblxyXG5cdHByaXZhdGUgX2NsaXBOb2RlczpPYmplY3QgPSBuZXcgT2JqZWN0KCk7XHJcblx0cHJpdmF0ZSBfYnl0ZURhdGE6Qnl0ZUFycmF5O1xyXG5cdHByaXZhdGUgX3N0YXJ0ZWRQYXJzaW5nOmJvb2xlYW47XHJcblx0cHJpdmF0ZSBfcGFyc2VkSGVhZGVyOmJvb2xlYW47XHJcblx0cHJpdmF0ZSBfcGFyc2VkVVY6Ym9vbGVhbjtcclxuXHRwcml2YXRlIF9wYXJzZWRGYWNlczpib29sZWFuO1xyXG5cdHByaXZhdGUgX3BhcnNlZEZyYW1lczpib29sZWFuO1xyXG5cclxuXHRwcml2YXRlIF9pZGVudDpudW1iZXIgLyp1aW50Ki87XHJcblx0cHJpdmF0ZSBfdmVyc2lvbjpudW1iZXIgLyp1aW50Ki87XHJcblx0cHJpdmF0ZSBfc2tpbldpZHRoOm51bWJlciAvKnVpbnQqLztcclxuXHRwcml2YXRlIF9za2luSGVpZ2h0Om51bWJlciAvKnVpbnQqLztcclxuXHQvL3ByaXZhdGUgX2ZyYW1lU2l6ZSA6IG51bWJlciAvKnVpbnQqLztcclxuXHRwcml2YXRlIF9udW1Ta2luczpudW1iZXIgLyp1aW50Ki87XHJcblx0cHJpdmF0ZSBfbnVtVmVydGljZXM6bnVtYmVyIC8qdWludCovO1xyXG5cdHByaXZhdGUgX251bVNUOm51bWJlciAvKnVpbnQqLztcclxuXHRwcml2YXRlIF9udW1UcmlzOm51bWJlciAvKnVpbnQqLztcclxuXHQvL3ByaXZhdGUgX251bUdsQ21kcyA6IG51bWJlciAvKnVpbnQqLztcclxuXHRwcml2YXRlIF9udW1GcmFtZXM6bnVtYmVyIC8qdWludCovO1xyXG5cdHByaXZhdGUgX29mZnNldFNraW5zOm51bWJlciAvKnVpbnQqLztcclxuXHRwcml2YXRlIF9vZmZzZXRTVDpudW1iZXIgLyp1aW50Ki87XHJcblx0cHJpdmF0ZSBfb2Zmc2V0VHJpczpudW1iZXIgLyp1aW50Ki87XHJcblx0cHJpdmF0ZSBfb2Zmc2V0RnJhbWVzOm51bWJlciAvKnVpbnQqLztcclxuXHQvL3ByaXZhdGUgX29mZnNldEdsQ21kcyA6IG51bWJlciAvKnVpbnQqLztcclxuXHRwcml2YXRlIF9vZmZzZXRFbmQ6bnVtYmVyIC8qdWludCovO1xyXG5cclxuXHRwcml2YXRlIF91dkluZGljZXM6QXJyYXk8bnVtYmVyPjtcclxuXHRwcml2YXRlIF9pbmRpY2VzOkFycmF5PG51bWJlcj4gLyp1aW50Ki87XHJcblx0cHJpdmF0ZSBfdmVydEluZGljZXM6QXJyYXk8bnVtYmVyPjtcclxuXHJcblx0Ly8gdGhlIGN1cnJlbnQgc3ViZ2VvbSBiZWluZyBidWlsdFxyXG5cdHByaXZhdGUgX2FuaW1hdGlvblNldDpWZXJ0ZXhBbmltYXRpb25TZXQgPSBuZXcgVmVydGV4QW5pbWF0aW9uU2V0KCk7XHJcblx0cHJpdmF0ZSBfZmlyc3RTdWJHZW9tOlRyaWFuZ2xlU3ViR2VvbWV0cnk7XHJcblx0cHJpdmF0ZSBfdXZzOkFycmF5PG51bWJlcj47XHJcblx0cHJpdmF0ZSBfZmluYWxVVjpBcnJheTxudW1iZXI+O1xyXG5cclxuXHRwcml2YXRlIF9tYXRlcmlhbE5hbWVzOkFycmF5PHN0cmluZz47XHJcblx0cHJpdmF0ZSBfdGV4dHVyZVR5cGU6c3RyaW5nO1xyXG5cdHByaXZhdGUgX2lnbm9yZVRleHR1cmVQYXRoOmJvb2xlYW47XHJcblx0cHJpdmF0ZSBfbWVzaDpNZXNoO1xyXG5cdHByaXZhdGUgX2dlb21ldHJ5Okdlb21ldHJ5O1xyXG5cclxuXHRwcml2YXRlIG1hdGVyaWFsRmluYWw6Ym9vbGVhbiA9IGZhbHNlO1xyXG5cdHByaXZhdGUgZ2VvQ3JlYXRlZDpib29sZWFuID0gZmFsc2U7XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZXMgYSBuZXcgTUQyUGFyc2VyIG9iamVjdC5cclxuXHQgKiBAcGFyYW0gdGV4dHVyZVR5cGUgVGhlIGV4dGVuc2lvbiBvZiB0aGUgdGV4dHVyZSAoZS5nLiBqcGcvcG5nLy4uLilcclxuXHQgKiBAcGFyYW0gaWdub3JlVGV4dHVyZVBhdGggSWYgdHJ1ZSwgdGhlIHBhdGggb2YgdGhlIHRleHR1cmUgaXMgaWdub3JlZFxyXG5cdCAqL1xyXG5cdGNvbnN0cnVjdG9yKHRleHR1cmVUeXBlOnN0cmluZyA9IFwianBnXCIsIGlnbm9yZVRleHR1cmVQYXRoOmJvb2xlYW4gPSB0cnVlKVxyXG5cdHtcclxuXHRcdHN1cGVyKFVSTExvYWRlckRhdGFGb3JtYXQuQVJSQVlfQlVGRkVSKTtcclxuXHRcdHRoaXMuX3RleHR1cmVUeXBlID0gdGV4dHVyZVR5cGU7XHJcblx0XHR0aGlzLl9pZ25vcmVUZXh0dXJlUGF0aCA9IGlnbm9yZVRleHR1cmVQYXRoO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IGEgZ2l2ZW4gZmlsZSBleHRlbnNpb24gaXMgc3VwcG9ydGVkIGJ5IHRoZSBwYXJzZXIuXHJcblx0ICogQHBhcmFtIGV4dGVuc2lvbiBUaGUgZmlsZSBleHRlbnNpb24gb2YgYSBwb3RlbnRpYWwgZmlsZSB0byBiZSBwYXJzZWQuXHJcblx0ICogQHJldHVybiBXaGV0aGVyIG9yIG5vdCB0aGUgZ2l2ZW4gZmlsZSB0eXBlIGlzIHN1cHBvcnRlZC5cclxuXHQgKi9cclxuXHRwdWJsaWMgc3RhdGljIHN1cHBvcnRzVHlwZShleHRlbnNpb246c3RyaW5nKTpib29sZWFuXHJcblx0e1xyXG5cdFx0ZXh0ZW5zaW9uID0gZXh0ZW5zaW9uLnRvTG93ZXJDYXNlKCk7XHJcblx0XHRyZXR1cm4gZXh0ZW5zaW9uID09IFwibWQyXCI7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBUZXN0cyB3aGV0aGVyIGEgZGF0YSBibG9jayBjYW4gYmUgcGFyc2VkIGJ5IHRoZSBwYXJzZXIuXHJcblx0ICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgYmxvY2sgdG8gcG90ZW50aWFsbHkgYmUgcGFyc2VkLlxyXG5cdCAqIEByZXR1cm4gV2hldGhlciBvciBub3QgdGhlIGdpdmVuIGRhdGEgaXMgc3VwcG9ydGVkLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBzdGF0aWMgc3VwcG9ydHNEYXRhKGRhdGE6YW55KTpib29sZWFuXHJcblx0e1xyXG5cdFx0cmV0dXJuIChQYXJzZXJVdGlscy50b1N0cmluZyhkYXRhLCA0KSA9PSAnSURQMicpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQGluaGVyaXREb2NcclxuXHQgKi9cclxuXHRwdWJsaWMgX2lSZXNvbHZlRGVwZW5kZW5jeShyZXNvdXJjZURlcGVuZGVuY3k6UmVzb3VyY2VEZXBlbmRlbmN5KVxyXG5cdHtcclxuXHRcdGlmIChyZXNvdXJjZURlcGVuZGVuY3kuYXNzZXRzLmxlbmd0aCAhPSAxKVxyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0dmFyIGFzc2V0OlRleHR1cmUyREJhc2UgPSA8VGV4dHVyZTJEQmFzZT4gcmVzb3VyY2VEZXBlbmRlbmN5LmFzc2V0c1swXTtcclxuXHJcblx0XHRpZiAoYXNzZXQpIHtcclxuXHRcdFx0dmFyIG1hdGVyaWFsOk1ldGhvZE1hdGVyaWFsID0gbmV3IE1ldGhvZE1hdGVyaWFsKGFzc2V0KTtcclxuXHJcblx0XHRcdGlmICh0aGlzLm1hdGVyaWFsTW9kZSA+PSAyKVxyXG5cdFx0XHRcdG1hdGVyaWFsLm1vZGUgPSBNZXRob2RNYXRlcmlhbE1vZGUuTVVMVElfUEFTUztcclxuXHJcblx0XHRcdC8vYWRkIHRvIHRoZSBjb250ZW50IHByb3BlcnR5XHJcblx0XHRcdCg8RGlzcGxheU9iamVjdENvbnRhaW5lcj4gdGhpcy5fcENvbnRlbnQpLmFkZENoaWxkKHRoaXMuX21lc2gpO1xyXG5cclxuXHRcdFx0bWF0ZXJpYWwubmFtZSA9IHRoaXMuX21lc2gubWF0ZXJpYWwubmFtZTtcclxuXHRcdFx0dGhpcy5fbWVzaC5tYXRlcmlhbCA9IG1hdGVyaWFsO1xyXG5cdFx0XHR0aGlzLl9wRmluYWxpemVBc3NldChtYXRlcmlhbCk7XHJcblx0XHRcdHRoaXMuX3BGaW5hbGl6ZUFzc2V0KHRoaXMuX21lc2guZ2VvbWV0cnkpO1xyXG5cdFx0XHR0aGlzLl9wRmluYWxpemVBc3NldCh0aGlzLl9tZXNoKTtcclxuXHRcdH1cclxuXHRcdHRoaXMubWF0ZXJpYWxGaW5hbCA9IHRydWU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBAaW5oZXJpdERvY1xyXG5cdCAqL1xyXG5cdHB1YmxpYyBfaVJlc29sdmVEZXBlbmRlbmN5RmFpbHVyZShyZXNvdXJjZURlcGVuZGVuY3k6UmVzb3VyY2VEZXBlbmRlbmN5KVxyXG5cdHtcclxuXHRcdC8vIGFwcGx5IHN5c3RlbSBkZWZhdWx0XHJcblx0XHRpZiAodGhpcy5tYXRlcmlhbE1vZGUgPCAyKSB7XHJcblx0XHRcdHRoaXMuX21lc2gubWF0ZXJpYWwgPSBEZWZhdWx0TWF0ZXJpYWxNYW5hZ2VyLmdldERlZmF1bHRNYXRlcmlhbCgpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5fbWVzaC5tYXRlcmlhbCA9IG5ldyBNZXRob2RNYXRlcmlhbChEZWZhdWx0TWF0ZXJpYWxNYW5hZ2VyLmdldERlZmF1bHRUZXh0dXJlKCkpO1xyXG5cdFx0XHQoPE1ldGhvZE1hdGVyaWFsPiB0aGlzLl9tZXNoLm1hdGVyaWFsKS5tb2RlID0gTWV0aG9kTWF0ZXJpYWxNb2RlLk1VTFRJX1BBU1M7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly9hZGQgdG8gdGhlIGNvbnRlbnQgcHJvcGVydHlcclxuXHRcdCg8RGlzcGxheU9iamVjdENvbnRhaW5lcj4gdGhpcy5fcENvbnRlbnQpLmFkZENoaWxkKHRoaXMuX21lc2gpO1xyXG5cclxuXHRcdHRoaXMuX3BGaW5hbGl6ZUFzc2V0KHRoaXMuX21lc2guZ2VvbWV0cnkpO1xyXG5cdFx0dGhpcy5fcEZpbmFsaXplQXNzZXQodGhpcy5fbWVzaCk7XHJcblx0XHR0aGlzLm1hdGVyaWFsRmluYWwgPSB0cnVlO1xyXG5cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBpbmhlcml0RG9jXHJcblx0ICovXHJcblx0cHVibGljIF9wUHJvY2VlZFBhcnNpbmcoKTpib29sZWFuXHJcblx0e1xyXG5cdFx0aWYgKCF0aGlzLl9zdGFydGVkUGFyc2luZykge1xyXG5cdFx0XHR0aGlzLl9ieXRlRGF0YSA9IHRoaXMuX3BHZXRCeXRlRGF0YSgpO1xyXG5cdFx0XHR0aGlzLl9zdGFydGVkUGFyc2luZyA9IHRydWU7XHJcblxyXG5cdFx0XHQvLyBSZXNldCBieXRlYXJyYXkgcmVhZCBwb3NpdGlvbiAod2hpY2ggbWF5IGhhdmUgYmVlblxyXG5cdFx0XHQvLyBtb3ZlZCBmb3J3YXJkIGJ5IHRoZSBzdXBwb3J0c0RhdGEoKSBmdW5jdGlvbi4pXHJcblx0XHRcdHRoaXMuX2J5dGVEYXRhLnBvc2l0aW9uID0gMDtcclxuXHRcdH1cclxuXHJcblx0XHR3aGlsZSAodGhpcy5fcEhhc1RpbWUoKSkge1xyXG5cdFx0XHRpZiAoIXRoaXMuX3BhcnNlZEhlYWRlcikge1xyXG5cdFx0XHRcdC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdFx0XHRcdC8vIExJVFRMRV9FTkRJQU4gLSBEZWZhdWx0IGZvciBBcnJheUJ1ZmZlciAvIE5vdCBpbXBsZW1lbnRlZCBpbiBCeXRlQXJyYXlcclxuXHRcdFx0XHQvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHRcdFx0XHQvL3RoaXMuX2J5dGVEYXRhLmVuZGlhbiA9IEVuZGlhbi5MSVRUTEVfRU5ESUFOO1xyXG5cclxuXHRcdFx0XHQvLyBUT0RPOiBDcmVhdGUgYSBtZXNoIG9ubHkgd2hlbiBlbmNvdW50ZXJlZCAoaWYgaXQgbWFrZXMgc2Vuc2VcclxuXHRcdFx0XHQvLyBmb3IgdGhpcyBmaWxlIGZvcm1hdCkgYW5kIHJldHVybiBpdCB1c2luZyB0aGlzLl9wRmluYWxpemVBc3NldCgpXHJcblx0XHRcdFx0dGhpcy5fZ2VvbWV0cnkgPSBuZXcgR2VvbWV0cnkoKTtcclxuXHRcdFx0XHR0aGlzLl9tZXNoID0gbmV3IE1lc2godGhpcy5fZ2VvbWV0cnksIG51bGwpO1xyXG5cdFx0XHRcdGlmICh0aGlzLm1hdGVyaWFsTW9kZSA8IDIpIHtcclxuXHRcdFx0XHRcdHRoaXMuX21lc2gubWF0ZXJpYWwgPSBEZWZhdWx0TWF0ZXJpYWxNYW5hZ2VyLmdldERlZmF1bHRNYXRlcmlhbCgpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR0aGlzLl9tZXNoLm1hdGVyaWFsID0gbmV3IE1ldGhvZE1hdGVyaWFsKERlZmF1bHRNYXRlcmlhbE1hbmFnZXIuZ2V0RGVmYXVsdFRleHR1cmUoKSk7XHJcblx0XHRcdFx0XHQoPE1ldGhvZE1hdGVyaWFsPiB0aGlzLl9tZXNoLm1hdGVyaWFsKS5tb2RlID0gTWV0aG9kTWF0ZXJpYWxNb2RlLk1VTFRJX1BBU1M7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvL19nZW9tZXRyeS5hbmltYXRpb24gPSBuZXcgVmVydGV4QW5pbWF0aW9uKDIsIFZlcnRleEFuaW1hdGlvbk1vZGUuQUJTT0xVVEUpO1xyXG5cdFx0XHRcdC8vX2FuaW1hdG9yID0gbmV3IFZlcnRleEFuaW1hdG9yKFZlcnRleEFuaW1hdGlvblN0YXRlKF9tZXNoLmFuaW1hdGlvblN0YXRlKSk7XHJcblxyXG5cdFx0XHRcdC8vIFBhcnNlIGhlYWRlciBhbmQgZGVjb21wcmVzcyBib2R5XHJcblx0XHRcdFx0dGhpcy5wYXJzZUhlYWRlcigpO1xyXG5cdFx0XHRcdHRoaXMucGFyc2VNYXRlcmlhbE5hbWVzKCk7XHJcblx0XHRcdH0gZWxzZSBpZiAoIXRoaXMuX3BhcnNlZFVWKSB7XHJcblx0XHRcdFx0dGhpcy5wYXJzZVVWKCk7XHJcblx0XHRcdH0gZWxzZSBpZiAoIXRoaXMuX3BhcnNlZEZhY2VzKSB7XHJcblx0XHRcdFx0dGhpcy5wYXJzZUZhY2VzKCk7XHJcblx0XHRcdH0gZWxzZSBpZiAoIXRoaXMuX3BhcnNlZEZyYW1lcykge1xyXG5cdFx0XHRcdHRoaXMucGFyc2VGcmFtZXMoKTtcclxuXHRcdFx0fSBlbHNlIGlmICgodGhpcy5nZW9DcmVhdGVkKSAmJiAodGhpcy5tYXRlcmlhbEZpbmFsKSkge1xyXG5cdFx0XHRcdHJldHVybiBQYXJzZXJCYXNlLlBBUlNJTkdfRE9ORTtcclxuXHRcdFx0fSBlbHNlIGlmICghdGhpcy5nZW9DcmVhdGVkKSB7XHJcblx0XHRcdFx0dGhpcy5nZW9DcmVhdGVkID0gdHJ1ZTtcclxuXHRcdFx0XHQvL2NyZWF0ZSBkZWZhdWx0IHN1Ymdlb21ldHJ5XHJcblx0XHRcdFx0dGhpcy5fZ2VvbWV0cnkuYWRkU3ViR2VvbWV0cnkodGhpcy5fZmlyc3RTdWJHZW9tLmNsb25lKCkpO1xyXG5cdFx0XHRcdC8vIEZvcmNlIG5hbWUgdG8gYmUgY2hvc2VuIGJ5IHRoaXMuX3BGaW5hbGl6ZUFzc2V0KClcclxuXHRcdFx0XHR0aGlzLl9tZXNoLm5hbWUgPSBcIlwiO1xyXG5cdFx0XHRcdGlmICh0aGlzLm1hdGVyaWFsRmluYWwpIHtcclxuXHRcdFx0XHRcdC8vYWRkIHRvIHRoZSBjb250ZW50IHByb3BlcnR5XHJcblx0XHRcdFx0XHQoPERpc3BsYXlPYmplY3RDb250YWluZXI+IHRoaXMuX3BDb250ZW50KS5hZGRDaGlsZCh0aGlzLl9tZXNoKTtcclxuXHJcblx0XHRcdFx0XHR0aGlzLl9wRmluYWxpemVBc3NldCh0aGlzLl9tZXNoLmdlb21ldHJ5KTtcclxuXHRcdFx0XHRcdHRoaXMuX3BGaW5hbGl6ZUFzc2V0KHRoaXMuX21lc2gpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0dGhpcy5fcFBhdXNlQW5kUmV0cmlldmVEZXBlbmRlbmNpZXMoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBQYXJzZXJCYXNlLk1PUkVfVE9fUEFSU0U7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgX3BTdGFydFBhcnNpbmcoZnJhbWVMaW1pdDpudW1iZXIpXHJcblx0e1xyXG5cdFx0c3VwZXIuX3BTdGFydFBhcnNpbmcoZnJhbWVMaW1pdCk7XHJcblxyXG5cdFx0Ly9jcmVhdGUgYSBjb250ZW50IG9iamVjdCBmb3IgTG9hZGVyc1xyXG5cdFx0dGhpcy5fcENvbnRlbnQgPSBuZXcgRGlzcGxheU9iamVjdENvbnRhaW5lcigpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVhZHMgaW4gYWxsIHRoYXQgTUQyIEhlYWRlciBkYXRhIHRoYXQgaXMgZGVjbGFyZWQgYXMgcHJpdmF0ZSB2YXJpYWJsZXMuXHJcblx0ICogSSBrbm93IGl0cyBhIGxvdCwgYW5kIGl0IGxvb2tzIHVnbHksIGJ1dCBvbmx5IHdheSB0byBkbyBpdCBpbiBGbGFzaFxyXG5cdCAqL1xyXG5cdHByaXZhdGUgcGFyc2VIZWFkZXIoKVxyXG5cdHtcclxuXHRcdHRoaXMuX2lkZW50ID0gdGhpcy5fYnl0ZURhdGEucmVhZEludCgpO1xyXG5cdFx0dGhpcy5fdmVyc2lvbiA9IHRoaXMuX2J5dGVEYXRhLnJlYWRJbnQoKTtcclxuXHRcdHRoaXMuX3NraW5XaWR0aCA9IHRoaXMuX2J5dGVEYXRhLnJlYWRJbnQoKTtcclxuXHRcdHRoaXMuX3NraW5IZWlnaHQgPSB0aGlzLl9ieXRlRGF0YS5yZWFkSW50KCk7XHJcblx0XHQvL3NraXAgdGhpcy5fZnJhbWVTaXplXHJcblx0XHR0aGlzLl9ieXRlRGF0YS5yZWFkSW50KCk7XHJcblx0XHR0aGlzLl9udW1Ta2lucyA9IHRoaXMuX2J5dGVEYXRhLnJlYWRJbnQoKTtcclxuXHRcdHRoaXMuX251bVZlcnRpY2VzID0gdGhpcy5fYnl0ZURhdGEucmVhZEludCgpO1xyXG5cdFx0dGhpcy5fbnVtU1QgPSB0aGlzLl9ieXRlRGF0YS5yZWFkSW50KCk7XHJcblx0XHR0aGlzLl9udW1UcmlzID0gdGhpcy5fYnl0ZURhdGEucmVhZEludCgpO1xyXG5cdFx0Ly9za2lwIHRoaXMuX251bUdsQ21kc1xyXG5cdFx0dGhpcy5fYnl0ZURhdGEucmVhZEludCgpO1xyXG5cdFx0dGhpcy5fbnVtRnJhbWVzID0gdGhpcy5fYnl0ZURhdGEucmVhZEludCgpO1xyXG5cdFx0dGhpcy5fb2Zmc2V0U2tpbnMgPSB0aGlzLl9ieXRlRGF0YS5yZWFkSW50KCk7XHJcblx0XHR0aGlzLl9vZmZzZXRTVCA9IHRoaXMuX2J5dGVEYXRhLnJlYWRJbnQoKTtcclxuXHRcdHRoaXMuX29mZnNldFRyaXMgPSB0aGlzLl9ieXRlRGF0YS5yZWFkSW50KCk7XHJcblx0XHR0aGlzLl9vZmZzZXRGcmFtZXMgPSB0aGlzLl9ieXRlRGF0YS5yZWFkSW50KCk7XHJcblx0XHQvL3NraXAgdGhpcy5fb2Zmc2V0R2xDbWRzXHJcblx0XHR0aGlzLl9ieXRlRGF0YS5yZWFkSW50KCk7XHJcblx0XHR0aGlzLl9vZmZzZXRFbmQgPSB0aGlzLl9ieXRlRGF0YS5yZWFkSW50KCk7XHJcblxyXG5cdFx0dGhpcy5fcGFyc2VkSGVhZGVyID0gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFBhcnNlcyB0aGUgZmlsZSBuYW1lcyBmb3IgdGhlIG1hdGVyaWFscy5cclxuXHQgKi9cclxuXHRwcml2YXRlIHBhcnNlTWF0ZXJpYWxOYW1lcygpXHJcblx0e1xyXG5cdFx0dmFyIHVybDpzdHJpbmc7XHJcblx0XHR2YXIgbmFtZTpzdHJpbmc7XHJcblx0XHR2YXIgZXh0SW5kZXg6bnVtYmVyIC8qaW50Ki87XHJcblx0XHR2YXIgc2xhc2hJbmRleDpudW1iZXIgLyppbnQqLztcclxuXHRcdHRoaXMuX21hdGVyaWFsTmFtZXMgPSBuZXcgQXJyYXk8c3RyaW5nPigpO1xyXG5cdFx0dGhpcy5fYnl0ZURhdGEucG9zaXRpb24gPSB0aGlzLl9vZmZzZXRTa2lucztcclxuXHJcblx0XHR2YXIgcmVnRXhwOlJlZ0V4cCA9IG5ldyBSZWdFeHAoXCJbXmEtekEtWjAtOVxcXFxfXFwvLl1cIiwgXCJnXCIpO1xyXG5cdFx0Zm9yICh2YXIgaTpudW1iZXIgLyp1aW50Ki8gPSAwOyBpIDwgdGhpcy5fbnVtU2tpbnM7ICsraSkge1xyXG5cdFx0XHRuYW1lID0gdGhpcy5fYnl0ZURhdGEucmVhZFVURkJ5dGVzKDY0KTtcclxuXHRcdFx0bmFtZSA9IG5hbWUucmVwbGFjZShyZWdFeHAsIFwiXCIpO1xyXG5cdFx0XHRleHRJbmRleCA9IG5hbWUubGFzdEluZGV4T2YoXCIuXCIpO1xyXG5cdFx0XHRpZiAodGhpcy5faWdub3JlVGV4dHVyZVBhdGgpXHJcblx0XHRcdFx0c2xhc2hJbmRleCA9IG5hbWUubGFzdEluZGV4T2YoXCIvXCIpO1xyXG5cdFx0XHRpZiAobmFtZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCIuanBnXCIpID09IC0xICYmIG5hbWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiLnBuZ1wiKSA9PSAtMSkge1xyXG5cdFx0XHRcdG5hbWUgPSBuYW1lLnN1YnN0cmluZyhzbGFzaEluZGV4ICsgMSwgZXh0SW5kZXgpO1xyXG5cdFx0XHRcdHVybCA9IG5hbWUgKyBcIi5cIiArIHRoaXMuX3RleHR1cmVUeXBlO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHVybCA9IG5hbWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuX21hdGVyaWFsTmFtZXNbaV0gPSBuYW1lO1xyXG5cclxuXHRcdFx0Ly8gb25seSBzdXBwb3J0IDEgc2tpbiBUT0RPOiByZWFsbHk/XHJcblx0XHRcdGlmICh0aGlzLmRlcGVuZGVuY2llcy5sZW5ndGggPT0gMClcclxuXHRcdFx0XHR0aGlzLl9wQWRkRGVwZW5kZW5jeShuYW1lLCBuZXcgVVJMUmVxdWVzdCh1cmwpKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5fbWF0ZXJpYWxOYW1lcy5sZW5ndGggPiAwKVxyXG5cdFx0XHR0aGlzLl9tZXNoLm1hdGVyaWFsLm5hbWUgPSB0aGlzLl9tYXRlcmlhbE5hbWVzWzBdOyBlbHNlXHJcblx0XHRcdHRoaXMubWF0ZXJpYWxGaW5hbCA9IHRydWU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBQYXJzZXMgdGhlIHV2IGRhdGEgZm9yIHRoZSBtZXNoLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgcGFyc2VVVigpXHJcblx0e1xyXG5cdFx0dmFyIGo6bnVtYmVyIC8qdWludCovID0gMDtcclxuXHJcblx0XHR0aGlzLl91dnMgPSBuZXcgQXJyYXk8bnVtYmVyPih0aGlzLl9udW1TVCoyKTtcclxuXHRcdHRoaXMuX2J5dGVEYXRhLnBvc2l0aW9uID0gdGhpcy5fb2Zmc2V0U1Q7XHJcblx0XHRmb3IgKHZhciBpOm51bWJlciAvKnVpbnQqLyA9IDA7IGkgPCB0aGlzLl9udW1TVDsgaSsrKSB7XHJcblx0XHRcdHRoaXMuX3V2c1tqKytdID0gdGhpcy5fYnl0ZURhdGEucmVhZFNob3J0KCkvdGhpcy5fc2tpbldpZHRoO1xyXG5cdFx0XHR0aGlzLl91dnNbaisrXSA9IHRoaXMuX2J5dGVEYXRhLnJlYWRTaG9ydCgpL3RoaXMuX3NraW5IZWlnaHQ7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fcGFyc2VkVVYgPSB0cnVlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUGFyc2VzIHVuaXF1ZSBpbmRpY2VzIGZvciB0aGUgZmFjZXMuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBwYXJzZUZhY2VzKClcclxuXHR7XHJcblx0XHR2YXIgYTpudW1iZXIgLyp1aW50Ki8sIGI6bnVtYmVyIC8qdWludCovLCBjOm51bWJlciAvKnVpbnQqLywgdGE6bnVtYmVyIC8qdWludCovLCB0YjpudW1iZXIgLyp1aW50Ki8sIHRjOm51bWJlciAvKnVpbnQqLztcclxuXHRcdHZhciBpOm51bWJlciAvKnVpbnQqLztcclxuXHJcblx0XHR0aGlzLl92ZXJ0SW5kaWNlcyA9IG5ldyBBcnJheTxudW1iZXI+KCk7XHJcblx0XHR0aGlzLl91dkluZGljZXMgPSBuZXcgQXJyYXk8bnVtYmVyPigpO1xyXG5cdFx0dGhpcy5faW5kaWNlcyA9IG5ldyBBcnJheTxudW1iZXI+KCkgLyp1aW50Ki87XHJcblxyXG5cdFx0dGhpcy5fYnl0ZURhdGEucG9zaXRpb24gPSB0aGlzLl9vZmZzZXRUcmlzO1xyXG5cclxuXHRcdGZvciAoaSA9IDA7IGkgPCB0aGlzLl9udW1UcmlzOyBpKyspIHtcclxuXHRcdFx0Ly9jb2xsZWN0IHZlcnRleCBpbmRpY2VzXHJcblx0XHRcdGEgPSB0aGlzLl9ieXRlRGF0YS5yZWFkVW5zaWduZWRTaG9ydCgpO1xyXG5cdFx0XHRiID0gdGhpcy5fYnl0ZURhdGEucmVhZFVuc2lnbmVkU2hvcnQoKTtcclxuXHRcdFx0YyA9IHRoaXMuX2J5dGVEYXRhLnJlYWRVbnNpZ25lZFNob3J0KCk7XHJcblxyXG5cdFx0XHQvL2NvbGxlY3QgdXYgaW5kaWNlc1xyXG5cdFx0XHR0YSA9IHRoaXMuX2J5dGVEYXRhLnJlYWRVbnNpZ25lZFNob3J0KCk7XHJcblx0XHRcdHRiID0gdGhpcy5fYnl0ZURhdGEucmVhZFVuc2lnbmVkU2hvcnQoKTtcclxuXHRcdFx0dGMgPSB0aGlzLl9ieXRlRGF0YS5yZWFkVW5zaWduZWRTaG9ydCgpO1xyXG5cclxuXHRcdFx0dGhpcy5hZGRJbmRleChhLCB0YSk7XHJcblx0XHRcdHRoaXMuYWRkSW5kZXgoYiwgdGIpO1xyXG5cdFx0XHR0aGlzLmFkZEluZGV4KGMsIHRjKTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgbGVuOm51bWJlciAvKnVpbnQqLyA9IHRoaXMuX3V2SW5kaWNlcy5sZW5ndGg7XHJcblx0XHR0aGlzLl9maW5hbFVWID0gbmV3IEFycmF5PG51bWJlcj4obGVuKjIpO1xyXG5cclxuXHRcdGZvciAoaSA9IDA7IGkgPCBsZW47ICsraSkge1xyXG5cdFx0XHR0aGlzLl9maW5hbFVWW2kgPDwgMV0gPSB0aGlzLl91dnNbdGhpcy5fdXZJbmRpY2VzW2ldIDw8IDFdO1xyXG5cdFx0XHR0aGlzLl9maW5hbFVWWyhpIDw8IDEpICsgMV0gPSB0aGlzLl91dnNbKHRoaXMuX3V2SW5kaWNlc1tpXSA8PCAxKSArIDFdO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX3BhcnNlZEZhY2VzID0gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZHMgYSBmYWNlIGluZGV4IHRvIHRoZSBsaXN0IGlmIGl0IGRvZXNuJ3QgZXhpc3QgeWV0LCBiYXNlZCBvbiB2ZXJ0ZXhJbmRleCBhbmQgdXZJbmRleCwgYW5kIGFkZHMgdGhlXHJcblx0ICogY29ycmVzcG9uZGluZyB2ZXJ0ZXggYW5kIHV2IGRhdGEgaW4gdGhlIGNvcnJlY3QgbG9jYXRpb24uXHJcblx0ICogQHBhcmFtIHZlcnRleEluZGV4IFRoZSBvcmlnaW5hbCBpbmRleCBpbiB0aGUgdmVydGV4IGxpc3QuXHJcblx0ICogQHBhcmFtIHV2SW5kZXggVGhlIG9yaWdpbmFsIGluZGV4IGluIHRoZSB1diBsaXN0LlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgYWRkSW5kZXgodmVydGV4SW5kZXg6bnVtYmVyIC8qdWludCovLCB1dkluZGV4Om51bWJlciAvKnVpbnQqLylcclxuXHR7XHJcblx0XHR2YXIgaW5kZXg6bnVtYmVyIC8qaW50Ki8gPSB0aGlzLmZpbmRJbmRleCh2ZXJ0ZXhJbmRleCwgdXZJbmRleCk7XHJcblxyXG5cdFx0aWYgKGluZGV4ID09IC0xKSB7XHJcblx0XHRcdHRoaXMuX2luZGljZXMucHVzaCh0aGlzLl92ZXJ0SW5kaWNlcy5sZW5ndGgpO1xyXG5cdFx0XHR0aGlzLl92ZXJ0SW5kaWNlcy5wdXNoKHZlcnRleEluZGV4KTtcclxuXHRcdFx0dGhpcy5fdXZJbmRpY2VzLnB1c2godXZJbmRleCk7XHJcblx0XHR9IGVsc2VcclxuXHRcdFx0dGhpcy5faW5kaWNlcy5wdXNoKGluZGV4KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEZpbmRzIHRoZSBmaW5hbCBpbmRleCBjb3JyZXNwb25kaW5nIHRvIHRoZSBvcmlnaW5hbCBNRDIncyB2ZXJ0ZXggYW5kIHV2IGluZGljZXMuIFJldHVybnMgLTEgaWYgaXQgd2Fzbid0IGFkZGVkIHlldC5cclxuXHQgKiBAcGFyYW0gdmVydGV4SW5kZXggVGhlIG9yaWdpbmFsIGluZGV4IGluIHRoZSB2ZXJ0ZXggbGlzdC5cclxuXHQgKiBAcGFyYW0gdXZJbmRleCBUaGUgb3JpZ2luYWwgaW5kZXggaW4gdGhlIHV2IGxpc3QuXHJcblx0ICogQHJldHVybiBUaGUgaW5kZXggb2YgdGhlIGZpbmFsIG1lc2ggY29ycmVzcG9uZGluZyB0byB0aGUgb3JpZ2luYWwgdmVydGV4IGFuZCB1diBpbmRleC4gLTEgaWYgaXQgZG9lc24ndCBleGlzdCB5ZXQuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBmaW5kSW5kZXgodmVydGV4SW5kZXg6bnVtYmVyIC8qdWludCovLCB1dkluZGV4Om51bWJlciAvKnVpbnQqLyk6bnVtYmVyIC8qaW50Ki9cclxuXHR7XHJcblx0XHR2YXIgbGVuOm51bWJlciAvKnVpbnQqLyA9IHRoaXMuX3ZlcnRJbmRpY2VzLmxlbmd0aDtcclxuXHJcblx0XHRmb3IgKHZhciBpOm51bWJlciAvKnVpbnQqLyA9IDA7IGkgPCBsZW47ICsraSkge1xyXG5cdFx0XHRpZiAodGhpcy5fdmVydEluZGljZXNbaV0gPT0gdmVydGV4SW5kZXggJiYgdGhpcy5fdXZJbmRpY2VzW2ldID09IHV2SW5kZXgpXHJcblx0XHRcdFx0cmV0dXJuIGk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIC0xO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUGFyc2VzIGFsbCB0aGUgZnJhbWUgZ2VvbWV0cmllcy5cclxuXHQgKi9cclxuXHRwcml2YXRlIHBhcnNlRnJhbWVzKClcclxuXHR7XHJcblx0XHR2YXIgc3g6bnVtYmVyLCBzeTpudW1iZXIsIHN6Om51bWJlcjtcclxuXHRcdHZhciB0eDpudW1iZXIsIHR5Om51bWJlciwgdHo6bnVtYmVyO1xyXG5cdFx0dmFyIGdlb21ldHJ5Okdlb21ldHJ5O1xyXG5cdFx0dmFyIHN1Ykdlb206VHJpYW5nbGVTdWJHZW9tZXRyeTtcclxuXHRcdHZhciB2ZXJ0TGVuOm51bWJlciAvKnVpbnQqLyA9IHRoaXMuX3ZlcnRJbmRpY2VzLmxlbmd0aDtcclxuXHRcdHZhciBmdmVydGljZXM6QXJyYXk8bnVtYmVyPjtcclxuXHRcdHZhciB0dmVydGljZXM6QXJyYXk8bnVtYmVyPjtcclxuXHRcdHZhciBpOm51bWJlciAvKnVpbnQqLywgajpudW1iZXIgLyppbnQqLywgazpudW1iZXIgLyp1aW50Ki87XHJcblx0XHQvL3ZhciBjaCA6IG51bWJlciAvKnVpbnQqLztcclxuXHRcdHZhciBuYW1lOnN0cmluZyA9IFwiXCI7XHJcblx0XHR2YXIgcHJldkNsaXA6VmVydGV4Q2xpcE5vZGUgPSBudWxsO1xyXG5cclxuXHRcdHRoaXMuX2J5dGVEYXRhLnBvc2l0aW9uID0gdGhpcy5fb2Zmc2V0RnJhbWVzO1xyXG5cclxuXHRcdGZvciAoaSA9IDA7IGkgPCB0aGlzLl9udW1GcmFtZXM7IGkrKykge1xyXG5cclxuXHRcdFx0dHZlcnRpY2VzID0gbmV3IEFycmF5PG51bWJlcj4oKTtcclxuXHRcdFx0ZnZlcnRpY2VzID0gbmV3IEFycmF5PG51bWJlcj4odmVydExlbiozKTtcclxuXHJcblx0XHRcdHN4ID0gdGhpcy5fYnl0ZURhdGEucmVhZEZsb2F0KCk7XHJcblx0XHRcdHN5ID0gdGhpcy5fYnl0ZURhdGEucmVhZEZsb2F0KCk7XHJcblx0XHRcdHN6ID0gdGhpcy5fYnl0ZURhdGEucmVhZEZsb2F0KCk7XHJcblxyXG5cdFx0XHR0eCA9IHRoaXMuX2J5dGVEYXRhLnJlYWRGbG9hdCgpO1xyXG5cdFx0XHR0eSA9IHRoaXMuX2J5dGVEYXRhLnJlYWRGbG9hdCgpO1xyXG5cdFx0XHR0eiA9IHRoaXMuX2J5dGVEYXRhLnJlYWRGbG9hdCgpO1xyXG5cclxuXHRcdFx0bmFtZSA9IHRoaXMucmVhZEZyYW1lTmFtZSgpO1xyXG5cclxuXHRcdFx0Ly8gTm90ZSwgdGhlIGV4dHJhIGRhdGEucG9zaXRpb24rKyBpbiB0aGUgZm9yIGxvb3AgaXMgdGhlcmVcclxuXHRcdFx0Ly8gdG8gc2tpcCBvdmVyIGEgYnl0ZSB0aGF0IGhvbGRzIHRoZSBcInZlcnRleCBub3JtYWwgaW5kZXhcIlxyXG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgdGhpcy5fbnVtVmVydGljZXM7IGorKywgdGhpcy5fYnl0ZURhdGEucG9zaXRpb24rKylcclxuXHRcdFx0XHR0dmVydGljZXMucHVzaChzeCp0aGlzLl9ieXRlRGF0YS5yZWFkVW5zaWduZWRCeXRlKCkgKyB0eCwgc3kqdGhpcy5fYnl0ZURhdGEucmVhZFVuc2lnbmVkQnl0ZSgpICsgdHksIHN6KnRoaXMuX2J5dGVEYXRhLnJlYWRVbnNpZ25lZEJ5dGUoKSArIHR6KTtcclxuXHJcblx0XHRcdGsgPSAwO1xyXG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgdmVydExlbjsgaisrKSB7XHJcblx0XHRcdFx0ZnZlcnRpY2VzW2srK10gPSB0dmVydGljZXNbdGhpcy5fdmVydEluZGljZXNbal0qM107XHJcblx0XHRcdFx0ZnZlcnRpY2VzW2srK10gPSB0dmVydGljZXNbdGhpcy5fdmVydEluZGljZXNbal0qMyArIDJdO1xyXG5cdFx0XHRcdGZ2ZXJ0aWNlc1trKytdID0gdHZlcnRpY2VzW3RoaXMuX3ZlcnRJbmRpY2VzW2pdKjMgKyAxXTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0c3ViR2VvbSA9IG5ldyBUcmlhbmdsZVN1Ykdlb21ldHJ5KHRydWUpO1xyXG5cclxuXHRcdFx0aWYgKHRoaXMuX2ZpcnN0U3ViR2VvbSA9PSBudWxsKVxyXG5cdFx0XHRcdHRoaXMuX2ZpcnN0U3ViR2VvbSA9IHN1Ykdlb207XHJcblxyXG5cdFx0XHRnZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSgpO1xyXG5cdFx0XHRnZW9tZXRyeS5hZGRTdWJHZW9tZXRyeShzdWJHZW9tKTtcclxuXHJcblx0XHRcdHN1Ykdlb20udXBkYXRlSW5kaWNlcyh0aGlzLl9pbmRpY2VzKTtcclxuXHRcdFx0c3ViR2VvbS51cGRhdGVQb3NpdGlvbnMoZnZlcnRpY2VzKTtcclxuXHRcdFx0c3ViR2VvbS51cGRhdGVVVnModGhpcy5fZmluYWxVVik7XHJcblx0XHRcdHN1Ykdlb20udmVydGV4Tm9ybWFscztcclxuXHRcdFx0c3ViR2VvbS52ZXJ0ZXhUYW5nZW50cztcclxuXHRcdFx0c3ViR2VvbS5hdXRvRGVyaXZlTm9ybWFscyA9IGZhbHNlO1xyXG5cdFx0XHRzdWJHZW9tLmF1dG9EZXJpdmVUYW5nZW50cyA9IGZhbHNlO1xyXG5cclxuXHRcdFx0dmFyIGNsaXA6VmVydGV4Q2xpcE5vZGUgPSB0aGlzLl9jbGlwTm9kZXNbbmFtZV07XHJcblxyXG5cdFx0XHRpZiAoIWNsaXApIHtcclxuXHRcdFx0XHQvLyBJZiBhbm90aGVyIHNlcXVlbmNlIHdhcyBwYXJzZWQgYmVmb3JlIHRoaXMgb25lLCBzdGFydGluZ1xyXG5cdFx0XHRcdC8vIGEgbmV3IHN0YXRlIG1lYW5zIHRoZSBwcmV2aW91cyBvbmUgaXMgY29tcGxldGUgYW5kIGNhblxyXG5cdFx0XHRcdC8vIGhlbmNlIGJlIGZpbmFsaXplZC5cclxuXHRcdFx0XHRpZiAocHJldkNsaXApIHtcclxuXHRcdFx0XHRcdHRoaXMuX3BGaW5hbGl6ZUFzc2V0KHByZXZDbGlwKTtcclxuXHRcdFx0XHRcdHRoaXMuX2FuaW1hdGlvblNldC5hZGRBbmltYXRpb24ocHJldkNsaXApO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Y2xpcCA9IG5ldyBWZXJ0ZXhDbGlwTm9kZSgpO1xyXG5cdFx0XHRcdGNsaXAubmFtZSA9IG5hbWU7XHJcblx0XHRcdFx0Y2xpcC5zdGl0Y2hGaW5hbEZyYW1lID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0dGhpcy5fY2xpcE5vZGVzW25hbWVdID0gY2xpcDtcclxuXHJcblx0XHRcdFx0cHJldkNsaXAgPSBjbGlwO1xyXG5cdFx0XHR9XHJcblx0XHRcdGNsaXAuYWRkRnJhbWUoZ2VvbWV0cnksIDEwMDAvTUQyUGFyc2VyLkZQUyk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gRmluYWxpemUgdGhlIGxhc3Qgc3RhdGVcclxuXHRcdGlmIChwcmV2Q2xpcCkge1xyXG5cdFx0XHR0aGlzLl9wRmluYWxpemVBc3NldChwcmV2Q2xpcCk7XHJcblx0XHRcdHRoaXMuX2FuaW1hdGlvblNldC5hZGRBbmltYXRpb24ocHJldkNsaXApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEZvcmNlIHRoaXMuX3BGaW5hbGl6ZUFzc2V0KCkgdG8gZGVjaWRlIG5hbWVcclxuXHRcdHRoaXMuX3BGaW5hbGl6ZUFzc2V0KHRoaXMuX2FuaW1hdGlvblNldCk7XHJcblxyXG5cdFx0dGhpcy5fcGFyc2VkRnJhbWVzID0gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcmVhZEZyYW1lTmFtZSgpOnN0cmluZ1xyXG5cdHtcclxuXHRcdHZhciBuYW1lOnN0cmluZyA9IFwiXCI7XHJcblx0XHR2YXIgazpudW1iZXIgLyp1aW50Ki8gPSAwO1xyXG5cdFx0Zm9yICh2YXIgajpudW1iZXIgLyp1aW50Ki8gPSAwOyBqIDwgMTY7IGorKykge1xyXG5cdFx0XHR2YXIgY2g6bnVtYmVyIC8qdWludCovID0gdGhpcy5fYnl0ZURhdGEucmVhZFVuc2lnbmVkQnl0ZSgpO1xyXG5cclxuXHRcdFx0aWYgKE1hdGguZmxvb3IoY2gpID4gMHgzOSAmJiBNYXRoLmZsb29yKGNoKSA8PSAweDdBICYmIGsgPT0gMClcclxuXHRcdFx0XHRuYW1lICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoY2gpO1xyXG5cclxuXHRcdFx0aWYgKE1hdGguZmxvb3IoY2gpID49IDB4MzAgJiYgTWF0aC5mbG9vcihjaCkgPD0gMHgzOSlcclxuXHRcdFx0XHRrKys7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbmFtZTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCA9IE1EMlBhcnNlcjsiXX0=